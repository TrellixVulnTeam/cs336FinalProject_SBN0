(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return c});var r=n("30Go"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=o);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:o,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService(i);if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(o)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Object(r.e)(s.value,2),c=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(u);c.resolve(l)}catch(h){}}}catch(d){e={error:d}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===o?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:o:t},t}(),c=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"30Go":function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"h",function(){return c}),n.d(e,"e",function(){return u}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{c(r.next(t))}catch(e){s(e)}}function a(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}c((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(u(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new c(t,this.project,this.concurrent))}}class c extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7Hc7":function(t,e,n){"use strict";n.d(e,"b",function(){return d}),n.d(e,"a",function(){return f});let r=1;const i=(()=>Promise.resolve())(),s={};function o(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=r++;return s[e]=!0,i.then(()=>o(e)&&t()),e},clearImmediate(t){o(t)}};var c=n("3N8a");class u extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var l=n("IjjT");class h extends l.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new h(u),f=d},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),c=n("NJ4a");class u extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof u?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new u(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends u{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(c.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),c=n("Lhse"),u=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(u.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[c.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[c.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return s});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),s=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),c=n("2fFW");let u=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.2.0","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),c=n("c2HN"),u=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(c.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(u.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),c=n("2QA8");class u extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.a](){return new u(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return sn}),n.d(e,"b",function(){return kc}),n.d(e,"c",function(){return _c}),n.d(e,"d",function(){return yc}),n.d(e,"e",function(){return vc}),n.d(e,"f",function(){return pu}),n.d(e,"g",function(){return iu}),n.d(e,"h",function(){return ya}),n.d(e,"i",function(){return Lc}),n.d(e,"j",function(){return Qo}),n.d(e,"k",function(){return Ac}),n.d(e,"l",function(){return $o}),n.d(e,"m",function(){return Er}),n.d(e,"n",function(){return Ga}),n.d(e,"o",function(){return cs}),n.d(e,"p",function(){return mn}),n.d(e,"q",function(){return k}),n.d(e,"r",function(){return rn}),n.d(e,"s",function(){return Ss}),n.d(e,"t",function(){return da}),n.d(e,"u",function(){return fa}),n.d(e,"v",function(){return xc}),n.d(e,"w",function(){return Ta}),n.d(e,"x",function(){return ou}),n.d(e,"y",function(){return Aa}),n.d(e,"z",function(){return Xc}),n.d(e,"A",function(){return Fc}),n.d(e,"B",function(){return gn}),n.d(e,"C",function(){return Sc}),n.d(e,"D",function(){return Ec}),n.d(e,"E",function(){return Ka}),n.d(e,"F",function(){return Zo}),n.d(e,"G",function(){return Ko}),n.d(e,"H",function(){return xr}),n.d(e,"I",function(){return Xo}),n.d(e,"J",function(){return yr}),n.d(e,"K",function(){return yn}),n.d(e,"L",function(){return uu}),n.d(e,"M",function(){return Sa}),n.d(e,"N",function(){return Yc}),n.d(e,"O",function(){return on}),n.d(e,"P",function(){return ea}),n.d(e,"Q",function(){return ta}),n.d(e,"R",function(){return Da}),n.d(e,"S",function(){return D}),n.d(e,"T",function(){return tu}),n.d(e,"U",function(){return Gn}),n.d(e,"V",function(){return f}),n.d(e,"W",function(){return xn}),n.d(e,"X",function(){return Wn}),n.d(e,"Y",function(){return du}),n.d(e,"Z",function(){return $c}),n.d(e,"ab",function(){return Oc}),n.d(e,"bb",function(){return ls}),n.d(e,"cb",function(){return Do}),n.d(e,"db",function(){return gr}),n.d(e,"eb",function(){return Xn}),n.d(e,"fb",function(){return Mn}),n.d(e,"gb",function(){return Un}),n.d(e,"hb",function(){return qn}),n.d(e,"ib",function(){return Hn}),n.d(e,"jb",function(){return Bn}),n.d(e,"kb",function(){return zn}),n.d(e,"lb",function(){return xo}),n.d(e,"mb",function(){return hu}),n.d(e,"nb",function(){return Ao}),n.d(e,"ob",function(){return To}),n.d(e,"pb",function(){return Fn}),n.d(e,"qb",function(){return L}),n.d(e,"rb",function(){return Rs}),n.d(e,"sb",function(){return Zs}),n.d(e,"tb",function(){return Ks}),n.d(e,"ub",function(){return Oo}),n.d(e,"vb",function(){return kt}),n.d(e,"wb",function(){return l}),n.d(e,"xb",function(){return Vn}),n.d(e,"yb",function(){return Os}),n.d(e,"zb",function(){return yt}),n.d(e,"Ab",function(){return Ho}),n.d(e,"Bb",function(){return fi}),n.d(e,"Cb",function(){return Vs}),n.d(e,"Db",function(){return ho}),n.d(e,"Eb",function(){return lc}),n.d(e,"Fb",function(){return W}),n.d(e,"Gb",function(){return tt}),n.d(e,"Hb",function(){return g}),n.d(e,"Ib",function(){return b}),n.d(e,"Jb",function(){return Z}),n.d(e,"Kb",function(){return et}),n.d(e,"Lb",function(){return Us}),n.d(e,"Mb",function(){return Ys}),n.d(e,"Nb",function(){return Gs}),n.d(e,"Ob",function(){return Ws}),n.d(e,"Pb",function(){return Qs}),n.d(e,"Qb",function(){return qs}),n.d(e,"Rb",function(){return $s}),n.d(e,"Sb",function(){return Xe}),n.d(e,"Tb",function(){return wo}),n.d(e,"Ub",function(){return On}),n.d(e,"Vb",function(){return tn}),n.d(e,"Wb",function(){return bc}),n.d(e,"Xb",function(){return Bs}),n.d(e,"Yb",function(){return Js}),n.d(e,"Zb",function(){return fc}),n.d(e,"ac",function(){return ge}),n.d(e,"bc",function(){return me}),n.d(e,"cc",function(){return ro}),n.d(e,"dc",function(){return oo}),n.d(e,"ec",function(){return so}),n.d(e,"fc",function(){return Hs}),n.d(e,"gc",function(){return Ya}),n.d(e,"hc",function(){return Wa}),n.d(e,"ic",function(){return oc}),n.d(e,"jc",function(){return Fs}),n.d(e,"kc",function(){return zt}),n.d(e,"lc",function(){return vr}),n.d(e,"mc",function(){return J}),n.d(e,"nc",function(){return hc}),n.d(e,"oc",function(){return ac}),n.d(e,"pc",function(){return lo}),n.d(e,"qc",function(){return Xs}),n.d(e,"rc",function(){return Co}),n.d(e,"sc",function(){return Ms}),n.d(e,"tc",function(){return yo}),n.d(e,"uc",function(){return vo}),n.d(e,"vc",function(){return _o}),n.d(e,"wc",function(){return cc});var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("w1tV");function c(t){for(let e in t)if(t[e]===c)return e;throw Error("Could not find renamed property on target object.")}function u(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function l(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(l).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const d=c({__forward_ref__:c});function f(t){return t.__forward_ref__=f,t.toString=function(){return l(this())},t}function p(t){return m(t)?t():t}function m(t){return"function"==typeof t&&t.hasOwnProperty(d)&&t.__forward_ref__===f}function g(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function b(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function y(t){return v(t,w)||v(t,E)}function v(t,e){return t.hasOwnProperty(e)?t[e]:null}function _(t){return t&&(t.hasOwnProperty(C)||t.hasOwnProperty(S))?t[C]:null}const w=c({"\u0275prov":c}),C=c({"\u0275inj":c}),E=c({ngInjectableDef:c}),S=c({ngInjectorDef:c});var k=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let O;function x(t){const e=O;return O=t,e}function A(t,e,n){const r=y(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&k.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${l(t)}]`)}function T(t){return{toString:t}.toString()}var I=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),D=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const j="undefined"!=typeof globalThis&&globalThis,R="undefined"!=typeof window&&window,P="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,N="undefined"!=typeof global&&global,L=j||N||R||P,V={},M=[],F=c({"\u0275cmp":c}),U=c({"\u0275dir":c}),B=c({"\u0275pipe":c}),H=c({"\u0275mod":c}),z=c({"\u0275loc":c}),q=c({"\u0275fac":c}),Q=c({__NG_ELEMENT_ID__:c});let Y=0;function W(t){return T(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===I.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||M,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||D.Emulated,id:"c",styles:t.styles||M,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=Y++,n.inputs=X(t.inputs,e),n.outputs=X(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(G):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map($):null,n})}function G(t){return nt(t)||function(t){return t[U]||null}(t)}function $(t){return function(t){return t[B]||null}(t)}const K={};function Z(t){const e={type:t.type,bootstrap:t.bootstrap||M,declarations:t.declarations||M,imports:t.imports||M,exports:t.exports||M,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&T(()=>{K[t.id]=t.type}),e}function J(t,e){return T(()=>{const n=rt(t,!0);n.declarations=e.declarations||M,n.imports=e.imports||M,n.exports=e.exports||M})}function X(t,e){if(null==t)return V;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const tt=W;function et(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function nt(t){return t[F]||null}function rt(t,e){const n=t[H]||null;if(!n&&!0===e)throw new Error(`Type ${l(t)} does not have '\u0275mod' property.`);return n}const it=20,st=10;function ot(t){return Array.isArray(t)&&"object"==typeof t[1]}function at(t){return Array.isArray(t)&&!0===t[1]}function ct(t){return 0!=(8&t.flags)}function ut(t){return 2==(2&t.flags)}function lt(t){return 1==(1&t.flags)}function ht(t){return null!==t.template}function dt(t,e){return t.hasOwnProperty(q)?t[q]:null}class ft extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function pt(t){return"string"==typeof t?t:null==t?"":String(t)}function mt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():pt(t)}function gt(t,e){const n=e?" in "+e:"";throw new ft("201",`No provider for ${mt(t)} found${n}`)}class bt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function yt(){return vt}function vt(t){return t.type.prototype.ngOnChanges&&(t.setInput=wt),_t}function _t(){const t=Ct(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===V)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function wt(t,e,n,r){const i=Ct(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:V,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],c=o[a];s[a]=new bt(c&&c.currentValue,e,o===V),t[r]=e}function Ct(t){return t.__ngSimpleChanges__||null}yt.ngInherit=!0;const Et="http://www.w3.org/2000/svg";let St=void 0;function kt(t){St=t}function Ot(t){return!!t.listen}const xt={createRenderer:(t,e)=>void 0!==St?St:"undefined"!=typeof document?document:void 0};function At(t){for(;Array.isArray(t);)t=t[0];return t}function Tt(t,e){return At(e[t])}function It(t,e){return At(e[t.index])}function Dt(t,e){return t.data[e]}function jt(t,e){const n=e[t];return ot(n)?n:n[0]}function Rt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Pt(t){return 4==(4&t[2])}function Nt(t){return 128==(128&t[2])}function Lt(t,e){return null==e?null:t[e]}function Vt(t){t[18]=0}function Mt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Ft={lFrame:ce(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ut(){return Ft.bindingsEnabled}function Bt(){return Ft.lFrame.lView}function Ht(){return Ft.lFrame.tView}function zt(t){Ft.lFrame.contextLView=t}function qt(){let t=Qt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Qt(){return Ft.lFrame.currentTNode}function Yt(t,e){const n=Ft.lFrame;n.currentTNode=t,n.isParent=e}function Wt(){return Ft.lFrame.isParent}function Gt(){Ft.lFrame.isParent=!1}function $t(){return Ft.isInCheckNoChangesMode}function Kt(t){Ft.isInCheckNoChangesMode=t}function Zt(){const t=Ft.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Jt(){return Ft.lFrame.bindingIndex++}function Xt(t,e){const n=Ft.lFrame;n.bindingIndex=n.bindingRootIndex=t,te(e)}function te(t){Ft.lFrame.currentDirectiveIndex=t}function ee(t){const e=Ft.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function ne(){return Ft.lFrame.currentQueryIndex}function re(t){Ft.lFrame.currentQueryIndex=t}function ie(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function se(t,e,n){if(n&k.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&k.Host||(r=ie(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Ft.lFrame=ae();return r.currentTNode=e,r.lView=t,!0}function oe(t){const e=ae(),n=t[1];Ft.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ae(){const t=Ft.lFrame,e=null===t?null:t.child;return null===e?ce(t):e}function ce(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function ue(){const t=Ft.lFrame;return Ft.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const le=ue;function he(){const t=ue();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function de(){return Ft.lFrame.selectedIndex}function fe(t){Ft.lFrame.selectedIndex=t}function pe(){const t=Ft.lFrame;return Dt(t.tView,t.selectedIndex)}function me(){Ft.lFrame.currentNamespace=Et}function ge(){Ft.lFrame.currentNamespace=null}function be(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function ye(t,e,n){we(t,e,3,n)}function ve(t,e,n,r){(3&t[2])===n&&we(t,e,n,r)}function _e(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function we(t,e,n,r){const i=null!=r?r:-1;let s=0;for(let o=void 0!==r?65535&t[18]:0;o<e.length;o++)if("number"==typeof e[o+1]){if(s=e[o],null!=r&&s>=r)break}else e[o]<0&&(t[18]+=65536),(s<i||-1==i)&&(Ce(t,n,e,o),t[18]=(4294901760&t[18])+o+2),o++}function Ce(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}const Ee=-1;class Se{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function ke(t,e,n){const r=Ot(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],c=n[i++];r?t.setAttribute(e,a,c,o):e.setAttributeNS(o,a,c)}else{const o=s,a=n[++i];xe(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Oe(t){return 3===t||4===t||6===t}function xe(t){return 64===t.charCodeAt(0)}function Ae(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Te(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Te(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Ie(t){return t!==Ee}function De(t){return 32767&t}function je(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Re=!0;function Pe(t){const e=Re;return Re=t,e}let Ne=0;function Le(t,e){const n=Me(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Ve(r.data,t),Ve(e,null),Ve(r.blueprint,null));const i=Fe(t,e),s=t.injectorIndex;if(Ie(i)){const t=De(i),n=je(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function Ve(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Me(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Fe(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Ee;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ee}function Ue(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Q)&&(r=n[Q]),null==r&&(r=n[Q]=Ne++);const i=255&r,s=1<<i,o=64&i,a=32&i,c=e.data;128&i?o?a?c[t+7]|=s:c[t+6]|=s:a?c[t+5]|=s:c[t+4]|=s:o?a?c[t+3]|=s:c[t+2]|=s:a?c[t+1]|=s:c[t]|=s}(t,e,n)}function Be(t,e,n){if(n&k.Optional)return t;gt(e,"NodeInjector")}function He(t,e,n,r){if(n&k.Optional&&void 0===r&&(r=null),0==(n&(k.Self|k.Host))){const i=t[9],s=x(void 0);try{return i?i.get(e,r,n&k.Optional):A(e,r,n&k.Optional)}finally{x(s)}}return Be(r,e,n)}function ze(t,e,n,r=k.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Q)?t[Q]:void 0;return"number"==typeof e?e>=0?255&e:Qe:e}(n);if("function"==typeof s){if(!se(e,t,r))return r&k.Host?Be(i,n,r):He(e,n,r,i);try{const t=s();if(null!=t||r&k.Optional)return t;gt(n)}finally{le()}}else if("number"==typeof s){let i=null,o=Me(t,e),a=Ee,c=r&k.Host?e[16][6]:null;for((-1===o||r&k.SkipSelf)&&(a=-1===o?Fe(t,e):e[o+8],a!==Ee&&Ke(r,!1)?(i=e[1],o=De(a),e=je(a,e)):o=-1);-1!==o;){const t=e[1];if($e(s,o,t.data)){const t=Ye(o,e,n,i,r,c);if(t!==qe)return t}a=e[o+8],a!==Ee&&Ke(r,e[1].data[o+8]===c)&&$e(s,o,e)?(i=t,o=De(a),e=je(a,e)):o=-1}}}return He(e,n,r,i)}const qe={};function Qe(){return new Ze(qt(),Bt())}function Ye(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],c=We(a,o,n,null==r?ut(a)&&Re:r!=o&&0!=(3&a.type),i&k.Host&&s===a);return null!==c?Ge(e,o,c,a):qe}function We(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,c=t.directiveStart,u=s>>20,l=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<l;h++){const t=o[h];if(h<c&&n===t||h>=c&&t.type===n)return h}if(i){const t=o[c];if(t&&ht(t)&&t.type===n)return c}return null}function Ge(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof Se){const o=i;o.resolving&&function(t,e){throw new ft("200","Circular dependency in DI detected for "+t)}(mt(s[n]));const a=Pe(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?x(o.injectImpl):null;se(t,r,k.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=vt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==c&&x(c),Pe(a),o.resolving=!1,le()}}return i}function $e(t,e,n){const r=64&t,i=32&t;let s;return s=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(s&1<<t)}function Ke(t,e){return!(t&k.Self||t&k.Host&&e)}class Ze{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return ze(this._tNode,this._lView,t,void 0,e)}}function Je(t){const e=t;if(m(t))return()=>{const t=Je(p(e));return t?t():null};let n=dt(e);if(null===n){const t=_(e);n=t&&t.factory}return n||null}function Xe(t){return T(()=>{const e=t.prototype.constructor,n=e[q]||Je(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[q]||Je(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function tn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Oe(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(qt(),t)}const en="__parameters__";function nn(t,e,n){return T(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(en)?t[en]:Object.defineProperty(t,en,{value:[]})[en];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class rn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=g({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const sn=new rn("AnalyzeForEntryComponents"),on=Function;function an(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),an(r,e)):e!==t&&e.push(r)}return e}function cn(t,e){t.forEach(t=>Array.isArray(t)?cn(t,e):e(t))}function un(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ln(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function hn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function dn(t,e,n){let r=pn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function fn(t,e){const n=pn(t,e);if(n>=0)return t[1|n]}function pn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const mn=nn("Inject",t=>({token:t})),gn=nn("Optional"),bn=nn("Self"),yn=nn("SkipSelf"),vn={},_n=/\n/gm,wn="__source",Cn=c({provide:String,useValue:c});let En=void 0;function Sn(t){const e=En;return En=t,e}function kn(t,e=k.Default){if(void 0===En)throw new Error("inject() must be called from an injection context");return null===En?A(t,void 0,e):En.get(t,e&k.Optional?null:void 0,e)}function On(t,e=k.Default){return(O||kn)(p(t),e)}const xn=On;function An(t){const e=[];for(let n=0;n<t.length;n++){const r=p(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=k.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof gn||"Optional"===i.ngMetadataName||i===gn?n|=k.Optional:i instanceof yn||"SkipSelf"===i.ngMetadataName||i===yn?n|=k.SkipSelf:i instanceof bn||"Self"===i.ngMetadataName||i===bn?n|=k.Self:t=i instanceof mn||i===mn?i.token:i}e.push(On(t,n))}else e.push(On(r))}return e}let Tn;function In(t){var e;return(null===(e=function(){if(void 0===Tn&&(Tn=null,L.trustedTypes))try{Tn=L.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Tn}())||void 0===e?void 0:e.createHTML(t))||t}class Dn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}class jn extends Dn{getTypeName(){return"HTML"}}class Rn extends Dn{getTypeName(){return"Style"}}class Pn extends Dn{getTypeName(){return"Script"}}class Nn extends Dn{getTypeName(){return"URL"}}class Ln extends Dn{getTypeName(){return"ResourceURL"}}function Vn(t){return t instanceof Dn?t.changingThisBreaksApplicationSecurity:t}function Mn(t,e){const n=Fn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Fn(t){return t instanceof Dn&&t.getTypeName()||null}function Un(t){return new jn(t)}function Bn(t){return new Rn(t)}function Hn(t){return new Pn(t)}function zn(t){return new Nn(t)}function qn(t){return new Ln(t)}let Qn=!0,Yn=!1;function Wn(){return Yn=!0,Qn}function Gn(){if(Yn)throw new Error("Cannot enable prod mode after platform setup.");Qn=!1}class $n{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(In(t),"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class Kn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=In(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=In(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Zn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Jn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Xn(t){return(t=String(t)).match(Zn)||t.match(Jn)?t:(Wn()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see https://g.co/ng/security#xss)`),"unsafe:"+t)}function tr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function er(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const nr=tr("area,br,col,hr,img,wbr"),rr=tr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ir=tr("rp,rt"),sr=er(ir,rr),or=er(nr,er(rr,tr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),er(ir,tr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),sr),ar=tr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),cr=tr("srcset"),ur=er(ar,cr,tr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),tr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),lr=tr("script,style,template");class hr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!or.hasOwnProperty(e))return this.sanitizedSomething=!0,!lr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!ur.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;ar[s]&&(o=Xn(o)),cr[s]&&(r=o,o=(r=String(r)).split(",").map(t=>Xn(t.trim())).join(", ")),this.buf.push(" ",e,'="',pr(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();or.hasOwnProperty(e)&&!nr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(pr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const dr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,fr=/([^\#-~ |!])/g;function pr(t){return t.replace(/&/g,"&amp;").replace(dr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(fr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let mr;function gr(t,e){let n=null;try{mr=mr||function(t){return function(){try{return!!(new window.DOMParser).parseFromString(In(""),"text/html")}catch(t){return!1}}()?new $n:new Kn(t)}(t);let r=e?String(e):"";n=mr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=mr.getInertBodyElement(r)}while(r!==s);const o=new hr,a=o.sanitizeChildren(br(n)||n);return Wn()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see https://g.co/ng/security#xss"),a}finally{if(n){const t=br(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function br(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var yr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function vr(t){const e=function(){const t=Bt();return t&&t[12]}();return e?e.sanitize(yr.URL,t)||"":Mn(t,"URL")?Vn(t):Xn(pt(t))}function _r(t){return t.ngDebugContext}function wr(t){return t.ngOriginalError}function Cr(t,...e){t.error(...e)}class Er{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Cr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?_r(t)?_r(t):this._findContext(wr(t)):null}_findOriginalError(t){let e=wr(t);for(;e&&wr(e);)e=wr(e);return e}}function Sr(t,e){t.__ngContext__=e}const kr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(L))();function Or(t){return t instanceof Function?t():t}var xr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Ar(t,e){return(void 0)(t,e)}function Tr(t){const e=t[3];return at(e)?e[3]:e}function Ir(t){return jr(t[13])}function Dr(t){return jr(t[4])}function jr(t){for(;null!==t&&!at(t);)t=t[4];return t}function Rr(t,e,n,r,i){if(null!=r){let s,o=!1;at(r)?s=r:ot(r)&&(o=!0,r=r[0]);const a=At(r);0===t&&null!==n?null==i?Br(e,n,a):Ur(e,n,a,i||null,!0):1===t&&null!==n?Ur(e,n,a,i||null,!0):2===t?function(t,e,n){const r=zr(t,e);r&&function(t,e,n,r){Ot(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==At(n)&&Rr(e,t,r,s,i);for(let o=st;o<n.length;o++){const i=n[o];Kr(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Pr(t,e,n){return Ot(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Nr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Mt(i,-1)),n.splice(r,1)}function Lr(t,e){if(t.length<=st)return;const n=st+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&Nr(s,r),e>0&&(t[n-1][4]=r[4]);const o=ln(t,st+e);Kr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Vr(t,e){if(!(256&e[2])){const n=e[11];Ot(n)&&n.destroyNode&&Kr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Mr(t[1],t);for(;e;){let n=null;if(ot(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ot(e)&&Mr(e[1],e),e=e[3];null===e&&(e=t),ot(e)&&Mr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Mr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Se)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],s="function"==typeof i?i(e):At(e[i]),o=t[n[r+2]],a=n[r+3];"boolean"==typeof a?s.removeEventListener(n[r],o,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e),1===e[1].type&&Ot(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&at(e[3])){n!==e[3]&&Nr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Fr(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===D.None||e===D.Emulated)return null}return It(r,n)}(t,e.parent,n)}function Ur(t,e,n,r,i){Ot(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Br(t,e,n){Ot(t)?t.appendChild(e,n):e.appendChild(n)}function Hr(t,e,n,r,i){null!==r?Ur(t,e,n,r,i):Br(t,e,n)}function zr(t,e){return Ot(t)?t.parentNode(e):e.parentNode}function qr(t,e,n){return Qr(t,e,n)}let Qr=function(t,e,n){return 40&t.type?It(t,n):null};function Yr(t,e,n,r){const i=Fr(t,r,e),s=e[11],o=qr(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Hr(s,i,n[a],o,!1);else Hr(s,i,n,o,!1)}function Wr(t,e){if(null!==e){const n=e.type;if(3&n)return It(e,t);if(4&n)return Gr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Wr(t,n);{const n=t[e.index];return at(n)?Gr(-1,n):At(n)}}if(32&n)return Ar(e,t)()||At(t[e.index]);{const n=t[16],r=n[6],i=Tr(n),s=r.projection[e.projection];return null!=s?Wr(i,s):Wr(t,e.next)}}return null}function Gr(t,e){const n=st+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Wr(t,r)}return e[7]}function $r(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===e&&(a&&Sr(At(a),r),n.flags|=4),64!=(64&n.flags))if(8&c)$r(t,e,n.child,r,i,s,!1),Rr(e,t,i,a,s);else if(32&c){const o=Ar(n,r);let c;for(;c=o();)Rr(e,t,i,c,s);Rr(e,t,i,a,s)}else 16&c?Zr(t,e,r,n,i,s):Rr(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Kr(t,e,n,r,i,s){$r(n,r,t.firstChild,e,i,s,!1)}function Zr(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)Rr(e,t,i,a[c],s);else $r(t,e,a,o[3],i,s,!0)}function Jr(t,e,n){Ot(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Xr(t,e,n){Ot(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function ti(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const ei="ng-template";function ni(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==ti(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ri(t){return 4===t.type&&t.value!==ei}function ii(t,e,n){return e===(4!==t.type||n?t.value:ei)}function si(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Oe(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!ii(t,c,n)||""===c&&1===e.length){if(oi(r))return!1;o=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!ni(t.attrs,u,n)){if(oi(r))return!1;o=!0}continue}const l=ai(8&r?"class":c,i,ri(t),n);if(-1===l){if(oi(r))return!1;o=!0;continue}if(""!==u){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==ti(e,u,0)||2&r&&u!==t){if(oi(r))return!1;o=!0}}}}else{if(!o&&!oi(r)&&!oi(c))return!1;if(o&&oi(c))continue;o=!1,r=c|1&r}}return oi(r)||o}function oi(t){return 0==(1&t)}function ai(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ci(t,e,n=!1){for(let r=0;r<e.length;r++)if(si(t,e[r],n))return!0;return!1}function ui(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function li(t,e){return t?":not("+e.trim()+")":e}function hi(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||oi(o)||(e+=li(s,i),i=""),r=o,s=s||!oi(r);n++}return""!==i&&(e+=li(s,i)),e}const di={};function fi(t){pi(Ht(),Bt(),de()+t,$t())}function pi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&ye(e,r,n)}else{const r=t.preOrderHooks;null!==r&&ve(e,r,0,n)}fe(n)}function mi(t,e){return t<<17|e<<2}function gi(t){return t>>17&32767}function bi(t){return 2|t}function yi(t){return(131068&t)>>2}function vi(t,e){return-131069&t|e<<2}function _i(t){return 1|t}function wi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];re(i),n.contentQueries(2,e[s],s)}}}function Ci(t,e,n,r,i,s,o,a,c,u){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Vt(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=c||t&&t[12]||null,l[9]=u||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function Ei(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=Qt(),o=Wt(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(t,e,n,r,i),Ft.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=function(){const t=Ft.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===t?-1:t.injectorIndex}return Yt(s,!0),s}function Si(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ki(t,e,n){oe(e);try{const r=t.viewQuery;null!==r&&es(1,r,n);const i=t.template;null!==i&&Ai(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&wi(t,e),t.staticViewQueries&&es(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Ki(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,he()}}function Oi(t,e,n,r){const i=e[2];if(256==(256&i))return;oe(e);const s=$t();try{Vt(e),Ft.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Ai(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&ye(e,n,null)}else{const n=t.preOrderHooks;null!==n&&ve(e,n,0,null),_e(e,0)}if(function(t){for(let e=Ir(t);null!==e;e=Dr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Mt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Ir(t);null!==e;e=Dr(e))for(let t=st;t<e.length;t++){const n=e[t],r=n[1];Nt(n)&&Oi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&wi(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&ye(e,n)}else{const n=t.contentHooks;null!==n&&ve(e,n,1),_e(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)fe(~r);else{const i=r,s=n[++t],o=n[++t];Xt(s,i),o(2,e[i])}}}finally{fe(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Gi(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&es(2,c,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&ye(e,n)}else{const n=t.viewHooks;null!==n&&ve(e,n,2),_e(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Mt(e[3],-1))}finally{he()}}function xi(t,e,n,r){const i=e[10],s=!$t(),o=Pt(e);try{s&&!o&&i.begin&&i.begin(),o&&ki(t,e,r),Oi(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function Ai(t,e,n,r,i){const s=de();try{fe(-1),2&r&&e.length>it&&pi(t,e,it,$t()),n(r,i)}finally{fe(s)}}function Ti(t,e,n){if(ct(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Ii(t,e,n){Ut()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Le(n,e),Sr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=ht(r);s&&qi(e,n,r);const c=Ge(e,t,a,n);Sr(c,e),null!==o&&Qi(0,a-i,c,r,0,o),s&&(jt(n.index,e)[8]=c)}}(t,e,n,It(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Ft.lFrame.currentDirectiveIndex;try{fe(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];te(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Fi(r,i)}}finally{fe(-1),te(o)}}(t,e,n))}function Di(t,e,n=It){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function ji(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ri(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ri(t,e,n,r,i,s,o,a,c,u){const l=it+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:di);return n}(l,h),f="function"==typeof u?u():u;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:f,incompleteFirstPass:!1}}function Pi(t,e,n,r){const i=rs(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function Ni(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Li(t,e,n,r,i,s,o,a){const c=It(e,n);let u,l=e.inputs;!a&&null!=l&&(u=l[r])?(os(t,n,u,r,i),ut(e)&&function(t,e){const n=jt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,Ot(s)?s.setProperty(c,r,i):xe(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function Vi(t,e,n,r){let i=!1;if(Ut()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];ci(n,o.selectors,!1)&&(i||(i=[]),Ue(Le(n,e),t,o.type),ht(o)?(Ui(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Hi(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,c=Si(t,e,s.length,null);for(let i=0;i<s.length;i++){const u=s[i];n.mergedAttrs=Ae(n.mergedAttrs,u.hostAttrs),zi(t,n,e,c,u),Bi(c,u,o),null!==u.contentQueries&&(n.flags|=8),null===u.hostBindings&&null===u.hostAttrs&&0===u.hostVars||(n.flags|=128);const l=u.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),c++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let c=e.directiveStart;c<n;c++){const t=r[c],n=t.inputs,u=null===i||ri(e)?null:Yi(n,i);s.push(u),o=Ni(n,c,o),a=Ni(t.outputs,c,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new ft("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Ae(n.mergedAttrs,n.attrs),i}function Mi(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function Fi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ui(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Bi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ht(e)&&(n[""]=t)}}function Hi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function zi(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=dt(i.type)),o=new Se(s,ht(i),null);t.blueprint[r]=o,n[r]=o,Mi(t,e,0,r,Si(t,n,i.hostVars,di),i)}function qi(t,e,n){const r=It(e,t),i=ji(n),s=t[10],o=Zi(t,Ci(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function Qi(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function Yi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Wi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Gi(t,e){const n=jt(e,t);if(Nt(n)){const t=n[1];80&n[2]?Oi(t,n,t.template,n[8]):n[5]>0&&$i(n)}}function $i(t){for(let n=Ir(t);null!==n;n=Dr(n))for(let t=st;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Oi(t,e,t.template,e[8])}else e[5]>0&&$i(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=jt(e[n],t);Nt(r)&&r[5]>0&&$i(r)}}function Ki(t,e){const n=jt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),ki(r,n,n[8])}function Zi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Ji(t){for(;t;){t[2]|=64;const e=Tr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Xi(t,e,n){const r=e[10];r.begin&&r.begin();try{Oi(t,e,t.template,n)}catch(i){throw ss(e,i),i}finally{r.end&&r.end()}}function ts(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Rt(n),i=r[1];xi(i,r,i.template,n)}}(t[8])}function es(t,e,n){re(0),e(t,n)}const ns=(()=>Promise.resolve(null))();function rs(t){return t[7]||(t[7]=[])}function is(t,e,n){return(null===t||ht(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function ss(t,e){const n=t[9],r=n?n.get(Er,null):null;r&&r.handleError(e)}function os(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],c=e[o],u=t.data[o];null!==u.setInput?u.setInput(c,i,r,a):c[a]=i}}function as(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=h(i,t):2==s&&(r=h(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const cs=new rn("INJECTOR",-1);class us{get(t,e=vn){if(e===vn){const e=new Error(`NullInjectorError: No provider for ${l(t)}!`);throw e.name="NullInjectorError",e}return e}}const ls=new rn("Set Injector scope."),hs={},ds={},fs=[];let ps=void 0;function ms(){return void 0===ps&&(ps=new us),ps}function gs(t,e=null,n=null,r){return new bs(t,n,e||ms(),r)}class bs{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&cn(e,n=>this.processProvider(n,t,e)),cn([t],t=>this.processInjectorType(t,[],i)),this.records.set(cs,_s(void 0,this));const s=this.records.get(ls);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:l(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=vn,n=k.Default){this.assertNotDestroyed();const r=Sn(this);try{if(!(n&k.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof rn)&&y(t);e=n&&this.injectableDefInScope(n)?_s(ys(t),hs):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&k.Self?ms():this.parent).get(t,e=n&k.Optional&&e===vn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(l(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[wn]&&i.unshift(e[wn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=l(e);if(Array.isArray(e))i=e.map(l).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):l(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(_n,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{Sn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(l(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=p(t)))return!1;let r=_(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=_(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{cn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];cn(r,t=>this.processProvider(t,n,r||fs))}}this.injectorDefTypes.add(s),this.records.set(s,_s(r.factory,hs));const a=r.providers;if(null!=a&&!o){const e=t;cn(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Cs(t=p(t))?t:p(t&&t.provide);const i=function(t,e,n){return ws(t)?_s(void 0,t.useValue):_s(vs(t),hs)}(t);if(Cs(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=_s(void 0,hs,!0),e.factory=()=>An(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===hs&&(e.value=ds,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function ys(t){const e=y(t),n=null!==e?e.factory:dt(t);if(null!==n)return n;const r=_(t);if(null!==r)return r.factory;if(t instanceof rn)throw new Error(`Token ${l(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=hn(e,"?");throw new Error(`Can't resolve all parameters for ${l(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[w]||t[E]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function vs(t,e,n){let r=void 0;if(Cs(t)){const e=p(t);return dt(e)||ys(e)}if(ws(t))r=()=>p(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...An(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>On(p(t.useExisting));else{const e=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return dt(e)||ys(e);r=()=>new e(...An(t.deps))}var i;return r}function _s(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ws(t){return null!==t&&"object"==typeof t&&Cn in t}function Cs(t){return"function"==typeof t}const Es=function(t,e,n){return function(t,e=null,n=null,r){const i=gs(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Ss=(()=>{class t{static create(t,e){return Array.isArray(t)?Es(t,e,""):Es(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=vn,t.NULL=new us,t.\u0275prov=g({token:t,providedIn:"any",factory:()=>On(cs)}),t.__NG_ELEMENT_ID__=-1,t})();function ks(t,e){be(Rt(t)[1],qt())}function Os(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(ht(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=xs(t.inputs),e.declaredInputs=xs(t.declaredInputs),e.outputs=xs(t.outputs);const n=i.hostBindings;n&&Is(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&As(t,s),o&&Ts(t,o),u(t.inputs,i.inputs),u(t.declaredInputs,i.declaredInputs),u(t.outputs,i.outputs),ht(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Os&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ae(i.hostAttrs,n=Ae(n,i.hostAttrs))}}(r)}function xs(t){return t===V?{}:t===M?[]:t}function As(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Ts(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Is(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Ds=null;function js(){if(!Ds){const t=L.Symbol;if(t&&t.iterator)Ds=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ds=n)}}}return Ds}function Rs(t){return!!Ps(t)&&(Array.isArray(t)||!(t instanceof Map)&&js()in t)}function Ps(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ns(t,e,n){return t[e]=n}function Ls(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Vs(t,e,n,r){const i=Bt();return Ls(i,Jt(),e)&&(Ht(),function(t,e,n,r,i,s){const o=It(t,e);!function(t,e,n,r,i,s,o){if(null==s)Ot(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?pt(s):o(s,r||"",i);Ot(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],o,s,t.value,n,r,i)}(pe(),i,t,e,n,r)),Vs}function Ms(t,e,n,r,i,s,o,a){const c=Bt(),u=Ht(),l=t+it,h=u.firstCreatePass?function(t,e,n,r,i,s,o,a,c){const u=e.consts,l=Ei(e,t,4,o||null,Lt(u,a));Vi(e,n,l,Lt(u,c)),be(e,l);const h=l.tViews=Ri(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,u,c,e,n,r,i,s,o):u.data[l];Yt(h,!1);const d=c[11].createComment("");Yr(u,c,d,h),Sr(d,c),Zi(c,c[l]=Wi(d,c,d,h)),lt(h)&&Ii(u,c,h),null!=o&&Di(c,h,a)}function Fs(t){return function(t,e){return t[e]}(Ft.lFrame.contextLView,it+t)}function Us(t,e=k.Default){const n=Bt();return null===n?On(t,e):ze(qt(),n,p(t),e)}function Bs(){throw new Error("invalid")}function Hs(t,e,n){const r=Bt();return Ls(r,Jt(),e)&&Li(Ht(),pe(),r,t,e,r[11],n,!1),Hs}function zs(t,e,n,r,i){const s=i?"class":"style";os(t,n,e.inputs[s],s,r)}function qs(t,e,n,r){const i=Bt(),s=Ht(),o=it+t,a=i[11],c=i[o]=Pr(a,e,Ft.lFrame.currentNamespace),u=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,c=Ei(e,t,2,i,Lt(a,s));return Vi(e,n,c,Lt(a,o)),null!==c.attrs&&as(c,c.attrs,!1),null!==c.mergedAttrs&&as(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];Yt(u,!0);const l=u.mergedAttrs;null!==l&&ke(a,c,l);const h=u.classes;null!==h&&Xr(a,c,h);const d=u.styles;null!==d&&Jr(a,c,d),64!=(64&u.flags)&&Yr(s,i,c,u),0===Ft.lFrame.elementDepthCount&&Sr(c,i),Ft.lFrame.elementDepthCount++,lt(u)&&(Ii(s,i,u),Ti(s,u,i)),null!==r&&Di(i,u)}function Qs(){let t=qt();Wt()?Gt():(t=t.parent,Yt(t,!1));const e=t;Ft.lFrame.elementDepthCount--;const n=Ht();n.firstCreatePass&&(be(n,t),ct(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&zs(n,e,Bt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&zs(n,e,Bt(),e.stylesWithoutHost,!1)}function Ys(t,e,n,r){qs(t,e,n,r),Qs()}function Ws(t,e,n){const r=Bt(),i=Ht(),s=t+it,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=Lt(s,r),a=Ei(e,t,8,"ng-container",o);return null!==o&&as(a,o,!0),Vi(e,n,a,Lt(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];Yt(o,!0);const a=r[s]=r[11].createComment("");Yr(i,r,a,o),Sr(a,r),lt(o)&&(Ii(i,r,o),Ti(i,o,r)),null!=n&&Di(r,o)}function Gs(){let t=qt();const e=Ht();Wt()?Gt():(t=t.parent,Yt(t,!1)),e.firstCreatePass&&(be(e,t),ct(t)&&e.queries.elementEnd(t))}function $s(){return Bt()}function Ks(t){return!!t&&"function"==typeof t.then}function Zs(t){return!!t&&"function"==typeof t.subscribe}function Js(t,e,n=!1,r){const i=Bt(),s=Ht(),o=qt();return to(s,i,i[11],o,t,e,n,r),Js}function Xs(t,e,n=!1,r){const i=qt(),s=Bt(),o=Ht();return to(o,s,is(ee(o.data),i,s),i,t,e,n,r),Xs}function to(t,e,n,r,i,s,o=!1,a){const c=lt(r),u=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=rs(e);let h=!0;if(3&r.type){const d=It(r,e),f=a?a(d):V,p=f.target||d,m=l.length,g=a?t=>a(At(t[r.index])).target:r.index;if(Ot(n)){let o=null;if(!a&&c&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=no(r,e,s,!1);const t=n.listen(f.name||p,i,s);l.push(s,t),u&&u.push(i,g,m,m+1)}}else s=no(r,e,s,!0),p.addEventListener(i,s,o),l.push(s),u&&u.push(i,g,m,o)}else s=no(r,e,s,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(s),o=l.length;l.push(s,t),u&&u.push(i,r.index,o,-(o+1))}}}function eo(t,e,n){try{return!1!==e(n)}catch(r){return ss(t,r),!1}}function no(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?jt(t.index,e):e;0==(32&e[2])&&Ji(o);let a=eo(e,n,s),c=i.__ngNextListenerFn__;for(;c;)a=eo(e,c,s)&&a,c=c.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function ro(t=1){return function(t){return(Ft.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ft.lFrame.contextLView))[8]}(t)}function io(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?ci(t,s,!0):ui(r,s))return i}else n=i}return n}function so(t){const e=Bt()[16][6];if(!e.projection){const n=e.projection=hn(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?io(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function oo(t,e=0,n){const r=Bt(),i=Ht(),s=Ei(i,it+t,16,null,n||null);null===s.projection&&(s.projection=e),Gt(),64!=(64&s.flags)&&function(t,e,n){Zr(e[11],0,e,n,Fr(t,n,e),qr(n.parent||e[6],n,e))}(i,r,s)}const ao=[];function co(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?gi(s):yi(s),c=!1;for(;0!==a&&(!1===c||o);){const n=t[a+1];uo(t[a],e)&&(c=!0,t[a+1]=r?_i(n):bi(n)),a=r?gi(n):yi(n)}c&&(t[n+1]=r?bi(s):_i(s))}function uo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&pn(t,e)>=0}function lo(t,e,n){return fo(t,e,n,!1),lo}function ho(t,e){return fo(t,e,null,!0),ho}function fo(t,e,n,r){const i=Bt(),s=Ht(),o=function(t){const e=Ft.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();s.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[de()],o=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(t.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=ee(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=mo(n=po(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=po(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==yi(r))return t[gi(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=po(null,t,e,n[1],r),n=mo(n,e.attrs,r),function(t,e,n,r){t[gi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=mo(r,t[s].hostAttrs,n);return mo(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=gi(o),c=yi(o);t[r]=n;let u,l=!1;if(Array.isArray(n)){const t=n;u=t[1],(null===u||pn(t,u)>0)&&(l=!0)}else u=n;if(i)if(0!==c){const e=gi(t[a+1]);t[r+1]=mi(e,a),0!==e&&(t[e+1]=vi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=mi(a,0),0!==a&&(t[a+1]=vi(t[a+1],r)),a=r;else t[r+1]=mi(c,0),0===a?a=r:t[c+1]=vi(t[c+1],r),c=r;l&&(t[r+1]=bi(t[r+1])),co(t,u,r,!0),co(t,u,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&pn(s,e)>=0&&(n[r+1]=_i(n[r+1]))}(e,u,t,r,s),o=mi(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==di&&Ls(i,o,e)&&function(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const c=t.data,u=c[a+1];bo(1==(1&u)?go(c,e,n,i,yi(u),o):void 0)||(bo(s)||function(t){return 2==(2&t)}(u)&&(s=go(c,null,n,i,a,o)),function(t,e,n,r,i){const s=Ot(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:xr.DashCase;if(null==i)s?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),e|=xr.Important),s?t.setStyle(n,r,i,e):n.style.setProperty(r,i,o?"important":"")}}}(r,o,Tt(de(),n),i,s))}(s,s.data[de()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=l(Vn(t)))),t}(e,n),r,o)}function po(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=mo(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function mo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),dn(t,o,!!n||e[++s]))}return void 0===t?null:t}function go(t,e,n,r,i,s){const o=null===e;let a=void 0;for(;i>0;){const e=t[i],s=Array.isArray(e),c=s?e[1]:e,u=null===c;let l=n[i+1];l===di&&(l=u?ao:void 0);let h=u?fn(l,r):c===r?l:void 0;if(s&&!bo(h)&&(h=fn(e,r)),bo(h)&&(a=h,o))return a;const d=t[i+1];i=o?gi(d):yi(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=fn(t,r))}return a}function bo(t){return void 0!==t}function yo(t,e=""){const n=Bt(),r=Ht(),i=t+it,s=r.firstCreatePass?Ei(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return Ot(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Yr(r,n,o,s),Yt(s,!1)}function vo(t){return _o("",t,""),vo}function _o(t,e,n){const r=Bt(),i=function(t,e,n,r){return Ls(t,Jt(),n)?e+pt(n)+r:di}(r,t,e,n);return i!==di&&function(t,e,n){const r=Tt(e,t);!function(t,e,n){Ot(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,de(),i),_o}function wo(t,e,n){const r=Bt();return Ls(r,Jt(),e)&&Li(Ht(),pe(),r,t,e,r[11],n,!0),wo}function Co(t,e,n){const r=Bt();if(Ls(r,Jt(),e)){const i=Ht(),s=pe();Li(i,s,r,t,e,is(ee(i.data),s,r),n,!0)}return Co}const Eo=void 0;var So=["en",[["a","p"],["AM","PM"],Eo],[["AM","PM"],Eo,Eo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Eo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Eo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Eo,"{1} 'at' {0}",Eo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let ko={};function Oo(t,e,n){"string"!=typeof e&&(n=e,e=t[Do.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),ko[e]=t,n&&(ko[e][Do.ExtraData]=n)}function xo(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Io(e);if(n)return n;const r=e.split("-")[0];if(n=Io(r),n)return n;if("en"===r)return So;throw new Error(`Missing locale data for the locale "${t}".`)}function Ao(t){return xo(t)[Do.CurrencyCode]||null}function To(t){return xo(t)[Do.PluralCase]}function Io(t){return t in ko||(ko[t]=L.ng&&L.ng.common&&L.ng.common.locales&&L.ng.common.locales[t]),ko[t]}var Do=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const jo="en-US";let Ro=jo;function Po(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Ro=t.toLowerCase().replace(/_/g,"-"))}function No(t,e,n,r,i){if(t=p(t),Array.isArray(t))for(let s=0;s<t.length;s++)No(t[s],e,n,r,i);else{const s=Ht(),o=Bt();let a=Cs(t)?t:p(t.provide),c=vs(t);const u=qt(),l=1048575&u.providerIndexes,h=u.directiveStart,d=u.providerIndexes>>20;if(Cs(t)||!t.multi){const r=new Se(c,i,Us),f=Mo(a,e,i?l:l+d,h);-1===f?(Ue(Le(u,o),s,a),Lo(s,t,e.length),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=Mo(a,e,l+d,h),p=Mo(a,e,l,l+d),m=f>=0&&n[f],g=p>=0&&n[p];if(i&&!g||!i&&!m){Ue(Le(u,o),s,a);const l=function(t,e,n,r,i){const s=new Se(t,n,Us);return s.multi=[],s.index=e,s.componentProviders=0,Vo(s,i,r&&!n),s}(i?Uo:Fo,n.length,i,r,c);!i&&g&&(n[p].providerFactory=l),Lo(s,t,e.length,0),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(l),o.push(l)}else Lo(s,t,f>-1?f:p,Vo(n[i?p:f],c,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function Lo(t,e,n,r){const i=Cs(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function Vo(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Mo(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Fo(t,e,n,r){return Bo(this.multi,[])}function Uo(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Ge(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),Bo(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],Bo(i,s);return s}function Bo(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ho(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Ht();if(r.firstCreatePass){const i=ht(t);No(n,r.data,r.blueprint,i,!0),No(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class zo{}class qo{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${l(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Qo=(()=>{class t{}return t.NULL=new qo,t})();function Yo(...t){}function Wo(t,e){return new $o(It(t,e))}const Go=function(){return Wo(qt(),Bt())};let $o=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Go,t})();class Ko{}let Zo=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Jo(),t})();const Jo=function(){const t=Bt(),e=jt(qt().index,t);return function(t){return t[11]}(ot(e)?e:t)};let Xo=(()=>{class t{}return t.\u0275prov=g({token:t,providedIn:"root",factory:()=>null}),t})();class ta{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const ea=new ta("11.0.3");class na{constructor(){}supports(t){return Rs(t)}create(t){return new ia(t)}}const ra=(t,e)=>e;class ia{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ra}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<ca(n,r,i)?e:n,o=ca(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Rs(t))throw new Error(`Error trying to diff '${l(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[js()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new sa(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new aa),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new aa),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class sa{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class oa{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class aa{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new oa,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ca(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class ua{constructor(){}supports(t){return t instanceof Map||Ps(t)}create(){return new la}}class la{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Ps(t)))throw new Error(`Error trying to diff '${l(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ha(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ha{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let da=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new yn,new gn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=g({token:t,providedIn:"root",factory:()=>new t([new na])}),t})(),fa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new yn,new gn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=g({token:t,providedIn:"root",factory:()=>new t([new ua])}),t})();function pa(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(At(s)),at(s))for(let t=st;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&pa(e[1],e,n,r)}const o=n.type;if(8&o)pa(t,e,n.child,r);else if(32&o){const t=Ar(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=Tr(t);pa(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class ma{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return pa(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Vr(this._lView[1],this._lView)}onDestroy(t){Pi(this._lView[1],this._lView,null,t)}markForCheck(){Ji(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Xi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Kt(!0);try{Xi(t,e,n)}finally{Kt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Kr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ga extends ma{constructor(t){super(t),this._view=t}detectChanges(){ts(this._view)}checkNoChanges(){!function(t){Kt(!0);try{ts(t)}finally{Kt(!1)}}(this._view)}get context(){return null}}const ba=va;let ya=(()=>{class t{}return t.__NG_ELEMENT_ID__=ba,t.__ChangeDetectorRef__=!0,t})();function va(t=!1){return function(t,e,n){if(!n&&ut(t)){const n=jt(t.index,e);return new ma(n,n)}return 47&t.type?new ma(e[16],e):null}(qt(),Bt(),t)}const _a=[new ua],wa=new da([new na]),Ca=new fa(_a),Ea=function(){return xa(qt(),Bt())};let Sa=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ea,t})();const ka=Sa,Oa=class extends ka{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Ci(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),ki(e,n,t),new ma(n)}};function xa(t,e){return 4&t.type?new Oa(e,t,Wo(t,e)):null}class Aa{}class Ta{}const Ia=function(){return La(qt(),Bt())};let Da=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ia,t})();const ja=Da,Ra=class extends ja{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Wo(this._hostTNode,this._hostLView)}get injector(){return new Ze(this._hostTNode,this._hostLView)}get parentInjector(){const t=Fe(this._hostTNode,this._hostLView);if(Ie(t)){const e=je(t,this._hostLView),n=De(t);return new Ze(e[1].data[n+8],e)}return new Ze(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Pa(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-st}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(Aa,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(at(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Ra(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=st+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-st?(e[4]=n[i],un(n,st+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=Gr(i,s),a=n[11],c=zr(a,s[7]);return null!==c&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,Kr(t,r,n,1,i,s)}(r,s[6],a,n,c,o),t.attachToViewContainerRef(this),un(Na(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Pa(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Lr(this._lContainer,e);n&&(ln(Na(this._lContainer),e),Vr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Lr(this._lContainer,e);return n&&null!=ln(Na(this._lContainer),e)?new ma(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Pa(t){return t[8]}function Na(t){return t[8]||(t[8]=[])}function La(t,e){let n;const r=e[t.index];if(at(r))n=r;else{let i;if(8&t.type)i=At(r);else{const n=e[11];i=n.createComment("");const r=It(t,e);Ur(n,zr(n,r),i,function(t,e){return Ot(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Wi(r,e,i,t),Zi(e,n)}return new Ra(n,t,e)}const Va={};class Ma extends Qo{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=nt(t);return new Ba(e,this.ngModule)}}function Fa(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Ua=new rn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>kr});class Ba extends zo{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(hi).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Fa(this.componentDef.inputs)}get outputs(){return Fa(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,Va,i);return s!==Va||r===Va?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(Ko,xt),o=i.get(Xo,null),a=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=n?function(t,e,n){if(Ot(t))return t.selectRootElement(e,n===D.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Pr(s.createRenderer(null,this.componentDef),c,function(t){const e=t.toLowerCase();return"svg"===e?Et:"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:kr,clean:ns,playerHandler:null,flags:0},d=Ri(0,null,null,1,0,null,null,null,null,null),f=Ci(null,d,h,l,null,null,s,a,o,i);let p,m;oe(f);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=Ei(o,20,2,"#host",null),c=a.mergedAttrs=e.hostAttrs;null!==c&&(as(a,c,!0),null!==t&&(ke(i,t,c),null!==a.classes&&Xr(i,t,a.classes),null!==a.styles&&Jr(i,t,a.styles)));const u=r.createRenderer(t,e),l=Ci(n,ji(e),null,e.onPush?64:16,n[20],a,r,u,null,null);return o.firstCreatePass&&(Ue(Le(a,n),o,e.type),Ui(o,a),Hi(a,n.length,1)),Zi(n,l),n[20]=l}(u,this.componentDef,f,s,a);if(u)if(n)ke(a,u,["ng-version",ea.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!oi(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&ke(a,u,t),e&&e.length>0&&Xr(a,u,e.join(" "))}if(m=Dt(d,it),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=qt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),zi(t,r,e,Si(t,e,1,null),n));const i=Ge(e,t,r.directiveStart,r);Sr(i,e);const s=It(r,e);return s&&Sr(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=qt();e.contentQueries(1,o,t.directiveStart)}const a=qt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(fe(a.index),Mi(n[1],a,0,a.directiveStart,a.directiveEnd,e),Fi(e,o)),o}(t,this.componentDef,f,h,[ks]),ki(d,f,null)}finally{he()}return new Ha(this.componentType,p,Wo(m,f),f,m)}}class Ha extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new ga(r),this.componentType=t}get injector(){return new Ze(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const za=new Map;class qa extends Aa{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ma(this);const n=rt(t),r=t[z]||null;r&&Po(r),this._bootstrapComponents=Or(n.bootstrap),this._r3Injector=gs(t,e,[{provide:Aa,useValue:this},{provide:Qo,useValue:this.componentFactoryResolver}],l(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Ss.THROW_IF_NOT_FOUND,n=k.Default){return t===Ss||t===Aa||t===cs?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Qa extends Ta{constructor(t){super(),this.moduleType=t,null!==rt(t)&&function(t){const e=new Set;!function t(n){const r=rt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${l(e)} vs ${l(e.name)}`)}(i,za.get(i),n),za.set(i,n));const s=Or(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new qa(this.moduleType,t)}}function Ya(t,e,n){const r=Zt()+t,i=Bt();return i[r]===di?Ns(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function Wa(t,e,n,r){return function(t,e,n,r,i,s){const o=e+n;return Ls(t,o,i)?Ns(t,o+1,s?r.call(s,i):r(i)):function(t,e){const n=t[e];return n===di?void 0:n}(t,o+1)}(Bt(),Zt(),t,e,n,r)}const Ga=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,s=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,s,o);return t instanceof i.a&&t.add(a),a}};function $a(){return this._results[js()]()}class Ka{constructor(){this.dirty=!0,this._results=[],this.changes=new Ga,this.length=0;const t=js(),e=Ka.prototype;e[t]||(e[t]=$a)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=an(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Za{constructor(t){this.queryList=t,this.matches=null}clone(){return new Za(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ja{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Ja(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==gc(t,e).matches&&this.queries[e].setDirty()}}class Xa{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class tc{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new tc(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class ec{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new ec(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,nc(e,i)),this.matchTNodeWithReadOption(t,e,We(e,t,i,!1,!1))}else n===Sa?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,We(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===$o||r===Da||r===Sa&&4&e.type)this.addMatch(e.index,-2);else{const n=We(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function nc(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function rc(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Wo(t,e):4&t.type?xa(t,e):null}(e,t):-2===n?function(t,e,n){return n===$o?Wo(e,t):n===Sa?xa(e,t):n===Da?La(e,t):void 0}(t,e,r):Ge(t,t[1],n,e)}function ic(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:rc(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function sc(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=ic(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=st;t<o.length;t++){const e=o[t];e[17]===e[3]&&sc(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];sc(n[1],n,i,r)}}}}}return r}function oc(t){const e=Bt(),n=Ht(),r=ne();re(r+1);const i=gc(n,r);if(t.dirty&&Pt(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?sc(n,e,r,[]):ic(n,e,i,r);t.reset(s),t.notifyOnChanges()}return!0}return!1}function ac(t,e,n){uc(Ht(),Bt(),t,e,n,!0)}function cc(t,e,n){uc(Ht(),Bt(),t,e,n,!1)}function uc(t,e,n,r,i,s){t.firstCreatePass&&(mc(t,new Xa(n,r,s,i),-1),s&&(t.staticViewQueries=!0)),pc(t,e)}function lc(t,e,n,r){dc(Ht(),Bt(),e,n,r,!1,qt(),t)}function hc(t,e,n,r){dc(Ht(),Bt(),e,n,r,!0,qt(),t)}function dc(t,e,n,r,i,s,o,a){t.firstCreatePass&&(mc(t,new Xa(n,r,s,i),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a),s&&(t.staticContentQueries=!0)),pc(t,e)}function fc(){return t=Bt(),e=ne(),t[19].queries[e].queryList;var t,e}function pc(t,e){const n=new Ka;Pi(t,e,n,n.destroy),null===e[19]&&(e[19]=new Ja),e[19].queries.push(new Za(n))}function mc(t,e,n){null===t.queries&&(t.queries=new tc),t.queries.track(new ec(e,n))}function gc(t,e){return t.queries.getByIndex(e)}function bc(t=k.Default){const e=va(!0);if(null!=e||t&k.Optional)return e;gt("ChangeDetectorRef")}const yc=new rn("Application Initializer");let vc=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Yo,this.reject=Yo,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Ks(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(On(yc,8))},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();const _c=new rn("AppId"),wc={provide:_c,useFactory:function(){return`${Cc()}${Cc()}${Cc()}`},deps:[]};function Cc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ec=new rn("Platform Initializer"),Sc=new rn("Platform ID"),kc=new rn("appBootstrapListener");let Oc=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();const xc=new rn("LocaleId"),Ac=new rn("DefaultCurrencyCode");class Tc{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Ic=function(t){return new Qa(t)},Dc=Ic,jc=function(t){return Promise.resolve(Ic(t))},Rc=function(t){const e=Ic(t),n=Or(rt(t).declarations).reduce((t,e)=>{const n=nt(e);return n&&t.push(new Ba(n)),t},[]);return new Tc(e,n)},Pc=Rc,Nc=function(t){return Promise.resolve(Rc(t))};let Lc=(()=>{class t{constructor(){this.compileModuleSync=Dc,this.compileModuleAsync=jc,this.compileModuleAndAllComponentsSync=Pc,this.compileModuleAndAllComponentsAsync=Nc}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();const Vc=(()=>Promise.resolve(0))();function Mc(t){"undefined"==typeof Zone?Vc.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Fc{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ga(!1),this.onMicrotaskEmpty=new Ga(!1),this.onStable=new Ga(!1),this.onError=new Ga(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=L.requestAnimationFrame,e=L.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(L,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Hc(t),Bc(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Hc(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,s,o,a)=>{try{return zc(t),n.invokeTask(i,s,o,a)}finally{e&&"eventTask"===s.type&&e(),qc(t)}},onInvoke:(e,n,r,i,s,o,a)=>{try{return zc(t),e.invoke(r,i,s,o,a)}finally{qc(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Hc(t),Bc(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Fc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,Uc,Yo,Yo);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Uc={};function Bc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Hc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function zc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function qc(t){t._nesting--,Bc(t)}class Qc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ga,this.onMicrotaskEmpty=new Ga,this.onStable=new Ga,this.onError=new Ga}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Yc=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fc.assertNotInAngularZone(),Mc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Mc(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(On(Fc))},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})(),Wc=(()=>{class t{constructor(){this._applications=new Map,Zc.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Zc.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();class Gc{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function $c(t){Zc=t}let Kc,Zc=new Gc;const Jc=new rn("AllowMultipleToken");class Xc{constructor(t,e){this.name=t,this.token=e}}function tu(t,e,n=[]){const r="Platform: "+e,i=new rn(r);return(e=[])=>{let s=eu();if(!s||s.injector.get(Jc,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:ls,useValue:"platform"});!function(t){if(Kc&&!Kc.destroyed&&!Kc.injector.get(Jc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Kc=t.get(nu);const e=t.get(Ec,null);e&&e.forEach(t=>t())}(Ss.create({providers:t,name:r}))}return function(t){const e=eu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function eu(){return Kc&&!Kc.destroyed?Kc:null}let nu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Qc:("zone.js"===t?void 0:t)||new Fc({enableLongStackTrace:Wn(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Fc,useValue:n}];return n.run(()=>{const e=Ss.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(Er,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>su(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const r=n();return Ks(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(vc);return t.runInitializers(),t.donePromise.then(()=>(Po(i.injector.get(xc,jo)||jo),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=ru({},e);return function(t,e,n){const r=new Qa(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(iu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${l(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(On(Ss))},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();function ru(t,e){return Array.isArray(e)?e.reduce(ru,t):Object.assign(Object.assign({},t),e)}let iu=(()=>{class t{constructor(t,e,n,r,i,c){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Wn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Fc.assertNotInAngularZone(),Mc(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Fc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(u,l.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof zo?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Aa),i=n.create(Ss.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const s=i.injector.get(Yc,null);return s&&i.injector.get(Wc).registerApplication(i.location.nativeElement,s),this._loadComponent(i),Wn()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;su(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(kc,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),su(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(On(Fc),On(Oc),On(Ss),On(Er),On(Qo),On(vc))},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();function su(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class ou{}class au{}const cu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let uu=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||cu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>lu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>lu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(On(Lc),On(au,8))},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();function lu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const hu=function(t){return null},du=tu(null,"core",[{provide:Sc,useValue:"unknown"},{provide:nu,deps:[Ss]},{provide:Wc,deps:[]},{provide:Oc,deps:[]}]),fu=[{provide:iu,useClass:iu,deps:[Fc,Oc,Ss,Er,Qo,vc]},{provide:Ua,deps:[Fc],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:vc,useClass:vc,deps:[[new gn,yc]]},{provide:Lc,useClass:Lc,deps:[]},wc,{provide:da,useFactory:function(){return wa},deps:[]},{provide:fa,useFactory:function(){return Ca},deps:[]},{provide:xc,useFactory:function(t){return Po(t=t||"undefined"!=typeof $localize&&$localize.locale||jo),t},deps:[[new mn(xc),new gn,new yn]]},{provide:Ac,useValue:"USD"}];let pu=(()=>{class t{constructor(t){}}return t.\u0275mod=Z({type:t}),t.\u0275inj=b({factory:function(e){return new(e||t)(On(iu))},providers:fu}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),s=n("LRne"),o=n("z6cu");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return Object(o.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function c(t,e=0){return function(n){return n.lift(new u(t,e))}}class u{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",function(){return o}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return f});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},c=o.INFO,u=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=u[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=c,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function d(t){s.forEach(function(e){e.setLogLevel(t)})}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return _}),n.d(e,"d",function(){return w}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return s}),n.d(e,"g",function(){return a}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return h}),n.d(e,"j",function(){return f}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return c}),n.d(e,"m",function(){return u}),n.d(e,"n",function(){return d}),n.d(e,"o",function(){return m});var r=n("30Go");function i(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function c(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function u(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function d(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function f(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m(){return a().indexOf("MSAppHost/")>=0}var g=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,b.prototype.create),s}return Object(r.c)(e,t),e}(Error),b=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?y(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",c=new g(i,a,r);return c},t}();function y(t,e){return t.replace(v,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var v=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new C(t,e);return n.subscribe.bind(n)}var C=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function E(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return c});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i),c=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:u,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(u)){a&&(this._unsubscribe=void 0);try{u.call(this)}catch(h){e=h instanceof o?c(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(c(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function c(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return O}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return y}),n.d(e,"d",function(){return f}),n.d(e,"e",function(){return b}),n.d(e,"f",function(){return S}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return g}),n.d(e,"j",function(){return C});var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),c=n("fXoL"),u=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const m=["ngOnDestroy"],g=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(m.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),b=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},y=new c.r("angularfire2.app.options"),v=new c.r("angularfire2.app.nameOrConfig"),_=new c.Q("6.1.4");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=u.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>u.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&E("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const C=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(c.X)()&&"undefined"!=typeof console&&console[t](...e)};function S(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(c){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const k={provide:class{},useFactory:w,deps:[y,c.A,[new c.B,v]]};let O=(()=>{class t{constructor(t){u.a.registerVersion("angularfire",_.full,t.toString()),u.a.registerVersion("angular",c.P.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:y,useValue:e},{provide:v,useValue:n}]}}}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(e){return new(e||t)(c.Ub(c.C))},providers:[k]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("7Hc7"),s=n("Y7HM");class o extends r.a{constructor(t,e=0,n=i.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(s.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=i.a)}static create(t,e=0,n=i.a){return new o(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(o.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new o(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q");function i(){}var s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new c(t,this.nextOrObserver,this.error,this.complete))}}class c extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n("XNiG"),i=n("HDdC"),s=n("7o/Q"),o=n("quSY");function a(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new u(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class u extends s.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class l extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.a.EMPTY)),t}refCount(){return a()(this)}}const h=(()=>{const t=l.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function f(){return new r.a}function p(){return t=>{return a()((e=f,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,h);return r.source=t,r.subjectFactory=n,r})(t));var e}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},z6cu:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("HDdC");function i(t,e){return new r.a(e?n=>e.schedule(s,0,{error:t,subscriber:n}):e=>e.error(t))}function s({error:t,subscriber:e}){e.error(t)}},zIRd:function(t,e,n){"use strict";var r,i,s=n("30Go"),o=n("qOnz"),a=n("/6Yf"),c=n("q/0M"),u=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",u),h="@firebase/app",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new c.b("@firebase/app"),m=function(){function t(t,e,n){var r,i,c=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return c},"PUBLIC"));try{for(var u=Object(s.h)(this.firebase_.INTERNAL.components.values()),l=u.next();!l.done;l=u.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=d),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=d);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.c)(e,a))throw l.create("duplicate-app",{appName:a});var c=new t(n,s,r);return e[a]=c,c},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&o&&c.push("and"),o&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}u(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:c.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(c.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:u,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||d,!Object(o.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function u(a){var c,u,h=a.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var d=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(o.f)(d,a.serviceProps),r[h]=d,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var f=Object(s.h)(Object.keys(e)),m=f.next();!m.done;m=f.next())e[m.value]._addComponent(a)}catch(g){c={error:g}}finally{try{m&&!m.done&&(u=f.return)&&u.call(f)}finally{if(c)throw c.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(m);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.f)(e,t)},createSubscribe:o.d,ErrorFactory:o.b,deepExtend:o.f}),e}(),b=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(o.h)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.m)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,t)};var _=g;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new b(t)},"PRIVATE")),t.registerVersion(h,"0.6.13",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyAsC6SRWcL_cOskrmaRwRpexSsRhaUZPIw",authDomain:"finalproject-3c85a.firebaseapp.com",projectId:"finalproject-3c85a",storageBucket:"finalproject-3c85a.appspot.com",messagingSenderId:"469299927848",appId:"1:469299927848:web:331b4088e022c7bb86ce1d",measurementId:"G-97WWRX3CCF"};let s=null;function o(){return s}const a=new r.r("DocumentToken");let c=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(r.Ub)(h)}const l=new r.r("Location Initialized");let h=(()=>{class t extends c{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){d()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){d()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(a))},t.\u0275prov=Object(r.Hb)({factory:f,token:t,providedIn:"platform"}),t})();function d(){return!!window.history.pushState}function f(){return new h(Object(r.Ub)(a))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function m(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Ub)(a).location;return new _(Object(r.Ub)(c),e&&e.origin||"")}const v=new r.r("appBaseHref");let _=(()=>{class t extends b{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(c),r.Ub(v,8))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends b{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(c),r.Ub(v,8))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),C=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=m(S(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,S(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(b),r.Ub(c))},t.normalizeQueryParams=g,t.joinWithSlash=p,t.stripTrailingSlash=m,t.\u0275prov=Object(r.Hb)({factory:E,token:t,providedIn:"root"}),t})();function E(){return new C(Object(r.Ub)(b),Object(r.Ub)(c))}function S(t){return t.replace(/\/index.html$/,"")}var k=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const O=r.ob;class x{}let A=(()=>{class t extends x{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(O(e||this.locale)(t)){case k.Zero:return"zero";case k.One:return"one";case k.Two:return"two";case k.Few:return"few";case k.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.v))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),T=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.rb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r.wb)(t.item));this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.t),r.Lb(r.u),r.Lb(r.l),r.Lb(r.F))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class I{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let D=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.X)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new I(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new j(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new j(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.R),r.Lb(r.M),r.Lb(r.t))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class j{constructor(t,e){this.record=t,this.view=e}}let R=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new P,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){N("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){N("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.R),r.Lb(r.M))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class P{constructor(){this.$implicit=null,this.ngIf=null}}function N(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.wb)(e)}'.`)}class L{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let V=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),M=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new L(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.R),r.Lb(r.M),r.Lb(V,1))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),F=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[{provide:x,useClass:A}]}),t})();function U(t){return"browser"===t}function B(t){return"server"===t}let H=(()=>{class t{}return t.\u0275prov=Object(r.Hb)({token:t,providedIn:"root",factory:()=>new z(Object(r.Ub)(a),window,Object(r.Ub)(r.m))}),t})();class z{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=q(this.window.history)||q(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function q(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Q extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new Q,s||(s=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=W||(W=document.querySelector("base"),W)?W.getAttribute("href"):null;return null==e?null:(n=e,Y||(Y=document.createElement("a")),Y.setAttribute("href",n),"/"===Y.pathname.charAt(0)?Y.pathname:"/"+Y.pathname);var n}resetBaseElement(){W=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let Y,W=null;const G=new r.r("TRANSITION_ID"),$=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[G,a,r.s],multi:!0}];class K{static init(){Object(r.Z)(new K)}addToWindow(t){r.qb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.qb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.qb.getAllAngularRootElements=()=>t.getAllRootElements(),r.qb.frameworkStabilizers||(r.qb.frameworkStabilizers=[]),r.qb.frameworkStabilizers.push(t=>{const e=r.qb.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Z=new r.r("EventManagerPlugins");let J=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Z),r.Ub(r.A))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class X{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let tt=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),et=(()=>{class t extends tt{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>o().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(a))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const nt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},rt=/%COMP%/g;function it(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?it(t,i,n):(i=i.replace(rt,t),n.push(i))}return n}function st(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let ot=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new at(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.S.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new ct(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.S.ShadowDom:return new ut(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=it(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(J),r.Ub(et),r.Ub(r.c))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class at{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(nt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=nt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=nt[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.H.DashCase|r.H.Important)?t.style.setProperty(e,n,i&r.H.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.H.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,st(n)):this.eventManager.addEventListener(t,e,st(n))}}class ct extends at{constructor(t,e,n,r){super(t),this.component=n;const i=it(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(rt,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(rt,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class ut extends at{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=it(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let lt=(()=>{class t extends X{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(a))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const ht=["alt","control","meta","shift"],dt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ft={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},pt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let mt=(()=>{class t extends X{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(ht.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ft.hasOwnProperty(e)&&(e=ft[e]))}return dt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),ht.forEach(r=>{r!=n&&(0,pt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(a))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),gt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:function(){return Object(r.Ub)(bt)},token:t,providedIn:"root"}),t})(),bt=(()=>{class t extends gt{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.J.NONE:return e;case r.J.HTML:return Object(r.fb)(e,"HTML")?Object(r.xb)(e):Object(r.db)(this._doc,String(e));case r.J.STYLE:return Object(r.fb)(e,"Style")?Object(r.xb)(e):e;case r.J.SCRIPT:if(Object(r.fb)(e,"Script"))return Object(r.xb)(e);throw new Error("unsafe value used in a script context");case r.J.URL:return Object(r.pb)(e),Object(r.fb)(e,"URL")?Object(r.xb)(e):Object(r.eb)(String(e));case r.J.RESOURCE_URL:if(Object(r.fb)(e,"ResourceURL"))return Object(r.xb)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(r.gb)(t)}bypassSecurityTrustStyle(t){return Object(r.jb)(t)}bypassSecurityTrustScript(t){return Object(r.ib)(t)}bypassSecurityTrustUrl(t){return Object(r.kb)(t)}bypassSecurityTrustResourceUrl(t){return Object(r.hb)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(a))},t.\u0275prov=Object(r.Hb)({factory:function(){return t=Object(r.Ub)(r.o),new bt(t.get(a));var t},token:t,providedIn:"root"}),t})();const yt=[{provide:r.C,useValue:"browser"},{provide:r.D,useValue:function(){Q.makeCurrent(),K.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.vb)(document),document},deps:[]}],vt=Object(r.T)(r.Y,"browser",yt),_t=[[],{provide:r.bb,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:Z,useClass:lt,multi:!0,deps:[a,r.A,r.C]},{provide:Z,useClass:mt,multi:!0,deps:[a]},[],{provide:ot,useClass:ot,deps:[J,et,r.c]},{provide:r.G,useExisting:ot},{provide:tt,useExisting:et},{provide:et,useClass:et,deps:[a]},{provide:r.N,useClass:r.N,deps:[r.A]},{provide:J,useClass:J,deps:[Z,r.A]},[]];let wt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:G,useExisting:r.c},$]}}}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)(r.Ub(t,12))},providers:_t,imports:[F,r.f]}),t})();"undefined"!=typeof window&&window;var Ct=n("LRne"),Et=n("Cfvw"),St=n("XNiG"),kt=n("9ppp");class Ot extends St.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new kt.a;return this._value}next(t){super.next(this._value=t)}}var xt=n("z+Ro"),At=n("DH7j"),Tt=n("7o/Q");class It extends Tt.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Dt extends Tt.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var jt=n("SeVD"),Rt=n("HDdC");function Pt(t,e,n,r,i=new Dt(t,n,r)){if(!i.closed)return e instanceof Rt.a?e.subscribe(i):Object(jt.a)(e)(i)}var Nt=n("yCtX");const Lt={};class Vt{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Mt(t,this.resultSelector))}}class Mt extends It{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Lt),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Pt(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Lt?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Ft=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Ut=n("EY2u");function Bt(t){return new Rt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Et.a)(n):Object(Ut.b)()).subscribe(e)})}var Ht=n("lJxs"),zt=n("bHdf");function qt(){return Object(zt.a)(1)}function Qt(t,e){return function(n){return n.lift(new Yt(t,e))}}class Yt{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Wt(t,this.predicate,this.thisArg))}}class Wt extends Tt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const Gt=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function $t(t){return function(e){return 0===t?Object(Ut.b)():e.lift(new Kt(t))}}class Kt{constructor(t){if(this.total=t,this.total<0)throw new Gt}call(t,e){return e.subscribe(new Zt(t,this.total))}}class Zt extends Tt.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Jt(t=ee){return e=>e.lift(new Xt(t))}class Xt{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new te(t,this.errorFactory))}}class te extends Tt.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(Ky){t=Ky}this.destination.error(t)}}}function ee(){return new Ft}function ne(t=null){return e=>e.lift(new re(t))}class re{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new ie(t,this.defaultValue))}}class ie extends Tt.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var se=n("SpAZ"),oe=n("zx2A");function ae(t,e){return"function"==typeof e?n=>n.pipe(ae((n,r)=>Object(Et.a)(t(n,r)).pipe(Object(Ht.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new ce(t))}class ce{constructor(t){this.project=t}call(t,e){return e.subscribe(new ue(t,this.project))}}class ue extends oe.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new oe.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(oe.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}function le(t){return e=>0===t?Object(Ut.b)():e.lift(new he(t))}class he{constructor(t){if(this.total=t,this.total<0)throw new Gt}call(t,e){return e.subscribe(new de(t,this.total))}}class de extends Tt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function fe(...t){return qt()(Object(Ct.a)(...t))}function pe(...t){const e=t[t.length-1];return Object(xt.a)(e)?(t.pop(),n=>fe(t,n,e)):e=>fe(t,e)}function me(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new ge(t,e,n))}}class ge{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new be(t,this.accumulator,this.seed,this.hasSeed))}}class be extends Tt.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function ye(t){return function(e){const n=new ve(t),r=e.lift(n);return n.caught=r}}class ve{constructor(t){this.selector=t}call(t,e){return e.subscribe(new _e(t,this.selector,this.caught))}}class _e extends oe.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new oe.a(this);this.add(r);const i=Object(oe.c)(n,r);i!==r&&this.add(i)}}}var we=n("5+tZ");function Ce(t,e){return Object(we.a)(t,e,1)}function Ee(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Qt((e,n)=>t(e,n,r)):se.a,le(1),n?ne(e):Jt(()=>new Ft))}var Se=n("vkgz"),ke=n("quSY");function Oe(t){return e=>e.lift(new xe(t))}class xe{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Ae(t,this.callback))}}class Ae extends Tt.a{constructor(t,e){super(t),this.add(new ke.a(e))}}class Te{constructor(t,e){this.id=t,this.url=e}}class Ie extends Te{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class De extends Te{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class je extends Te{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Re extends Te{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Pe extends Te{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ne extends Te{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Le extends Te{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ve extends Te{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Me extends Te{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fe{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ue{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Be{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class He{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ze{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qe{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qe{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ye="primary";class We{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ge(t){return new We(t)}function $e(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Ke(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ze(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Je(t[i],e[i]))return!1;return!0}function Je(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Xe(t){return Array.prototype.concat.apply([],t)}function tn(t){return t.length>0?t[t.length-1]:null}function en(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function nn(t){return Object(r.sb)(t)?t:Object(r.tb)(t)?Object(Et.a)(Promise.resolve(t)):Object(Ct.a)(t)}function rn(t,e,n){return n?function(t,e){return Ze(t,e)}(t.queryParams,e.queryParams)&&sn(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Je(t[n],e[n]))}(t.queryParams,e.queryParams)&&on(t.root,e.root)}function sn(t,e){if(!hn(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!sn(t.children[n],e.children[n]))return!1}return!0}function on(t,e){return an(t,e,e.segments)}function an(t,e,n){if(t.segments.length>n.length)return!!hn(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!hn(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!on(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!hn(t.segments,r)&&!!t.children.primary&&an(t.children.primary,e,i)}}class cn{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ge(this.queryParams)),this._queryParamMap}toString(){return mn.serialize(this)}}class un{constructor(t,e){this.segments=t,this.children=e,this.parent=null,en(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gn(this)}}class ln{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ge(this.parameters)),this._parameterMap}toString(){return En(this)}}function hn(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function dn(t,e){let n=[];return en(t.children,(t,r)=>{r===Ye&&(n=n.concat(e(t,r)))}),en(t.children,(t,r)=>{r!==Ye&&(n=n.concat(e(t,r)))}),n}class fn{}class pn{parse(t){const e=new An(t);return new cn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+bn(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${vn(e)}=${vn(t)}`).join("&"):`${vn(e)}=${vn(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const mn=new pn;function gn(t){return t.segments.map(t=>En(t)).join("/")}function bn(t,e){if(!t.hasChildren())return gn(t);if(e){const e=t.children.primary?bn(t.children.primary,!1):"",n=[];return en(t.children,(t,e)=>{e!==Ye&&n.push(`${e}:${bn(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=dn(t,(e,n)=>n===Ye?[bn(t.children.primary,!1)]:[`${n}:${bn(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${gn(t)}/${e[0]}`:`${gn(t)}/(${e.join("//")})`}}function yn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vn(t){return yn(t).replace(/%3B/gi,";")}function _n(t){return yn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wn(t){return decodeURIComponent(t)}function Cn(t){return wn(t.replace(/\+/g,"%20"))}function En(t){return`${_n(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${_n(t)}=${_n(e[t])}`).join("")}`;var e}const Sn=/^[^\/()?;=#]+/;function kn(t){const e=t.match(Sn);return e?e[0]:""}const On=/^[^=?&#]+/,xn=/^[^?&#]+/;class An{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new un([],{}):new un([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new un(t,e)),n}parseSegment(){const t=kn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new ln(wn(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=kn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=kn(this.remaining);t&&(n=t,this.capture(n))}t[wn(e)]=wn(n)}parseQueryParam(t){const e=function(t){const e=t.match(On);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(xn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Cn(e),i=Cn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=kn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Ye);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new un([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Tn{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=In(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=In(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Dn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Dn(t,this._root).map(t=>t.value)}}function In(t,e){if(t===e.value)return e;for(const n of e.children){const e=In(t,n);if(e)return e}return null}function Dn(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Dn(t,n);if(r.length)return r.unshift(e),r}return[]}class jn{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Rn(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Pn extends Tn{constructor(t,e){super(t),this.snapshot=e,Un(this,t)}toString(){return this.snapshot.toString()}}function Nn(t,e){const n=function(t,e){const n=new Mn([],{},{},"",{},Ye,e,null,t.root,-1,{});return new Fn("",new jn(n,[]))}(t,e),r=new Ot([new ln("",{})]),i=new Ot({}),s=new Ot({}),o=new Ot({}),a=new Ot(""),c=new Ln(r,i,o,a,s,Ye,e,n.root);return c.snapshot=n.root,new Pn(new jn(c,[]),n)}class Ln{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Ht.a)(t=>Ge(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Ht.a)(t=>Ge(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Vn(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Mn{constructor(t,e,n,r,i,s,o,a,c,u,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ge(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ge(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Fn extends Tn{constructor(t,e){super(e),this.url=t,Un(this,e)}toString(){return Bn(this._root)}}function Un(t,e){e.value._routerState=t,e.children.forEach(e=>Un(t,e))}function Bn(t){const e=t.children.length>0?` { ${t.children.map(Bn).join(", ")} } `:"";return`${t.value}${e}`}function Hn(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ze(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Ze(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ze(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Ze(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function zn(t,e){return Ze(t.params,e.params)&&function(t,e){return hn(t,e)&&t.every((t,n)=>Ze(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||zn(t.parent,e.parent))}function qn(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return qn(t,e,r);return qn(t,e)})}(t,e,n);return new jn(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return Qn(e,t),t}{const n=new Ln(new Ot((r=e.value).url),new Ot(r.params),new Ot(r.queryParams),new Ot(r.fragment),new Ot(r.data),r.outlet,r.component,r),i=e.children.map(e=>qn(t,e));return new jn(n,i)}}var r}function Qn(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Qn(t.children[n],e.children[n])}function Yn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Wn(t){return"object"==typeof t&&null!=t&&t.outlets}function Gn(t,e,n,r,i){let s={};return r&&en(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new cn(n.root===t?e:$n(n.root,t,e),s,i)}function $n(t,e,n){const r={};return en(t.children,(t,i)=>{r[i]=t===e?n:$n(t,e,n)}),new un(t.segments,r)}class Kn{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Yn(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Wn);if(r&&r!==tn(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Zn{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Jn(t,e,n){if(t||(t=new un([],{})),0===t.segments.length&&t.hasChildren())return Xn(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(Wn(o))break;const a=""+o,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&c&&"object"==typeof c&&void 0===c.outlets){if(!rr(a,c,e))return s;r+=2}else{if(!rr(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new un(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new un(t.segments.slice(r.pathIndex),t.children),Xn(e,0,i)}return r.match&&0===i.length?new un(t.segments,{}):r.match&&!t.hasChildren()?tr(t,e,n):r.match?Xn(t,0,i):tr(t,e,n)}function Xn(t,e,n){if(0===n.length)return new un(t.segments,{});{const r=function(t){return Wn(t[0])?t[0].outlets:{[Ye]:t}}(n),i={};return en(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Jn(t.children[r],e,n))}),en(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new un(t.segments,i)}}function tr(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Wn(s)){const t=er(s.outlets);return new un(r,t)}if(0===i&&Yn(n[0])){r.push(new ln(t.segments[e].path,n[0])),i++;continue}const o=Wn(s)?s.outlets.primary:""+s,a=i<n.length-1?n[i+1]:null;o&&a&&Yn(a)?(r.push(new ln(o,nr(a))),i+=2):(r.push(new ln(o,{})),i++)}return new un(r,{})}function er(t){const e={};return en(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=tr(new un([],{}),0,t))}),e}function nr(t){const e={};return en(t,(t,n)=>e[n]=""+t),e}function rr(t,e,n){return t==n.path&&Ze(e,n.parameters)}class ir{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Hn(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Rn(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),en(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Rn(t),i=t.value.component?n.children:e;en(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Rn(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new qe(t.value.snapshot))}),t.children.length&&this.forwardEvent(new He(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Hn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),sr(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function sr(t){Hn(t.value),t.children.forEach(sr)}class or{constructor(t,e){this.routes=t,this.module=e}}function ar(t){return"function"==typeof t}function cr(t){return t instanceof cn}const ur=Symbol("INITIAL_VALUE");function lr(){return ae(t=>function(...t){let e=void 0,n=void 0;return Object(xt.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(At.a)(t[0])&&(t=t[0]),Object(Nt.a)(t,n).lift(new Vt(e))}(...t.map(t=>t.pipe(le(1),pe(ur)))).pipe(me((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==ur)return t;if(r===ur&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||cr(r))return r}return t},t)},ur),Qt(t=>t!==ur),Object(Ht.a)(t=>cr(t)?t:!0===t),le(1)))}let hr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Mb(0,"router-outlet")},directives:function(){return[ei]},encapsulation:2}),t})();function dr(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];fr(r,pr(e,r))}}function fr(t,e){t.children&&dr(t.children,e)}function pr(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function mr(t){const e=t.children&&t.children.map(mr),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ye&&(n.component=hr),n}function gr(t){return t.outlet||Ye}class br{constructor(t){this.segmentGroup=t||null}}class yr{constructor(t){this.urlTree=t}}function vr(t){return new Rt.a(e=>e.error(new br(t)))}function _r(t){return new Rt.a(e=>e.error(new yr(t)))}function wr(t){return new Rt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Cr{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.y)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Ye).pipe(Object(Ht.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(ye(t=>{if(t instanceof yr)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof br)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Ye).pipe(Object(Ht.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(ye(t=>{if(t instanceof br)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new un([],{[Ye]:t}):t;return new cn(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Ht.a)(t=>new un([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(Ct.a)({});const n=[],r=[],i={};return en(t,(t,s)=>{const o=e(s,t).pipe(Object(Ht.a)(t=>i[s]=t));s===Ye?n.push(o):r.push(o)}),Ct.a.apply(null,n.concat(r)).pipe(qt(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Qt((e,n)=>t(e,n,r)):se.a,$t(1),n?ne(e):Jt(()=>new Ft))}(),Object(Ht.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,s){const o=function(t){return t.reduce((t,e)=>{const n=gr(e);return t.has(n)?t.get(n).push(e):t.set(n,[e]),t},new Map)}(n);o.has(i)||o.set(i,[]);const a=n=>Object(Et.a)(n).pipe(Ce(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(ye(t=>{if(t instanceof br)return Object(Ct.a)(null);throw t}))),Ee(t=>null!==t),ye(t=>{if(t instanceof Ft||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(Ct.a)(new un([],{}));throw new br(e)}throw t})),c=Array.from(o.entries()).map(([t,e])=>{const n=a(e);return t===i?n:n.pipe(Object(Ht.a)(()=>null),ye(()=>Object(Ct.a)(null)))});return Object(Et.a)(c).pipe(t=>t.lift(new Vt(void 0)),Ee(),Object(Ht.a)(t=>t.find(t=>null!==t)))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return gr(r)!==s&&""!==r.path?vr(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):vr(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?_r(i):this.lineralizeSegments(n,i).pipe(Object(we.a)(n=>{const i=new un(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:c,positionalParamSegments:u}=Er(e,r,i);if(!o)return vr(e);const l=this.applyRedirectCommands(a,r.redirectTo,u);return r.redirectTo.startsWith("/")?_r(l):this.lineralizeSegments(r,l).pipe(Object(we.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(c)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Ht.a)(t=>(n._loadedConfig=t,new un(r,{})))):Object(Ct.a)(new un(r,{}));const{matched:i,consumedSegments:s,lastChild:o}=Er(e,n,r);if(!i)return vr(e);const a=r.slice(o);return this.getChildConfig(t,n,r).pipe(Object(we.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:o}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>kr(t,e,n)&&gr(n)!==Ye)}(t,n,r)?{segmentGroup:Sr(new un(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&gr(r)!==Ye&&(n[gr(r)]=new un([],{}));return n}(r,new un(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>kr(t,e,n))}(t,n,r)?{segmentGroup:Sr(new un(t.segments,function(t,e,n,r){const i={};for(const s of n)kr(t,e,s)&&!r[gr(s)]&&(i[gr(s)]=new un([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,a,r);return 0===o.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(Ht.a)(t=>new un(s,t))):0===r.length&&0===o.length?Object(Ct.a)(new un(s,{})):this.expandSegment(n,i,r,o,Ye,!0).pipe(Object(Ht.a)(t=>new un(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Ct.a)(new or(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Ct.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(we.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Ht.a)(t=>(e._loadedConfig=t,t))):function(t){return new Rt.a(e=>e.error($e(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Ct.a)(new or([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(Ct.a)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&ar(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!ar(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return nn(s)});return Object(Ct.a)(i).pipe(lr(),Object(Se.a)(t=>{if(!cr(t))return;const e=$e(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Ht.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Ct.a)(n);if(r.numberOfChildren>1||!r.children.primary)return wr(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new cn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return en(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return en(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new un(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Er(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||Ke)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Sr(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new un(t.segments.concat(e.segments),e.children)}return t}function kr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}class Or{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class xr{constructor(t,e){this.component=t,this.route=e}}function Ar(t,e,n){const r=t._root;return Ir(r,e?e._root:null,n,[r.value])}function Tr(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Ir(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Rn(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!hn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!hn(t.url,e.url)||!Ze(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zn(t,e)||!Ze(t.queryParams,e.queryParams);case"paramsChange":default:return!zn(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Or(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Ir(t,e,s.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new xr(a.outlet.component,o))}else o&&Dr(e,a,i),i.canActivateChecks.push(new Or(r)),Ir(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),en(s,(t,e)=>Dr(t,n.getContext(e),i)),i}function Dr(t,e,n){const r=Rn(t),i=t.value;en(r,(t,r)=>{Dr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new xr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function jr(t,e){return null!==t&&e&&e(new ze(t)),Object(Ct.a)(!0)}function Rr(t,e){return null!==t&&e&&e(new Be(t)),Object(Ct.a)(!0)}function Pr(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Ct.a)(!0);const i=r.map(r=>Bt(()=>{const i=Tr(r,e,n);let s;if(function(t){return t&&ar(t.canActivate)}(i))s=nn(i.canActivate(e,t));else{if(!ar(i))throw new Error("Invalid CanActivate guard");s=nn(i(e,t))}return s.pipe(Ee())}));return Object(Ct.a)(i).pipe(lr())}function Nr(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Bt(()=>{const i=e.guards.map(i=>{const s=Tr(i,e.node,n);let o;if(function(t){return t&&ar(t.canActivateChild)}(s))o=nn(s.canActivateChild(r,t));else{if(!ar(s))throw new Error("Invalid CanActivateChild guard");o=nn(s(r,t))}return o.pipe(Ee())});return Object(Ct.a)(i).pipe(lr())}));return Object(Ct.a)(i).pipe(lr())}class Lr{}class Vr{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){try{const t=Ur(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Ye),n=new Mn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ye,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new jn(n,e),i=new Fn(this.url,r);return this.inheritParamsAndData(i._root),Object(Ct.a)(i)}catch(Ky){return new Rt.a(e=>e.error(Ky))}}inheritParamsAndData(t){const e=t.value,n=Vn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=dn(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===Ye?-1:e.value.outlet===Ye?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const i of t)try{return this.processSegmentAgainstRoute(i,e,n,r)}catch(Ky){if(!(Ky instanceof Lr))throw Ky}if(this.noLeftoversInUrl(e,n,r))return[];throw new Lr}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new Lr;if((t.outlet||Ye)!==r)throw new Lr;let i,s=[],o=[];if("**"===t.path){const s=n.length>0?tn(n).parameters:{};i=new Mn(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Hr(t),r,t.component,t,Mr(e),Fr(e)+n.length,zr(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Lr;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||Ke)(n,t,e);if(!r)throw new Lr;const i={};en(r.posParams,(t,e)=>{i[e]=t.path});const s=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(e,t,n);s=a.consumedSegments,o=n.slice(a.lastChild),i=new Mn(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Hr(t),r,t.component,t,Mr(e),Fr(e)+s.length,zr(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:u}=Ur(e,s,o,a,this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const t=this.processChildren(a,c);return[new jn(i,t)]}if(0===a.length&&0===u.length)return[new jn(i,[])];const l=this.processSegment(a,c,u,Ye);return[new jn(i,l)]}}function Mr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Fr(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Ur(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>Br(t,e,n)&&gr(n)!==Ye)}(t,n,r)){const i=new un(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&gr(s)!==Ye){const n=new un([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[gr(s)]=n}return i}(t,e,r,new un(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Br(t,e,n))}(t,n,r)){const s=new un(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(Br(t,n,a)&&!i[gr(a)]){const n=new un([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[gr(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new un(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Br(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Hr(t){return t.data||{}}function zr(t){return t.resolve||{}}function qr(t){return function(e){return e.pipe(ae(e=>{const n=t(e);return n?Object(Et.a)(n).pipe(Object(Ht.a)(()=>e)):Object(Et.a)([e])}))}}class Qr extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Yr=new r.r("ROUTES");class Wr{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Ht.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new or(Xe(r.injector.get(Yr)).map(mr),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(Et.a)(this.loader.load(t)):nn(t()).pipe(Object(we.a)(t=>t instanceof r.w?Object(Ct.a)(t):Object(Et.a)(this.compiler.compileModuleAsync(t))))}}class Gr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new $r,this.attachRef=null}}class $r{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Gr,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Kr{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Zr(t){throw t}function Jr(t,e,n){return e.parse("/")}function Xr(t,e){return Object(Ct.a)(null)}let ti=(()=>{class t{constructor(t,e,n,i,s,o,a,c){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new St.a,this.errorHandler=Zr,this.malformedUriErrorHandler=Jr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Xr,afterPreactivation:Xr},this.urlHandlingStrategy=new Kr,this.routeReuseStrategy=new Qr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=s.get(r.y),this.console=s.get(r.ab);const u=s.get(r.A);this.isNgZoneEnabled=u instanceof r.A,this.resetConfig(c),this.currentUrlTree=new cn(new un([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Wr(o,a,t=>this.triggerEvent(new Fe(t)),t=>this.triggerEvent(new Ue(t))),this.routerState=Nn(this.currentUrlTree,this.rootComponentType),this.transitions=new Ot({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Qt(t=>0!==t.id),Object(Ht.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),ae(t=>{let n=!1,r=!1;return Object(Ct.a)(t).pipe(Object(Se.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ae(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Ct.a)(t).pipe(ae(t=>{const n=this.transitions.getValue();return e.next(new Ie(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Ut.a:[t]}),ae(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,function(t){return t.pipe(ae(t=>function(t,e,n,r,i){return new Cr(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object(Ht.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(Se.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(s){return s.pipe(Object(we.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){return new Vr(t,e,n,r,i,s).recognize()}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(Ht.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Se.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(Se.a)(t=>{const n=new Pe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new Ie(n,this.serializeUrl(r),i,s);e.next(a);const c=Nn(r,this.rootComponentType).snapshot;return Object(Ct.a)(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Ut.a}),qr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Se.a)(t=>{const e=new Ne(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Ht.a)(t=>Object.assign(Object.assign({},t),{guards:Ar(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(we.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(Ct.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Et.a)(t).pipe(Object(we.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(Ct.a)(!0);const o=s.map(s=>{const o=Tr(s,e,i);let a;if(function(t){return t&&ar(t.canDeactivate)}(o))a=nn(o.canDeactivate(t,e,n,r));else{if(!ar(o))throw new Error("Invalid CanDeactivate guard");a=nn(o(t,e,n,r))}return a.pipe(Ee())});return Object(Ct.a)(o).pipe(lr())}(t.component,t.route,n,e,r)),Ee(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(we.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(Et.a)(e).pipe(Ce(e=>Object(Et.a)([Rr(e.route.parent,r),jr(e.route,r),Nr(t,e.path,n),Pr(t,e.route,n)]).pipe(qt(),Ee(t=>!0!==t,!0))),Ee(t=>!0!==t,!0))}(r,s,t,e):Object(Ct.a)(n)),Object(Ht.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Se.a)(t=>{if(cr(t.guardsResult)){const e=$e(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(Se.a)(t=>{const e=new Le(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Qt(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new je(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),qr(t=>{if(t.guards.canActivateChecks.length)return Object(Ct.a)(t).pipe(Object(Se.a)(t=>{const e=new Ve(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),ae(t=>{let n=!1;return Object(Ct.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(we.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Ct.a)(t);let s=0;return Object(Et.a)(n).pipe(Ce(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Ct.a)({});const s={};return Object(Et.a)(i).pipe(Object(we.a)(i=>function(t,e,n,r){const i=Tr(t,e,r);return nn(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Se.a)(t=>{s[i]=t}))),$t(1),Object(we.a)(()=>Object.keys(s).length===i.length?Object(Ct.a)(s):Ut.a))}(t._resolve,t,e,r).pipe(Object(Ht.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Vn(t,n).resolve),null)))}(t.route,e,r,i)),Object(Se.a)(()=>s++),$t(1),Object(we.a)(e=>s===n.length?Object(Ct.a)(t):Ut.a))}))}),Object(Se.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new je(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Se.a)(t=>{const e=new Me(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),qr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Ht.a)(t=>{const e=function(t,e,n){const r=qn(t,e._root,n?n._root:void 0);return new Pn(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Se.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,s=this.routeReuseStrategy,o=t=>this.triggerEvent(t),Object(Ht.a)(t=>(new ir(s,t.targetRouterState,t.currentRouterState,o).activate(i),t))),Object(Se.a)({next(){n=!0},complete(){n=!0}}),Oe(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new je(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),ye(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=cr(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new je(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Re(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(bl){t.reject(bl)}}var i;return Ut.a}));var i,s,o}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){dr(t),this.config=t.map(mr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,c=o?this.currentUrlTree.fragment:i;let u=null;switch(s){case"merge":u=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=r||null}return null!==u&&(u=this.removeEmptyProps(u)),function(t,e,n,r,i){if(0===n.length)return Gn(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Kn(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return en(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Kn(n,e,r)}(n);if(s.toRoot())return Gn(e.root,new un([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new Zn(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Zn(t,t===e.root,0)}const r=Yn(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Zn(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?Xn(o.segmentGroup,o.index,s.commands):Jn(o.segmentGroup,o.index,s.commands);return Gn(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,u,c)}navigateByUrl(t,e={skipLocationChange:!1}){const n=cr(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(Ky){e=this.malformedUriErrorHandler(Ky,this.urlSerializer,t)}return e}isActive(t,e){if(cr(t))return rn(this.currentUrlTree,t,e);const n=this.parseUrl(t);return rn(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new De(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let c,u,l;i?(c=i.resolve,u=i.reject,l=i.promise):l=new Promise((t,e)=>{c=t,u=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.O),r.Ub(fn),r.Ub($r),r.Ub(C),r.Ub(r.s),r.Ub(r.x),r.Ub(r.i),r.Ub(void 0))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),ei=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||Ye,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new ni(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb($r),r.Lb(r.R),r.Lb(r.j),r.Vb("name"),r.Lb(r.h))},t.\u0275dir=r.Gb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class ni{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Ln?this.route:t===$r?this.childContexts:this.parent.get(t,e)}}class ri{}class ii{preload(t,e){return Object(Ct.a)(null)}}let si=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Wr(e,n,e=>t.triggerEvent(new Fe(e)),e=>t.triggerEvent(new Ue(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Qt(t=>t instanceof De),Ce(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.y);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(Et.a)(n).pipe(Object(zt.a)(),Object(Ht.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(we.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(ti),r.Ub(r.x),r.Ub(r.i),r.Ub(r.s),r.Ub(ri))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),oi=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ie?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof De&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Qe&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Qe(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(ti),r.Ub(H),r.Ub(void 0))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const ai=new r.r("ROUTER_CONFIGURATION"),ci=new r.r("ROUTER_FORROOT_GUARD"),ui=[C,{provide:fn,useClass:pn},{provide:ti,useFactory:function(t,e,n,r,i,s,a,c={},u,l){const h=new ti(null,t,e,n,r,i,s,Xe(a));if(u&&(h.urlHandlingStrategy=u),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(c,h),c.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[fn,$r,C,r.s,r.x,r.i,Yr,ai,[class{},new r.B],[class{},new r.B]]},$r,{provide:Ln,useFactory:function(t){return t.routerState.root},deps:[ti]},{provide:r.x,useClass:r.L},si,ii,class{preload(t,e){return e().pipe(ye(()=>Object(Ct.a)(null)))}},{provide:ai,useValue:{enableTracing:!1}}];function li(){return new r.z("Router",ti)}let hi=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[ui,mi(e),{provide:ci,useFactory:pi,deps:[[ti,new r.B,new r.K]]},{provide:ai,useValue:n||{}},{provide:b,useFactory:fi,deps:[c,[new r.p(v),new r.B],ai]},{provide:oi,useFactory:di,deps:[ti,H,ai]},{provide:ri,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:ii},{provide:r.z,multi:!0,useFactory:li},[gi,{provide:r.d,multi:!0,useFactory:bi,deps:[gi]},{provide:vi,useFactory:yi,deps:[gi]},{provide:r.b,multi:!0,useExisting:vi}]]}}static forChild(e){return{ngModule:t,providers:[mi(e)]}}}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)(r.Ub(ci,8),r.Ub(ti,8))}}),t})();function di(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new oi(t,e,n)}function fi(t,e,n={}){return n.useHash?new w(t,e):new _(t,e)}function pi(t){return"guarded"}function mi(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Yr,multi:!0,useValue:t}]}let gi=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new St.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(ti),r=this.injector.get(ai);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(Ct.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(ai),n=this.injector.get(si),i=this.injector.get(oi),s=this.injector.get(ti),o=this.injector.get(r.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.s))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();function bi(t){return t.appInitializer.bind(t)}function yi(t){return t.bootstrapListener.bind(t)}const vi=new r.r("Router Initializer");function _i(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{c(r.next(t))}catch(Ky){s(Ky)}}function a(t){try{c(r.throw(t))}catch(Ky){s(Ky)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}c((r=r.apply(t,e||[])).next())})}let wi=(()=>{class t{constructor(){this.schools=[],this.currentSchool="",this.clickedTask=""}addSchool(t){this.schools.push({schoolName:t,tasks:[]})}addTask(t,e){this.schools.forEach(function(n){n.schoolName===t&&n.tasks.push({task:e,checked:!1})})}printItems(){console.log(this.schools)}getData(){return this.schools}getCurrentSchool(){return this.currentSchool}setCurrentSchool(t){this.currentSchool=t}getTasksForSchool(t){try{return this.schools.filter(function(e){if(e.schoolName===t)return e.tasks})[0].tasks}catch(e){console.log("unable to read of void")}}isChecked(t,e){let n=this.schools.find(e=>e.schoolName===t).tasks.find(t=>t.task=e);return console.log("che",n.checked),n.checked}check(t,e){this.schools.forEach(n=>{n.schoolName===t&&n.tasks.forEach(t=>{t.task==e&&(t.checked=!0)})})}uncheck(t,e){this.schools.forEach(n=>{n.schoolName===t&&n.tasks.forEach(t=>{t.task==e&&(t.checked=!1)})})}deleteGivenTask(t,e){this.schools.forEach(n=>{n.schoolName===t&&n.tasks.forEach(t=>{t.task==e&&n.tasks.splice(n.tasks.indexOf(t),1)})})}editGivenTask(t,e,n){this.schools.forEach(r=>{r.schoolName===t&&r.tasks.forEach(t=>{t.task==e&&(t.task=n)})})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Ci=n("D0XW");function Ei(){return t=>t.lift(new Si)}class Si{call(t,e){return e.subscribe(new ki(t))}}class ki extends Tt.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class Oi{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new xi(t,this.compare,this.keySelector))}}class xi extends Tt.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Ai=n("pxpQ"),Ti=n("spgP"),Ii=n("Jgta"),Di=n("zIRd"),ji=n("q/0M"),Ri=n("qOnz"),Pi=function(t,e){return(Pi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Ni(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Li,Vi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Mi=Mi||{},Fi=Vi||self;function Ui(){}function Bi(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Hi(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var zi="closure_uid_"+(1e9*Math.random()>>>0),qi=0;function Qi(t,e,n){return t.call.apply(t.bind,arguments)}function Yi(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Wi(t,e,n){return(Wi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Qi:Yi).apply(null,arguments)}function Gi(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function $i(){return Date.now()}function Ki(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function Zi(){this.j=this.j,this.i=this.i}Zi.prototype.j=!1,Zi.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,zi)&&t[zi]||(t[zi]=++qi)}(this)},Zi.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Ji=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Xi=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function ts(t){return Array.prototype.concat.apply([],arguments)}function es(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function ns(t){return/^[\s\xa0]*$/.test(t)}var rs,is=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function ss(t,e){return-1!=t.indexOf(e)}function os(t,e){return t<e?-1:t>e?1:0}t:{var as=Fi.navigator;if(as){var cs=as.userAgent;if(cs){rs=cs;break t}}rs=""}function us(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function ls(t){var e={};for(var n in t)e[n]=t[n];return e}var hs="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ds(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<hs.length;s++)n=hs[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function fs(t){return fs[" "](t),t}fs[" "]=Ui;var ps,ms,gs=ss(rs,"Opera"),bs=ss(rs,"Trident")||ss(rs,"MSIE"),ys=ss(rs,"Edge"),vs=ys||bs,_s=ss(rs,"Gecko")&&!(ss(rs.toLowerCase(),"webkit")&&!ss(rs,"Edge"))&&!(ss(rs,"Trident")||ss(rs,"MSIE"))&&!ss(rs,"Edge"),ws=ss(rs.toLowerCase(),"webkit")&&!ss(rs,"Edge");function Cs(){var t=Fi.document;return t?t.documentMode:void 0}t:{var Es="",Ss=(ms=rs,_s?/rv:([^\);]+)(\)|;)/.exec(ms):ys?/Edge\/([\d\.]+)/.exec(ms):bs?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ms):ws?/WebKit\/(\S+)/.exec(ms):gs?/(?:Version)[ \/]?(\S+)/.exec(ms):void 0);if(Ss&&(Es=Ss?Ss[1]:""),bs){var ks=Cs();if(null!=ks&&ks>parseFloat(Es)){ps=String(ks);break t}}ps=Es}var Os={};function xs(t){return function(t,e){var n=Os;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=is(String(ps)).split("."),r=is(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=os(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||os(0==o[2].length,0==a[2].length)||os(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var As=Fi.document&&bs&&(Cs()||parseInt(ps,10))||void 0,Ts=!bs||9<=Number(As),Is=bs&&!xs("9"),Ds=function(){if(!Fi.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Fi.addEventListener("test",Ui,e),Fi.removeEventListener("test",Ui,e)}catch(n){}return t}();function js(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Rs(t,e){if(js.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(_s){t:{try{fs(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ps[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}js.prototype.b=function(){this.defaultPrevented=!0},Ki(Rs,js);var Ps={2:"touch",3:"pen",4:"mouse"};Rs.prototype.b=function(){Rs.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Is)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Ns="closure_listenable_"+(1e6*Math.random()|0),Ls=0;function Vs(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Ls,this.Y=this.Z=!1}function Ms(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Fs(t){this.src=t,this.a={},this.b=0}function Us(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=Ji(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Ms(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Bs(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}Fs.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=Bs(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new Vs(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var Hs="closure_lm_"+(1e6*Math.random()|0),zs={};function qs(t,e,n,r,i){if(r&&r.once)return Ys(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)qs(t,e[s],n,r,i);return null}return n=to(n),t&&t[Ns]?t.va(e,n,Hi(r)?!!r.capture:!!r,i):Qs(t,e,n,!1,r,i)}function Qs(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Hi(i)?!!i.capture:!!i;if(o&&!Ts)return null;var a=Js(t);if(a||(t[Hs]=a=new Fs(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=Zs,e=Ts?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ds||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent($s(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Ys(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Ys(t,e[s],n,r,i);return null}return n=to(n),t&&t[Ns]?t.wa(e,n,Hi(r)?!!r.capture:!!r,i):Qs(t,e,n,!0,r,i)}function Ws(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Ws(t,e[s],n,r,i);else r=Hi(r)?!!r.capture:!!r,n=to(n),t&&t[Ns]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Bs(s=t.a[e],n,r,i))&&(Ms(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--))):t&&(t=Js(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Bs(e,n,r,i)),(n=-1<t?e[t]:null)&&Gs(n))}function Gs(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Ns])Us(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent($s(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Js(e))?(Us(n,t),0==n.b&&(n.src=null,e[Hs]=null)):Ms(t)}}}function $s(t){return t in zs?zs[t]:zs[t]="on"+t}function Ks(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Gs(t),n.call(r,e)}function Zs(t,e){if(t.Y)return!0;if(!Ts){if(!e)t:{e=["window","event"];for(var n=Fi,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Ks(t,e=new Rs(e,this))}return Ks(t,new Rs(e,this))}function Js(t){return(t=t[Hs])instanceof Fs?t:null}var Xs="__closure_events_fn_"+(1e9*Math.random()>>>0);function to(t){return"function"==typeof t?t:(t[Xs]||(t[Xs]=function(e){return t.handleEvent(e)}),t[Xs])}function eo(){Zi.call(this),this.c=new Fs(this),this.J=this,this.C=null}function no(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new js(e,t);else if(e instanceof js)e.target=e.target||t;else{var i=e;ds(e=new js(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=ro(o,r,!0,e)&&i}if(i=ro(o=e.a=t,r,!0,e)&&i,i=ro(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=ro(o=e.a=n[s],r,!1,e)&&i}function ro(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,c=o.ca||o.src;o.Z&&Us(t.c,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Ki(eo,Zi),eo.prototype[Ns]=!0,(Li=eo.prototype).addEventListener=function(t,e,n,r){qs(this,t,e,n,r)},Li.removeEventListener=function(t,e,n,r){Ws(this,t,e,n,r)},Li.G=function(){if(eo.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ms(n[r]);delete e.a[t],e.b--}}this.C=null},Li.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Li.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var io=Fi.JSON.stringify;function so(){this.b=this.a=null}var oo,ao=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new uo},function(t){t.reset()});function co(){var t=po,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function uo(){this.next=this.b=this.a=null}function lo(t){Fi.setTimeout(function(){throw t},0)}function ho(t,e){oo||function(){var t=Fi.Promise.resolve(void 0);oo=function(){t.then(mo)}}(),fo||(oo(),fo=!0),po.add(t,e)}so.prototype.add=function(t,e){var n=ao.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},uo.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},uo.prototype.reset=function(){this.next=this.b=this.a=null};var fo=!1,po=new so;function mo(){for(var t;t=co();){try{t.a.call(t.b)}catch(n){lo(n)}var e=ao;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}fo=!1}function go(t,e){eo.call(this),this.b=t||1,this.a=e||Fi,this.f=Wi(this.Za,this),this.g=$i()}function bo(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function yo(t,e,n){if("function"==typeof t)n&&(t=Wi(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Wi(t.handleEvent,t)}return 2147483647<Number(e)?-1:Fi.setTimeout(t,e||0)}function vo(t){t.a=yo(function(){t.a=null,t.c&&(t.c=!1,vo(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Ki(go,eo),(Li=go.prototype).aa=!1,Li.M=null,Li.Za=function(){if(this.aa){var t=$i()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),no(this,"tick"),this.aa&&(bo(this),this.start()))}},Li.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=$i())},Li.G=function(){go.X.G.call(this),bo(this),delete this.a};var _o=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Pi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:vo(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Fi.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Zi);function wo(t){Zi.call(this),this.b=t,this.a={}}Ki(wo,Zi);var Co=[];function Eo(t,e,n,r){Array.isArray(n)||(n&&(Co[0]=n.toString()),n=Co);for(var i=0;i<n.length;i++){var s=qs(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function So(t){us(t.a,function(t,e){this.a.hasOwnProperty(e)&&Gs(t)},t),t.a={}}function ko(){this.a=!0}function Oo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return io(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}wo.prototype.G=function(){wo.X.G.call(this),So(this)},wo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ko.prototype.info=function(){};var xo={},Ao=null;function To(){return Ao=Ao||new eo}function Io(t){js.call(this,xo.Fa,t)}function Do(t){var e=To();no(e,new Io(e,t))}function jo(t,e){js.call(this,xo.STAT_EVENT,t),this.stat=e}function Ro(t){var e=To();no(e,new jo(e,t))}function Po(t){js.call(this,xo.Ga,t)}function No(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Fi.setTimeout(function(){t()},e)}xo.Fa="serverreachability",Ki(Io,js),xo.STAT_EVENT="statevent",Ki(jo,js),xo.Ga="timingevent",Ki(Po,js);var Lo={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Vo={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Mo(){}function Fo(){}Mo.prototype.a=null;var Uo,Bo={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Ho(){js.call(this,"d")}function zo(){js.call(this,"c")}function qo(){}function Qo(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new wo(this),this.P=Yo,this.R=new go(t=vs?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Ki(Ho,js),Ki(zo,js),Ki(qo,Mo),Uo=new qo;var Yo=45e3,Wo={},Go={};function $o(t,e,n){t.H=1,t.i=ba(ha(e)),t.j=n,t.I=!0,Ko(t,null)}function Ko(t,e){t.u=$i(),Xo(t),t.l=ha(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Ia(n.b,"t",r),t.D=0,t.a=Sc(t.g,t.g.C?e:null),0<t.O&&(t.F=new _o(Wi(t.Ca,t,t.a),t.O)),Eo(t.J,t.a,"readystatechange",t.Xa),e=t.B?ls(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Do(1),function(t,e,n,r,i,s){t.info(function(){if(t.a)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+u+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Zo(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Jo(t,n);if(i==Go){4==e&&(t.h=4,Ro(14),r=!1),Oo(t.c,t.f,null,"[Incomplete Response]");break}if(i==Wo){t.h=4,Ro(15),Oo(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Oo(t.c,t.f,i,null),ia(t,i)}4==e&&0==n.length&&(t.h=1,Ro(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),gc(e),e.F=!0,Ro(11))):(Oo(t.c,t.f,n,"[Invalid Chunked Response]"),ra(t),na(t))}function Jo(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Go:(n=Number(e.substring(n,r)),isNaN(n)?Wo:(r+=1)+n>e.length?Go:(e=e.substr(r,n),t.D=r+n,e))}function Xo(t){t.T=$i()+t.P,ta(t,t.P)}function ta(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=No(Wi(t.Va,t),e)}function ea(t){t.o&&(Fi.clearTimeout(t.o),t.o=null)}function na(t){0==t.g.v||t.A||vc(t.g,t)}function ra(t){ea(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,bo(t.R),So(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function ia(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Va(n.b,t)))if(n.I=t.N,!t.C&&Va(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(uy){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;yc(n),ac(n)}mc(n),Ro(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=No(Wi(n.Sa,n),6e3));if(1>=La(n.b)&&n.ea){try{n.ea()}catch(uy){}n.ea=void 0}}else wc(n,11)}else if((t.C||n.a==t)&&yc(n),!ns(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var c=1.5*a;n.D=c,n.c.info("backChannelRequestTimeoutMs_="+c)}c=n;var u=t.a;if(u){var l=u.a?u.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=c.b;!h.a&&(ss(l,"spdy")||ss(l,"quic")||ss(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Ma(h,h.b),h.b=null))}if(c.A){var d=u.a?u.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(c.na=d,ga(c.B,c.A,d))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=$i()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((c=n).la=Ec(c,c.C?c.ga:null,c.fa),f.C){Fa(c.b,f);var p=f,m=c.D;m&&p.setTimeout(m),p.o&&(ea(p),Xo(p)),c.a=f}else pc(c);0<n.g.length&&lc(n)}else"stop"!=i[0]&&"close"!=i[0]||wc(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?wc(n,7):oc(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Do(4)}catch(uy){}}function sa(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Bi(t)||"string"==typeof t)Xi(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Bi(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Bi(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function oa(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof oa)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function aa(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];ca(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)ca(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function ca(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Li=Qo.prototype).setTimeout=function(t){this.P=t},Li.Xa=function(t){t=t.target;var e=this.F;e&&3==nc(t)?e.f():this.Ca(t)},Li.Ca=function(t){try{if(t==this.a)t:{var e=nc(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!vs&&!this.a.$())){this.A||4!=e||7==n||Do(8==n||0>=r?3:2),ea(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ns(o)){var c=o;break e}}c=null}if(!c){this.b=!1,this.h=3,Ro(12),ra(this),na(this);break t}Oo(this.c,this.f,c,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,ia(this,c)}this.I?(Zo(this,e,s),vs&&this.b&&3==e&&(Eo(this.J,this.R,"tick",this.Wa),this.R.start())):(Oo(this.c,this.f,s,null),ia(this,s)),4==e&&ra(this),this.b&&!this.A&&(4==e?vc(this.g,this):(this.b=!1,Xo(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,Ro(12)):(this.h=0,Ro(13)),ra(this),na(this)}}}catch(u){}},Li.Wa=function(){if(this.a){var t=nc(this.a),e=this.a.$();this.D<e.length&&(ea(this),Zo(this,t,e),this.b&&4!=t&&Xo(this))}},Li.cancel=function(){this.A=!0,ra(this)},Li.Va=function(){this.o=null;var t=$i();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Do(3),Ro(17)),ra(this),this.h=2,na(this)):ta(this,this.T-t)},(Li=oa.prototype).K=function(){aa(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Li.L=function(){return aa(this),this.a.concat()},Li.get=function(t,e){return ca(this.b,t)?this.b[t]:e},Li.set=function(t,e){ca(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Li.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var ua=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function la(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof la){this.a=void 0!==e?e:t.a,da(this,t.f),this.j=t.j,fa(this,t.c),pa(this,t.h),this.g=t.g,e=t.b;var n=new Oa;n.c=e.c,e.a&&(n.a=new oa(e.a),n.b=e.b),ma(this,n),this.i=t.i}else t&&(n=String(t).match(ua))?(this.a=!!e,da(this,n[1]||"",!0),this.j=ya(n[2]||""),fa(this,n[3]||"",!0),pa(this,n[4]),this.g=ya(n[5]||"",!0),ma(this,n[6]||"",!0),this.i=ya(n[7]||"")):(this.a=!!e,this.b=new Oa(null,this.a))}function ha(t){return new la(t)}function da(t,e,n){t.f=n?ya(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function fa(t,e,n){t.c=n?ya(e,!0):e}function pa(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function ma(t,e,n){e instanceof Oa?(t.b=e,function(t,e){e&&!t.f&&(xa(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Aa(this,e),Ia(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=va(e,Sa)),t.b=new Oa(e,t.a))}function ga(t,e,n){t.b.set(e,n)}function ba(t){return ga(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^$i()).toString(36)),t}function ya(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function va(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,_a),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function _a(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}la.prototype.toString=function(){var t=[],e=this.f;e&&t.push(va(e,wa,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(va(e,wa,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(va(n,"/"==n.charAt(0)?Ea:Ca,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",va(n,ka)),t.join("")};var wa=/[#\/\?@]/g,Ca=/[#\?:]/g,Ea=/[#\?]/g,Sa=/[#\?@]/g,ka=/#/g;function Oa(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function xa(t){t.a||(t.a=new oa,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Aa(t,e){xa(t),e=Da(t,e),ca(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,ca((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&aa(t)))}function Ta(t,e){return xa(t),e=Da(t,e),ca(t.a.b,e)}function Ia(t,e,n){Aa(t,e),0<n.length&&(t.c=null,t.a.set(Da(t,e),es(n)),t.b+=n.length)}function Da(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Li=Oa.prototype).add=function(t,e){xa(this),this.c=null,t=Da(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Li.forEach=function(t,e){xa(this),this.a.forEach(function(n,r){Xi(n,function(n){t.call(e,n,r,this)},this)},this)},Li.L=function(){xa(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},Li.K=function(t){xa(this);var e=[];if("string"==typeof t)Ta(this,t)&&(e=ts(e,this.a.get(Da(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=ts(e,t[n])}return e},Li.set=function(t,e){return xa(this),this.c=null,Ta(this,t=Da(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Li.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Li.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var ja=function(){return function(t,e){this.b=t,this.a=e}}();function Ra(t){this.g=t||Pa,t=Fi.PerformanceNavigationTiming?0<(t=Fi.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Fi.ia&&Fi.ia.ya&&Fi.ia.ya()&&Fi.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Pa=10;function Na(t){return!!t.b||!!t.a&&t.a.size>=t.f}function La(t){return t.b?1:t.a?t.a.size:0}function Va(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Ma(t,e){t.a?t.a.add(e):t.b=e}function Fa(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Ua(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Ni(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return es(t.c)}function Ba(){}function Ha(){this.a=new Ba}function za(t,e,n){var r=n||"";try{sa(t,function(t,n){var i=t;Hi(t)&&(i=io(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(Ky){throw e.push(r+"type="+encodeURIComponent("_badmap")),Ky}}function qa(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}Ra.prototype.cancel=function(){var t,e;if(this.c=Ua(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Ni(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Ba.prototype.stringify=function(t){return Fi.JSON.stringify(t,void 0)},Ba.prototype.parse=function(t){return Fi.JSON.parse(t,void 0)};var Qa=Fi.JSON.parse;function Ya(t){eo.call(this),this.headers=new oa,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Wa,this.D=this.F=!1}Ki(Ya,eo);var Wa="",Ga=/^https?$/i,$a=["POST","PUT"];function Ka(t){return"content-type"==t.toLowerCase()}function Za(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Ja(t),tc(t)}function Ja(t){t.u||(t.u=!0,no(t,"complete"),no(t,"error"))}function Xa(t){if(t.b&&void 0!==Mi&&(!t.s[1]||4!=nc(t)||2!=t.W()))if(t.l&&4==nc(t))yo(t.za,0,t);else if(no(t,"readystatechange"),4==nc(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(ua)[1]||null;if(!s&&Fi.self&&Fi.self.location){var o=Fi.self.location.protocol;s=o.substr(0,o.length-1)}i=!Ga.test(s?s.toLowerCase():"")}e=i}if(e)no(t,"complete"),no(t,"success");else{t.h=6;try{var a=2<nc(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Ja(t)}}finally{tc(t)}}}function tc(t,e){if(t.a){ec(t);var n=t.a,r=t.s[0]?Ui:null;t.a=null,t.s=null,e||no(t,"ready");try{n.onreadystatechange=r}catch(Ky){}}}function ec(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Fi.clearTimeout(t.m),t.m=null)}function nc(t){return t.a?t.a.readyState:0}function rc(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return us(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):ga(t,e,n))}function ic(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function sc(t){this.pa=0,this.g=[],this.c=new ko,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=ic("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=ic("baseRetryDelayMs",5e3,t),this.Ra=ic("retryDelaySeedMs",1e4,t),this.Ma=ic("forwardChannelMaxRetries",2,t),this.ma=ic("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Ra(t&&t.concurrentRequestLimit),this.ka=new Ha,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function oc(t){if(cc(t),3==t.v){var e=t.R++,n=ha(t.B);ga(n,"SID",t.J),ga(n,"RID",e),ga(n,"TYPE","terminate"),dc(t,n),(e=new Qo(t,t.c,e,void 0)).H=2,e.i=ba(ha(n)),n=!1,Fi.navigator&&Fi.navigator.sendBeacon&&(n=Fi.navigator.sendBeacon(e.i.toString(),"")),!n&&Fi.Image&&((new Image).src=e.i,n=!0),n||(e.a=Sc(e.g,null),e.a.ba(e.i)),e.u=$i(),Xo(e)}Cc(t)}function ac(t){t.a&&(gc(t),t.a.cancel(),t.a=null)}function cc(t){ac(t),t.j&&(Fi.clearTimeout(t.j),t.j=null),yc(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Fi.clearTimeout(t.h),t.h=null)}function uc(t,e){t.g.push(new ja(t.Oa++,e)),3==t.v&&lc(t)}function lc(t){Na(t.b)||t.h||(t.h=!0,ho(t.Ba,t),t.u=0)}function hc(t,e){var n;n=e?e.f:t.R++;var r=ha(t.B);ga(r,"SID",t.J),ga(r,"RID",n),ga(r,"AID",t.P),dc(t,r),t.i&&t.l&&rc(r,t.i,t.l),n=new Qo(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=fc(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Ma(t.b,n),$o(n,r,e)}function dc(t,e){t.f&&sa({},function(t,n){ga(e,n,t)})}function fc(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Wi(t.f.Ja,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,c=0;c<n;c++){var u=i[c].b,l=i[c].a;if(0>(u-=s))s=Math.max(0,i[c].b-100),a=!1;else try{za(l,o,"req"+u+"_")}catch(iu){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function pc(t){t.a||t.j||(t.T=1,ho(t.Aa,t),t.o=0)}function mc(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=No(Wi(t.Aa,t),_c(t,t.o)),t.o++,0))}function gc(t){null!=t.s&&(Fi.clearTimeout(t.s),t.s=null)}function bc(t){t.a=new Qo(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=ha(t.la);ga(e,"RID","rpc"),ga(e,"SID",t.J),ga(e,"CI",t.H?"0":"1"),ga(e,"AID",t.P),dc(t,e),ga(e,"TYPE","xmlhttp"),t.i&&t.l&&rc(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=ba(ha(e)),n.j=null,n.I=!0,Ko(n,t)}function yc(t){null!=t.m&&(Fi.clearTimeout(t.m),t.m=null)}function vc(t,e){var n=null;if(t.a==e){yc(t),gc(t),t.a=null;var r=2}else{if(!Va(t.b,e))return;n=e.s,Fa(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=$i()-e.u;var i=t.u;no(r=To(),new Po(r,n,e,i)),lc(t)}else pc(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(La(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=No(Wi(t.Ba,t,e),_c(t,t.u)),t.u++,0)))}(t,e)||2==r&&mc(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:wc(t,5);break;case 4:wc(t,10);break;case 3:wc(t,6);break;default:wc(t,2)}}function _c(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function wc(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Wi(t.Ya,t);n||(n=new la("//www.google.com/images/cleardot.gif"),Fi.location&&"http"==Fi.location.protocol||da(n,"https"),ba(n)),function(t,e){var n=new ko;if(Fi.Image){var r=new Image;r.onload=Gi(qa,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Gi(qa,n,r,"TestLoadImage: error",!1,e),r.onabort=Gi(qa,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Gi(qa,n,r,"TestLoadImage: timeout",!1,e),Fi.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Ro(2);t.v=0,t.f&&t.f.ra(e),Cc(t),cc(t)}function Cc(t){t.v=0,t.I=-1,t.f&&(0==Ua(t.b).length&&0==t.g.length||(t.b.c.length=0,es(t.g),t.g.length=0),t.f.qa())}function Ec(t,e,n){var r=function(t){return t instanceof la?ha(t):new la(t,void 0)}(n);if(""!=r.c)e&&fa(r,e+"."+r.c),pa(r,r.h);else{var i=Fi.location;r=function(t,e,n,r){var i=new la(null,void 0);return t&&da(i,t),e&&fa(i,e),n&&pa(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&us(t.V,function(t,e){ga(r,e,t)}),n=t.na,(e=t.A)&&n&&ga(r,e,n),ga(r,"VER",t.ha),dc(t,r),r}function Sc(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ya(t.Na)).F=t.C,e}function kc(){}function Oc(){if(bs&&!(10<=Number(As)))throw Error("Environmental error: no available transport.")}function xc(t,e){eo.call(this),this.a=new sc(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!ns(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ns(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Ic(this)}function Ac(t){Ho.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Tc(){zo.call(this),this.status=1}function Ic(t){this.a=t}(Li=Ya.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Uo),this.a.onreadystatechange=Wi(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void Za(this,s)}t=n||"";var i=new oa(this.headers);r&&sa(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Ka,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Fi.FormData&&t instanceof Fi.FormData,!(0<=Ji($a,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{ec(this),0<this.o&&((this.D=function(t){return bs&&xs(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Wi(this.xa,this)):this.m=yo(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){Za(this,s)}},Li.xa=function(){void 0!==Mi&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,no(this,"timeout"),this.abort(8))},Li.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,no(this,"complete"),no(this,"abort"),tc(this))},Li.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),tc(this,!0)),Ya.X.G.call(this)},Li.za=function(){this.j||(this.A||this.l||this.g?Xa(this):this.Ua())},Li.Ua=function(){Xa(this)},Li.W=function(){try{return 2<nc(this)?this.a.status:-1}catch(ms){return-1}},Li.$=function(){try{return this.a?this.a.responseText:""}catch(ms){return""}},Li.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Qa(e)}},Li.ua=function(){return this.h},Li.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Li=sc.prototype).ha=8,Li.v=1,Li.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Qo(this,this.c,t,void 0),r=this.l;if(this.O&&(r?ds(r=ls(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=fc(this,n,e),ga(i=ha(this.B),"RID",t),ga(i,"CVER",22),this.A&&ga(i,"X-HTTP-Session-Id",this.A),dc(this,i),this.i&&r&&rc(i,this.i,r),Ma(this.b,n),this.Ia&&ga(i,"TYPE","init"),this.da?(ga(i,"$req",e),ga(i,"SID","null"),n.U=!0,$o(n,i,null)):$o(n,i,e),this.v=2}}else 3==this.v&&(t?hc(this,t):0==this.g.length||Na(this.b)||hc(this))},Li.Aa=function(){if(this.j=null,bc(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=No(Wi(this.Ta,this),t)}},Li.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Ro(10),ac(this),bc(this))},Li.Sa=function(){null!=this.m&&(this.m=null,ac(this),mc(this),Ro(19))},Li.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Ro(2)):(this.c.info("Failed to ping google.com"),Ro(1))},(Li=kc.prototype).ta=function(){},Li.sa=function(){},Li.ra=function(){},Li.qa=function(){},Li.Ja=function(){},Oc.prototype.a=function(t,e){return new xc(t,e)},Ki(xc,eo),xc.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Ro(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Ec(t,null,t.fa),lc(t)},xc.prototype.close=function(){oc(this.a)},xc.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,uc(this.a,e)}else this.l?((e={}).__data__=io(t),uc(this.a,e)):uc(this.a,t)},xc.prototype.G=function(){this.a.f=null,delete this.f,oc(this.a),delete this.a,xc.X.G.call(this)},Ki(Ac,Ho),Ki(Tc,zo),Ki(Ic,kc),Ic.prototype.ta=function(){no(this.a,"a")},Ic.prototype.sa=function(t){no(this.a,new Ac(t))},Ic.prototype.ra=function(t){no(this.a,new Tc(t))},Ic.prototype.qa=function(){no(this.a,"b")},Oc.prototype.createWebChannel=Oc.prototype.a,xc.prototype.send=xc.prototype.h,xc.prototype.open=xc.prototype.g,xc.prototype.close=xc.prototype.close,Lo.NO_ERROR=0,Lo.TIMEOUT=8,Lo.HTTP_ERROR=6,Vo.COMPLETE="complete",Fo.EventType=Bo,Bo.OPEN="a",Bo.CLOSE="b",Bo.ERROR="c",Bo.MESSAGE="d",eo.prototype.listen=eo.prototype.va,Ya.prototype.listenOnce=Ya.prototype.wa,Ya.prototype.getLastError=Ya.prototype.Qa,Ya.prototype.getLastErrorCode=Ya.prototype.ua,Ya.prototype.getStatus=Ya.prototype.W,Ya.prototype.getResponseJson=Ya.prototype.Pa,Ya.prototype.getResponseText=Ya.prototype.$,Ya.prototype.send=Ya.prototype.ba;var Dc=Lo,jc=Vo,Rc=xo,Pc=Fo,Nc=Ya,Lc=n("30Go"),Vc=new ji.b("@firebase/firestore");function Mc(){return Vc.logLevel}function Fc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Vc.logLevel<=ji.a.DEBUG){var r=e.map(Hc);Vc.debug.apply(Vc,Object(Lc.g)(["Firestore (8.2.0): "+t],r))}}function Uc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Vc.logLevel<=ji.a.ERROR){var r=e.map(Hc);Vc.error.apply(Vc,Object(Lc.g)(["Firestore (8.2.0): "+t],r))}}function Bc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Vc.logLevel<=ji.a.WARN){var r=e.map(Hc);Vc.warn.apply(Vc,Object(Lc.g)(["Firestore (8.2.0): "+t],r))}}function Hc(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Ky){return t}}function zc(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.0) INTERNAL ASSERTION FAILED: "+t;throw Uc(e),new Error(e)}function qc(t,e){t||zc()}function Qc(t,e){return t}function Yc(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Wc=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Yc(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Gc(t,e){return t<e?-1:t>e?1:0}function $c(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Kc(t){return t+"\0"}var Zc=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.i)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return Gc(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();Zc.h=new Zc("");var Jc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Xc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Lc.c)(e,t),e}(Error),tu=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(Zc.fromBase64String(e))}catch(e){throw new Xc(Jc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Zc.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),eu=function(t){this._=t};function nu(){if("undefined"==typeof Uint8Array)throw new Xc(Jc.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ru(){if("undefined"==typeof atob)throw new Xc(Jc.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var iu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Lc.c)(e,t),e.fromBase64String=function(t){return ru(),new e(tu.fromBase64String(t))},e.fromUint8Array=function(t){return nu(),new e(tu.fromUint8Array(t))},e.prototype.toBase64=function(){return ru(),this._.toBase64()},e.prototype.toUint8Array=function(){return nu(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(eu),su=function(){function t(t){this.uid=t}return t.prototype.T=function(){return null!=this.uid},t.prototype.I=function(){return this.T()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();su.UNAUTHENTICATED=new su(null),su.m=new su("google-credentials-uid"),su.A=new su("first-party-uid");var ou=function(t,e){this.user=e,this.type="OAuth",this.R={},this.R.Authorization="Bearer "+t},au=function(){function t(){this.P=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.g=function(){},t.prototype.V=function(t){this.P=t,t(su.UNAUTHENTICATED)},t.prototype.p=function(){this.P=null},t}(),cu=function(){function t(t){var e=this;this.v=null,this.currentUser=su.UNAUTHENTICATED,this.S=!1,this.D=0,this.P=null,this.forceRefresh=!1,this.v=function(){e.D++,e.currentUser=e.C(),e.S=!0,e.P&&e.P(e.currentUser)},this.D=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.v):(this.v(null),t.get().then(function(t){e.auth=t,e.v&&e.auth.addAuthTokenListener(e.v)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.D,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.D!==e?(Fc("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(qc("string"==typeof n.accessToken),new ou(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.g=function(){this.forceRefresh=!0},t.prototype.V=function(t){this.P=t,this.S&&t(this.currentUser)},t.prototype.p=function(){this.auth&&this.auth.removeAuthTokenListener(this.v),this.v=null,this.P=null},t.prototype.C=function(){var t=this.auth&&this.auth.getUid();return qc(null===t||"string"==typeof t),new su(t)},t}(),uu=function(){function t(t,e){this.N=t,this.F=e,this.type="FirstParty",this.user=su.A}return Object.defineProperty(t.prototype,"R",{get:function(){var t={"X-Goog-AuthUser":this.F},e=this.N.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),lu=function(){function t(t,e){this.N=t,this.F=e}return t.prototype.getToken=function(){return Promise.resolve(new uu(this.N,this.F))},t.prototype.V=function(t){t(su.A)},t.prototype.p=function(){},t.prototype.g=function(){},t}(),hu=function(t,e,n,r,i,s){this.O=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.k=s},du=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"M",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),fu=function(){function t(){}return t.prototype.L=function(t){},t.prototype.$=function(){},t}(),pu=function(){function t(){var t=this;this.B=function(){return t.q()},this.U=function(){return t.K()},this.W=[],this.j()}return t.prototype.L=function(t){this.W.push(t)},t.prototype.$=function(){window.removeEventListener("online",this.B),window.removeEventListener("offline",this.U)},t.prototype.j=function(){window.addEventListener("online",this.B),window.addEventListener("offline",this.U)},t.prototype.q=function(){Fc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.W;t<e.length;t++)(0,e[t])(0)},t.prototype.K=function(){Fc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.W;t<e.length;t++)(0,e[t])(1)},t.G=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}();function mu(t){return null==t}function gu(t){return 0===t&&1/t==-1/0}function bu(t){return"number"==typeof t&&Number.isInteger(t)&&!gu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var yu,vu,_u={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};function wu(t){switch(t){case Jc.OK:return zc();case Jc.CANCELLED:case Jc.UNKNOWN:case Jc.DEADLINE_EXCEEDED:case Jc.RESOURCE_EXHAUSTED:case Jc.INTERNAL:case Jc.UNAVAILABLE:case Jc.UNAUTHENTICATED:return!1;case Jc.INVALID_ARGUMENT:case Jc.NOT_FOUND:case Jc.ALREADY_EXISTS:case Jc.PERMISSION_DENIED:case Jc.FAILED_PRECONDITION:case Jc.ABORTED:case Jc.OUT_OF_RANGE:case Jc.UNIMPLEMENTED:case Jc.DATA_LOSS:return!0;default:return zc()}}function Cu(t){if(void 0===t)return Uc("GRPC error has no .code"),Jc.UNKNOWN;switch(t){case yu.OK:return Jc.OK;case yu.CANCELLED:return Jc.CANCELLED;case yu.UNKNOWN:return Jc.UNKNOWN;case yu.DEADLINE_EXCEEDED:return Jc.DEADLINE_EXCEEDED;case yu.RESOURCE_EXHAUSTED:return Jc.RESOURCE_EXHAUSTED;case yu.INTERNAL:return Jc.INTERNAL;case yu.UNAVAILABLE:return Jc.UNAVAILABLE;case yu.UNAUTHENTICATED:return Jc.UNAUTHENTICATED;case yu.INVALID_ARGUMENT:return Jc.INVALID_ARGUMENT;case yu.NOT_FOUND:return Jc.NOT_FOUND;case yu.ALREADY_EXISTS:return Jc.ALREADY_EXISTS;case yu.PERMISSION_DENIED:return Jc.PERMISSION_DENIED;case yu.FAILED_PRECONDITION:return Jc.FAILED_PRECONDITION;case yu.ABORTED:return Jc.ABORTED;case yu.OUT_OF_RANGE:return Jc.OUT_OF_RANGE;case yu.UNIMPLEMENTED:return Jc.UNIMPLEMENTED;case yu.DATA_LOSS:return Jc.DATA_LOSS;default:return zc()}}(vu=yu||(yu={}))[vu.OK=0]="OK",vu[vu.CANCELLED=1]="CANCELLED",vu[vu.UNKNOWN=2]="UNKNOWN",vu[vu.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vu[vu.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vu[vu.NOT_FOUND=5]="NOT_FOUND",vu[vu.ALREADY_EXISTS=6]="ALREADY_EXISTS",vu[vu.PERMISSION_DENIED=7]="PERMISSION_DENIED",vu[vu.UNAUTHENTICATED=16]="UNAUTHENTICATED",vu[vu.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vu[vu.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vu[vu.ABORTED=10]="ABORTED",vu[vu.OUT_OF_RANGE=11]="OUT_OF_RANGE",vu[vu.UNIMPLEMENTED=12]="UNIMPLEMENTED",vu[vu.INTERNAL=13]="INTERNAL",vu[vu.UNAVAILABLE=14]="UNAVAILABLE",vu[vu.DATA_LOSS=15]="DATA_LOSS";var Eu=function(){function t(t){this.H=t.H,this.J=t.J}return t.prototype.Y=function(t){this.X=t},t.prototype.Z=function(t){this.tt=t},t.prototype.onMessage=function(t){this.et=t},t.prototype.close=function(){this.J()},t.prototype.send=function(t){this.H(t)},t.prototype.nt=function(){this.X()},t.prototype.st=function(t){this.tt(t)},t.prototype.it=function(t){this.et(t)},t}(),Su=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},ku=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.k=e.k,n}return Object(Lc.c)(e,t),e.prototype.lt=function(t,e,n,r){return new Promise(function(i,s){var o=new Nc;o.listenOnce(jc.COMPLETE,function(){try{switch(o.getLastErrorCode()){case Dc.NO_ERROR:var e=o.getResponseJson();Fc("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Dc.TIMEOUT:Fc("Connection",'RPC "'+t+'" timed out'),s(new Xc(Jc.DEADLINE_EXCEEDED,"Request time out"));break;case Dc.HTTP_ERROR:var n=o.getStatus();if(Fc("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Jc).indexOf(e)>=0?e:Jc.UNKNOWN}(r.status);s(new Xc(a,r.message))}else s(new Xc(Jc.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Xc(Jc.UNAVAILABLE,"Connection failed."));break;default:zc()}}finally{Fc("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);o.send(e,"POST",a,n,15)})},e.prototype.ft=function(t,e){var n=[this.ot,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Oc,i=To(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.O.projectId+"/databases/"+this.O.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.k};this.ht(s.initMessageHeaders,e),Object(Ri.l)()||Object(Ri.n)()||Object(Ri.j)()||Object(Ri.k)()||Object(Ri.o)()||Object(Ri.i)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");Fc("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),c=!1,u=!1,l=new Eu({H:function(t){u?Fc("Connection","Not sending because WebChannel is closed:",t):(c||(Fc("Connection","Opening WebChannel transport."),a.open(),c=!0),Fc("Connection","WebChannel sending:",t),a.send(t))},J:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Pc.EventType.OPEN,function(){u||Fc("Connection","WebChannel transport opened.")}),h(a,Pc.EventType.CLOSE,function(){u||(u=!0,Fc("Connection","WebChannel transport closed"),l.st())}),h(a,Pc.EventType.ERROR,function(t){u||(u=!0,Bc("Connection","WebChannel transport errored:",t),l.st(new Xc(Jc.UNAVAILABLE,"The operation could not be completed")))}),h(a,Pc.EventType.MESSAGE,function(t){var e;if(!u){var n=t.data[0];qc(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Fc("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=yu[t];if(void 0!==e)return Cu(e)}(i),o=r.message;void 0===s&&(s=Jc.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),u=!0,l.st(new Xc(s,o)),a.close()}else Fc("Connection","WebChannel received:",n),l.it(n)}}),h(i,Rc.STAT_EVENT,function(t){10===t.stat?Fc("Connection","Detected buffering proxy"):11===t.stat&&Fc("Connection","Detected no buffering proxy")}),setTimeout(function(){l.nt()},0),l},e}(function(){function t(t){this.rt=t,this.O=t.O,this.ot=(t.ssl?"https":"http")+"://"+t.host,this.ct="projects/"+this.O.projectId+"/databases/"+this.O.database+"/documents"}return t.prototype.at=function(t,e,n,r){var i=this.ut(t,e);Fc("RestConnection","Sending: ",i,n);var s={};return this.ht(s,r),this.lt(t,i,s,n).then(function(t){return Fc("RestConnection","Received: ",t),t},function(e){throw Bc("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype._t=function(t,e,n,r){return this.at(t,e,n,r)},t.prototype.ht=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.0",t["Content-Type"]="text/plain",e)for(var n in e.R)e.R.hasOwnProperty(n)&&(t[n]=e.R[n])},t.prototype.ut=function(t,e){return this.ot+"/v1/"+e+":"+_u[t]},t}()),Ou=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Xc(Jc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Xc(Jc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Xc(Jc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Xc(Jc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.dt=function(t){return this.seconds===t.seconds?Gc(this.nanoseconds,t.nanoseconds):Gc(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),xu=function(){function t(t){this.timestamp=t}return t.wt=function(e){return new t(e)},t.min=function(){return new t(new Ou(0,0))},t.prototype.u=function(t){return this.timestamp.dt(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.Et=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.Tt=function(){return this.timestamp},t}(),Au=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&zc(),void 0===n?n=t.length-e:n>t.length-e&&zc(),this.segments=t,this.offset=e,this.It=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.It},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.At(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.Rt(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.Pt=function(t){return this.Rt(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.yt=function(){return this.Rt(this.segments,this.offset,this.length-1)},t.prototype.gt=function(){return this.segments[this.offset]},t.prototype.Vt=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.bt=function(){return 0===this.length},t.prototype.vt=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.St=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.Dt=function(){return this.segments.slice(this.offset,this.limit())},t.At=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Tu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Lc.c)(e,t),e.prototype.Rt=function(t,n,r){return new e(t,n,r)},e.prototype.Ct=function(){return this.Dt().join("/")},e.prototype.toString=function(){return this.Ct()},e.xt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new Xc(Jc.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.Nt=function(){return new e([])},e}(Au),Iu=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Du=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Lc.c)(e,t),e.prototype.Rt=function(t,n,r){return new e(t,n,r)},e.Ft=function(t){return Iu.test(t)},e.prototype.Ct=function(){return this.Dt().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.Ft(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.Ct()},e.prototype.Ot=function(){return 1===this.length&&"__name__"===this.get(0)},e.kt=function(){return new e(["__name__"])},e.Mt=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new Xc(Jc.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Xc(Jc.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var c=t[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new Xc(Jc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Xc(Jc.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.Nt=function(){return new e([])},e}(Au),ju=function(){function t(t){this.path=t}return t.Lt=function(e){return new t(Tu.xt(e))},t.$t=function(e){return new t(Tu.xt(e).Pt(5))},t.prototype.Bt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Tu.At(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.At=function(t,e){return Tu.At(t.path,e.path)},t.qt=function(t){return t.length%2==0},t.Ut=function(e){return new t(new Tu(e.slice()))},t}();function Ru(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Pu(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Nu(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Lu=function(){function t(t){this.fields=t,t.sort(Du.At)}return t.prototype.Qt=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].vt(t))return!0;return!1},t.prototype.isEqual=function(t){return $c(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Vu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mu(t){if(qc(!!t),"string"==typeof t){var e=0,n=Vu.exec(t);if(qc(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Fu(t.seconds),nanos:Fu(t.nanos)}}function Fu(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Uu(t){return"string"==typeof t?Zc.fromBase64String(t):Zc.fromUint8Array(t)}function Bu(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Hu(t){var e=t.mapValue.fields.__previous_value__;return Bu(e)?Hu(e):e}function zu(t){var e=Mu(t.mapValue.fields.__local_write_time__.timestampValue);return new Ou(e.seconds,e.nanos)}function qu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Bu(t)?4:10:zc()}function Qu(t,e){var n=qu(t);if(n!==qu(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zu(t).isEqual(zu(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Mu(t.timestampValue),r=Mu(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Uu(t.bytesValue).isEqual(Uu(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Fu(t.geoPointValue.latitude)===Fu(e.geoPointValue.latitude)&&Fu(t.geoPointValue.longitude)===Fu(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Fu(t.integerValue)===Fu(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Fu(t.doubleValue),r=Fu(e.doubleValue);return n===r?gu(n)===gu(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return $c(t.arrayValue.values||[],e.arrayValue.values||[],Qu);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Ru(n)!==Ru(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Qu(n[i],r[i])))return!1;return!0}(t,e);default:return zc()}}function Yu(t,e){return void 0!==(t.values||[]).find(function(t){return Qu(t,e)})}function Wu(t,e){var n=qu(t),r=qu(e);if(n!==r)return Gc(n,r);switch(n){case 0:return 0;case 1:return Gc(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Fu(t.integerValue||t.doubleValue),r=Fu(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Gu(t.timestampValue,e.timestampValue);case 4:return Gu(zu(t),zu(e));case 5:return Gc(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Uu(t),r=Uu(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=Gc(n[i],r[i]);if(0!==s)return s}return Gc(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Gc(Fu(t.latitude),Fu(e.latitude));return 0!==n?n:Gc(Fu(t.longitude),Fu(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=Wu(n[i],r[i]);if(s)return s}return Gc(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=Gc(r[o],s[o]);if(0!==a)return a;var c=Wu(n[r[o]],i[s[o]]);if(0!==c)return c}return Gc(r.length,s.length)}(t.mapValue,e.mapValue);default:throw zc()}}function Gu(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Gc(t,e);var n=Mu(t),r=Mu(e),i=Gc(n.seconds,r.seconds);return 0!==i?i:Gc(n.nanos,r.nanos)}function $u(t){return Ku(t)}function Ku(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Mu(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Uu(t.bytesValue).toBase64():"referenceValue"in t?ju.$t(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Ku(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var s=i[r];n?n=!1:e+=",",e+=s+":"+Ku(t.fields[s])}return e+"}"}(t.mapValue):zc();var e}function Zu(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.Ct()}}function Ju(t){return!!t&&"integerValue"in t}function Xu(t){return!!t&&"arrayValue"in t}function tl(t){return!!t&&"nullValue"in t}function el(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function nl(t){return!!t&&"mapValue"in t}var rl=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.bt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!nl(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.Vt()])||null},t.prototype.isEqual=function(t){return Qu(this.proto,t.proto)},t}(),il=function(){function t(t){void 0===t&&(t=rl.empty()),this.Kt=t,this.Wt=new Map}return t.prototype.set=function(t,e){return this.jt(t,e),this},t.prototype.delete=function(t){return this.jt(t,null),this},t.prototype.jt=function(t,e){for(var n=this.Wt,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===qu(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.Vt(),e)},t.prototype.Gt=function(){var t=this.zt(Du.Nt(),this.Wt);return null!=t?new rl(t):this.Kt},t.prototype.zt=function(t,e){var n=this,r=!1,i=this.Kt.field(t),s=nl(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var o=n.zt(t.child(i),e);null!=o&&(s[i]=o,r=!0)}else null!==e?(s[i]=e,r=!0):s.hasOwnProperty(i)&&(delete s[i],r=!0)}),r?{mapValue:{fields:s}}:null},t}();function sl(t){var e=[];return Pu(t.fields||{},function(t,n){var r=new Du([t]);if(nl(n)){var i=sl(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)}),new Lu(e)}var ol=function(t,e){this.key=t,this.version=e},al=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this,e,n)||this).Ht=r,s.Jt=!!i.Jt,s.hasCommittedMutations=!!i.hasCommittedMutations,s}return Object(Lc.c)(e,t),e.prototype.field=function(t){return this.Ht.field(t)},e.prototype.data=function(){return this.Ht},e.prototype.Yt=function(){return this.Ht.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Jt===t.Jt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Ht.isEqual(t.Ht)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Ht.toString()+", {hasLocalMutations: "+this.Jt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Jt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(ol),cl=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Lc.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(ol),ul=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Lc.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(ol),ll=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.Xt=null};function hl(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new ll(t,e,n,r,i,s,o)}function dl(t){var e=Qc(t);if(null===e.Xt){var n=e.path.Ct();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.Ct()+t.op.toString()+$u(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.Ct()+t.dir}(t)}).join(","),mu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=kl(e.startAt)),e.endAt&&(n+="|ub:",n+=kl(e.endAt)),e.Xt=n}return e.Xt}function fl(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!xl(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!Qu(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Tl(t.startAt,e.startAt)&&Tl(t.endAt,e.endAt)}function pl(t){return ju.qt(t.path)&&null===t.collectionGroup&&0===t.filters.length}var ml=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Lc.c)(e,t),e.create=function(t,n,r){return t.Ot()?"in"===n||"not-in"===n?this.Zt(t,n,r):new gl(t,n,r):"array-contains"===n?new _l(t,r):"in"===n?new wl(t,r):"not-in"===n?new Cl(t,r):"array-contains-any"===n?new El(t,r):new e(t,n,r)},e.Zt=function(t,e,n){return"in"===e?new bl(t,n):new yl(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.te(Wu(e,this.value)):null!==e&&qu(this.value)===qu(e)&&this.te(Wu(e,this.value))},e.prototype.te=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return zc()}},e.prototype.ee=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),gl=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=ju.$t(r.referenceValue),i}return Object(Lc.c)(e,t),e.prototype.matches=function(t){var e=ju.At(t.key,this.key);return this.te(e)},e}(ml),bl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=vl(0,n),r}return Object(Lc.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(ml),yl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=vl(0,n),r}return Object(Lc.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(ml);function vl(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return ju.$t(t.referenceValue)})}var _l=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Lc.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Xu(e)&&Yu(e.arrayValue,this.value)},e}(ml),wl=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Lc.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Yu(this.value.arrayValue,e)},e}(ml),Cl=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Lc.c)(e,t),e.prototype.matches=function(t){if(Yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Yu(this.value.arrayValue,e)},e}(ml),El=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Lc.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Xu(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Yu(e.value.arrayValue,t)})},e}(ml),Sl=function(t,e){this.position=t,this.before=e};function kl(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return $u(t)}).join(",")}var Ol=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function xl(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Al(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.Ot()?ju.At(ju.$t(o.referenceValue),n.key):Wu(o,n.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Tl(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Qu(t.position[n],e.position[n]))return!1;return!0}var Il=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.ne=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.se=null,this.ie=null};function Dl(t,e,n,r,i,s,o,a){return new Il(t,e,n,r,i,s,o,a)}function jl(t){return new Il(t)}function Rl(t){return!mu(t.limit)&&"F"===t.limitType}function Pl(t){return!mu(t.limit)&&"L"===t.limitType}function Nl(t){return t.ne.length>0?t.ne[0].field:null}function Ll(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.ee())return r.field}return null}function Vl(t){return null!==t.collectionGroup}function Ml(t){var e=Qc(t);if(null===e.se){e.se=[];var n=Ll(e),r=Nl(e);if(null!==n&&null===r)n.Ot()||e.se.push(new Ol(n)),e.se.push(new Ol(Du.kt(),"asc"));else{for(var i=!1,s=0,o=e.ne;s<o.length;s++){var a=o[s];e.se.push(a),a.field.Ot()&&(i=!0)}if(!i){var c=e.ne.length>0?e.ne[e.ne.length-1].dir:"asc";e.se.push(new Ol(Du.kt(),c))}}}return e.se}function Fl(t){var e=Qc(t);if(!e.ie)if("F"===e.limitType)e.ie=hl(e.path,e.collectionGroup,Ml(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Ml(e);r<i.length;r++){var s=i[r];n.push(new Ol(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new Sl(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Sl(e.startAt.position,!e.startAt.before):null;e.ie=hl(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.ie}function Ul(t,e,n){return new Il(t.path,t.collectionGroup,t.ne.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bl(t,e){return fl(Fl(t),Fl(e))&&t.limitType===e.limitType}function Hl(t){return dl(Fl(t))+"|lt:"+t.limitType}function zl(t){return"Query(target="+function(t){var e=t.path.Ct();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.Ct()+" "+e.op+" "+$u(e.value);var e}).join(", ")+"]"),mu(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.Ct()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+kl(t.startAt)),t.endAt&&(e+=", endAt: "+kl(t.endAt)),"Target("+e+")"}(Fl(t))+"; limitType="+t.limitType+")"}function ql(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.Bt(t.collectionGroup)&&t.path.vt(n):ju.qt(t.path)?t.path.isEqual(n):t.path.St(n)}(t,e)&&function(t,e){for(var n=0,r=t.ne;n<r.length;n++){var i=r[n];if(!i.field.Ot()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Al(t.startAt,Ml(t),e)||t.endAt&&Al(t.endAt,Ml(t),e))}(t,e)}function Ql(t){return function(e,n){for(var r=!1,i=0,s=Ml(t);i<s.length;i++){var o=s[i],a=Yl(o,e,n);if(0!==a)return a;r=r||o.field.Ot()}return 0}}function Yl(t,e,n){var r=t.field.Ot()?ju.At(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Wu(r,i):zc()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return zc()}}var Wl=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=xu.min()),void 0===s&&(s=xu.min()),void 0===o&&(o=Zc.h),this.target=t,this.targetId=e,this.re=n,this.sequenceNumber=r,this.oe=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.ce=function(e){return new t(this.target,this.targetId,this.re,e,this.oe,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.ae=function(e,n){return new t(this.target,this.targetId,this.re,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.ue=function(e){return new t(this.target,this.targetId,this.re,this.sequenceNumber,this.oe,e,this.resumeToken)},t}();function Gl(t,e){if(t.he){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gu(e)?"-0":e}}function $l(t){return{integerValue:""+t}}function Kl(t,e){return bu(e)?$l(e):Gl(t,e)}var Zl=function(){this.le=void 0};function Jl(t,e,n){return t instanceof eh?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof nh?rh(t,e):t instanceof ih?sh(t,e):function(t,e){var n=th(t,e),r=ah(n)+ah(t._e);return Ju(n)&&Ju(t._e)?$l(r):Gl(t.fe,r)}(t,e)}function Xl(t,e,n){return t instanceof nh?rh(t,e):t instanceof ih?sh(t,e):n}function th(t,e){return t instanceof oh?Ju(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var eh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Lc.c)(e,t),e}(Zl),nh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Lc.c)(e,t),e}(Zl);function rh(t,e){for(var n=ch(e),r=function(t){n.some(function(e){return Qu(e,t)})||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var ih=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Lc.c)(e,t),e}(Zl);function sh(t,e){for(var n=ch(e),r=function(t){n=n.filter(function(e){return!Qu(e,t)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var oh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).fe=e,r._e=n,r}return Object(Lc.c)(e,t),e}(Zl);function ah(t){return Fu(t.integerValue||t.doubleValue)}function ch(t){return Xu(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var uh=function(t,e){this.field=t,this.transform=e},lh=function(t,e){this.version=t,this.transformResults=e},hh=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.de=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"we",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function dh(t,e){return void 0!==t.updateTime?e instanceof al&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof al}var fh=function(){};function ph(t,e,n){return t instanceof vh?function(t,e,n){var r=t.value;if(n.transformResults){var i=Ch(t.fieldTransforms,e,n.transformResults);r=Sh(t.fieldTransforms,r,i)}return new al(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof _h?function(t,e,n){if(!dh(t.Ee,e))return new ul(t.key,n.version);var r=wh(t,e,n.transformResults?Ch(t.fieldTransforms,e,n.transformResults):[]);return new al(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new cl(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function mh(t,e,n,r){return t instanceof vh?function(t,e,n,r){if(!dh(t.Ee,e))return e;var i=t.value;if(t.fieldTransforms){var s=Eh(t.fieldTransforms,n,e,r);i=Sh(t.fieldTransforms,i,s)}var o=yh(e);return new al(t.key,o,i,{Jt:!0})}(t,e,r,n):t instanceof _h?function(t,e,n,r){if(!dh(t.Ee,e))return e;var i=yh(e),s=wh(t,e,Eh(t.fieldTransforms,n,e,r));return new al(t.key,i,s,{Jt:!0})}(t,e,r,n):function(t,e){return dh(t.Ee,e)?new cl(t.key,xu.min()):e}(t,e)}function gh(t,e){return void 0!==t.fieldTransforms?function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var s=i[r],o=e instanceof al?e.field(s.field):void 0,a=th(s.transform,o||null);null!=a&&(n=null==n?(new il).set(s.field,a):n.set(s.field,a))}return n?n.Gt():null}(t.fieldTransforms,e):null}function bh(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Ee.isEqual(e.Ee)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&$c(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof nh&&e instanceof nh||t instanceof ih&&e instanceof ih?$c(t.elements,e.elements,Qu):t instanceof oh&&e instanceof oh?Qu(t._e,e._e):t instanceof eh&&e instanceof eh}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.Te.isEqual(e.Te))}function yh(t){return t instanceof al?t.version:xu.min()}var vh=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.Ee=r,s.fieldTransforms=i,s.type=0,s}return Object(Lc.c)(e,t),e}(fh),_h=function(t){function e(e,n,r,i,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.Te=r,o.Ee=i,o.fieldTransforms=s,o.type=1,o}return Object(Lc.c)(e,t),e}(fh);function wh(t,e,n){var r;return r=function(t,e){var n=new il(e);return t.Te.fields.forEach(function(e){if(!e.bt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.Gt()}(t,r=e instanceof al?e.data():rl.empty()),Sh(t.fieldTransforms,r,n)}function Ch(t,e,n){var r=[];qc(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=null;e instanceof al&&(a=e.field(s.field)),r.push(Xl(o,a,n[i]))}return r}function Eh(t,e,n,r){for(var i=[],s=0,o=t;s<o.length;s++){var a=o[s],c=a.transform,u=null;n instanceof al&&(u=n.field(a.field)),null===u&&r instanceof al&&(u=r.field(a.field)),i.push(Jl(c,u,e))}return i}function Sh(t,e,n){for(var r=new il(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.Gt()}var kh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ee=n,r.type=2,r.fieldTransforms=[],r}return Object(Lc.c)(e,t),e}(fh),Oh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ee=n,r.type=3,r.fieldTransforms=[],r}return Object(Lc.c)(e,t),e}(fh),xh=function(t){this.count=t},Ah=function(){function t(t,e){this.At=t,this.root=e||Ih.EMPTY}return t.prototype.Ie=function(e,n){return new t(this.At,this.root.Ie(e,n,this.At).copy(null,null,Ih.me,null,null))},t.prototype.remove=function(e){return new t(this.At,this.root.remove(e,this.At).copy(null,null,Ih.me,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.bt();){var n=this.At(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.bt();){var r=this.At(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.bt=function(){return this.root.bt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Ae=function(){return this.root.Ae()},t.prototype.Re=function(){return this.root.Re()},t.prototype.Pe=function(t){return this.root.Pe(t)},t.prototype.forEach=function(t){this.Pe(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Pe(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.ye=function(t){return this.root.ye(t)},t.prototype.ge=function(){return new Th(this.root,null,this.At,!1)},t.prototype.Ve=function(t){return new Th(this.root,t,this.At,!1)},t.prototype.pe=function(){return new Th(this.root,null,this.At,!0)},t.prototype.be=function(t){return new Th(this.root,t,this.At,!0)},t}(),Th=function(){function t(t,e,n,r){this.ve=r,this.Se=[];for(var i=1;!t.bt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.ve?t.left:t.right;else{if(0===i){this.Se.push(t);break}this.Se.push(t),t=this.ve?t.right:t.left}}return t.prototype.De=function(){var t=this.Se.pop(),e={key:t.key,value:t.value};if(this.ve)for(t=t.left;!t.bt();)this.Se.push(t),t=t.right;else for(t=t.right;!t.bt();)this.Se.push(t),t=t.left;return e},t.prototype.Ce=function(){return this.Se.length>0},t.prototype.xe=function(){if(0===this.Se.length)return null;var t=this.Se[this.Se.length-1];return{key:t.key,value:t.value}},t}(),Ih=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.bt=function(){return!1},t.prototype.Pe=function(t){return this.left.Pe(t)||t(this.key,this.value)||this.right.Pe(t)},t.prototype.ye=function(t){return this.right.ye(t)||t(this.key,this.value)||this.left.ye(t)},t.prototype.min=function(){return this.left.bt()?this:this.left.min()},t.prototype.Ae=function(){return this.min().key},t.prototype.Re=function(){return this.right.bt()?this.key:this.right.Re()},t.prototype.Ie=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ie(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ie(t,e,n))).Ne()},t.prototype.Fe=function(){if(this.left.bt())return t.EMPTY;var e=this;return e.left.Oe()||e.left.left.Oe()||(e=e.ke()),(e=e.copy(null,null,null,e.left.Fe(),null)).Ne()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.bt()||i.left.Oe()||i.left.left.Oe()||(i=i.ke()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.Oe()&&(i=i.Me()),i.right.bt()||i.right.Oe()||i.right.left.Oe()||(i=i.Le()),0===n(e,i.key)){if(i.right.bt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Fe())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Ne()},t.prototype.Oe=function(){return this.color},t.prototype.Ne=function(){var t=this;return t.right.Oe()&&!t.left.Oe()&&(t=t.$e()),t.left.Oe()&&t.left.left.Oe()&&(t=t.Me()),t.left.Oe()&&t.right.Oe()&&(t=t.Be()),t},t.prototype.ke=function(){var t=this.Be();return t.right.left.Oe()&&(t=(t=(t=t.copy(null,null,null,null,t.right.Me())).$e()).Be()),t},t.prototype.Le=function(){var t=this.Be();return t.left.left.Oe()&&(t=(t=t.Me()).Be()),t},t.prototype.$e=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.Me=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Be=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.qe=function(){var t=this.Ue();return Math.pow(2,t)<=this.size+1},t.prototype.Ue=function(){if(this.Oe()&&this.left.Oe())throw zc();if(this.right.Oe())throw zc();var t=this.left.Ue();if(t!==this.right.Ue())throw zc();return t+(this.Oe()?0:1)},t}();Ih.EMPTY=null,Ih.RED=!0,Ih.me=!1,Ih.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw zc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw zc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw zc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw zc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw zc()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Ie=function(t,e,n){return new Ih(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.bt=function(){return!0},t.prototype.Pe=function(t){return!1},t.prototype.ye=function(t){return!1},t.prototype.Ae=function(){return null},t.prototype.Re=function(){return null},t.prototype.Oe=function(){return!1},t.prototype.qe=function(){return!0},t.prototype.Ue=function(){return 0},t}());var Dh=function(){function t(t){this.At=t,this.data=new Ah(this.At)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Ae()},t.prototype.last=function(){return this.data.Re()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Pe(function(e,n){return t(e),!1})},t.prototype.Qe=function(t,e){for(var n=this.data.Ve(t[0]);n.Ce();){var r=n.De();if(this.At(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ke=function(t,e){var n;for(n=void 0!==e?this.data.Ve(e):this.data.ge();n.Ce();)if(!t(n.De().key))return},t.prototype.We=function(t){var e=this.data.Ve(t);return e.Ce()?e.De().key:null},t.prototype.ge=function(){return new jh(this.data.ge())},t.prototype.Ve=function(t){return new jh(this.data.Ve(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ie(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.bt=function(){return this.data.bt()},t.prototype.je=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ge(),r=e.data.ge();n.Ce();){var i=n.De().key,s=r.De().key;if(0!==this.At(i,s))return!1}return!0},t.prototype.Dt=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.At);return n.data=e,n},t}(),jh=function(){function t(t){this.Ge=t}return t.prototype.De=function(){return this.Ge.De().key},t.prototype.Ce=function(){return this.Ge.Ce()},t}(),Rh=new Ah(ju.At);function Ph(){return Rh}function Nh(){return Ph()}var Lh=new Ah(ju.At);function Vh(){return Lh}var Mh=new Ah(ju.At);function Fh(){return Mh}var Uh=new Dh(ju.At);function Bh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Uh,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var Hh=new Dh(Gc);function zh(){return Hh}var qh=function(){function t(t){this.At=t?function(e,n){return t(e,n)||ju.At(e.key,n.key)}:function(t,e){return ju.At(t.key,e.key)},this.ze=Vh(),this.He=new Ah(this.At)}return t.Je=function(e){return new t(e.At)},t.prototype.has=function(t){return null!=this.ze.get(t)},t.prototype.get=function(t){return this.ze.get(t)},t.prototype.first=function(){return this.He.Ae()},t.prototype.last=function(){return this.He.Re()},t.prototype.bt=function(){return this.He.bt()},t.prototype.indexOf=function(t){var e=this.ze.get(t);return e?this.He.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.He.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.He.Pe(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.ze.Ie(t.key,t),e.He.Ie(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.ze.remove(t),this.He.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.He.ge(),r=e.He.ge();n.Ce();){var i=n.De().key,s=r.De().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.At=this.At,r.ze=e,r.He=n,r},t}(),Qh=function(){function t(){this.Ye=new Ah(ju.At)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Ye.get(e);n?0!==t.type&&3===n.type?this.Ye=this.Ye.Ie(e,t):3===t.type&&1!==n.type?this.Ye=this.Ye.Ie(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Ye=this.Ye.Ie(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Ye=this.Ye.Ie(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Ye=this.Ye.remove(e):1===t.type&&2===n.type?this.Ye=this.Ye.Ie(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Ye=this.Ye.Ie(e,{type:2,doc:t.doc}):zc():this.Ye=this.Ye.Ie(e,t)},t.prototype.Xe=function(){var t=[];return this.Ye.Pe(function(e,n){t.push(n)}),t},t}(),Yh=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.Ze=n,this.docChanges=r,this.tn=i,this.fromCache=s,this.en=o,this.nn=a}return t.sn=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,qh.Je(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.tn.bt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.en===t.en&&this.tn.isEqual(t.tn)&&Bl(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Ze.isEqual(t.Ze)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Wh=function(){function t(t,e,n,r,i){this.oe=t,this.rn=e,this.on=n,this.cn=r,this.an=i}return t.un=function(e,n){var r=new Map;return r.set(e,Gh.hn(e,n)),new t(xu.min(),r,zh(),Ph(),Bh())},t}(),Gh=function(){function t(t,e,n,r,i){this.resumeToken=t,this.ln=e,this._n=n,this.fn=r,this.dn=i}return t.hn=function(e,n){return new t(Zc.h,n,Bh(),Bh(),Bh())},t}(),$h=function(t,e,n,r){this.wn=t,this.removedTargetIds=e,this.key=n,this.En=r},Kh=function(t,e){this.targetId=t,this.Tn=e},Zh=function(t,e,n,r){void 0===n&&(n=Zc.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Jh=function(){function t(){this.In=0,this.mn=ed(),this.An=Zc.h,this.Rn=!1,this.Pn=!0}return Object.defineProperty(t.prototype,"ln",{get:function(){return this.Rn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.An},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"yn",{get:function(){return 0!==this.In},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gn",{get:function(){return this.Pn},enumerable:!1,configurable:!0}),t.prototype.Vn=function(t){t.o()>0&&(this.Pn=!0,this.An=t)},t.prototype.pn=function(){var t=Bh(),e=Bh(),n=Bh();return this.mn.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:zc()}}),new Gh(this.An,this.Rn,t,e,n)},t.prototype.bn=function(){this.Pn=!1,this.mn=ed()},t.prototype.vn=function(t,e){this.Pn=!0,this.mn=this.mn.Ie(t,e)},t.prototype.Sn=function(t){this.Pn=!0,this.mn=this.mn.remove(t)},t.prototype.Dn=function(){this.In+=1},t.prototype.Cn=function(){this.In-=1},t.prototype.xn=function(){this.Pn=!0,this.Rn=!0},t}(),Xh=function(){function t(t){this.Nn=t,this.Fn=new Map,this.On=Ph(),this.kn=td(),this.Mn=new Dh(Gc)}return t.prototype.Ln=function(t){for(var e=0,n=t.wn;e<n.length;e++){var r=n[e];t.En instanceof al?this.$n(r,t.En):t.En instanceof cl&&this.Bn(r,t.key,t.En)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.Bn(r=s[i],t.key,t.En)},t.prototype.qn=function(t){var e=this;this.Un(t,function(n){var r=e.Qn(n);switch(t.state){case 0:e.Kn(n)&&r.Vn(t.resumeToken);break;case 1:r.Cn(),r.yn||r.bn(),r.Vn(t.resumeToken);break;case 2:r.Cn(),r.yn||e.removeTarget(n);break;case 3:e.Kn(n)&&(r.xn(),r.Vn(t.resumeToken));break;case 4:e.Kn(n)&&(e.Wn(n),r.Vn(t.resumeToken));break;default:zc()}})},t.prototype.Un=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Fn.forEach(function(t,r){n.Kn(r)&&e(r)})},t.prototype.jn=function(t){var e=t.targetId,n=t.Tn.count,r=this.Gn(e);if(r){var i=r.target;if(pl(i))if(0===n){var s=new ju(i.path);this.Bn(e,s,new cl(s,xu.min()))}else qc(1===n);else this.zn(e)!==n&&(this.Wn(e),this.Mn=this.Mn.add(e))}},t.prototype.Hn=function(t){var e=this,n=new Map;this.Fn.forEach(function(r,i){var s=e.Gn(i);if(s){if(r.ln&&pl(s.target)){var o=new ju(s.target.path);null!==e.On.get(o)||e.Jn(i,o)||e.Bn(i,o,new cl(o,t))}r.gn&&(n.set(i,r.pn()),r.bn())}});var r=Bh();this.kn.forEach(function(t,n){var i=!0;n.Ke(function(t){var n=e.Gn(t);return!n||2===n.re||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Wh(t,n,this.Mn,this.On,r);return this.On=Ph(),this.kn=td(),this.Mn=new Dh(Gc),i},t.prototype.$n=function(t,e){if(this.Kn(t)){var n=this.Jn(t,e.key)?2:0;this.Qn(t).vn(e.key,n),this.On=this.On.Ie(e.key,e),this.kn=this.kn.Ie(e.key,this.Yn(e.key).add(t))}},t.prototype.Bn=function(t,e,n){if(this.Kn(t)){var r=this.Qn(t);this.Jn(t,e)?r.vn(e,1):r.Sn(e),this.kn=this.kn.Ie(e,this.Yn(e).delete(t)),n&&(this.On=this.On.Ie(e,n))}},t.prototype.removeTarget=function(t){this.Fn.delete(t)},t.prototype.zn=function(t){var e=this.Qn(t).pn();return this.Nn.Xn(t).size+e._n.size-e.dn.size},t.prototype.Dn=function(t){this.Qn(t).Dn()},t.prototype.Qn=function(t){var e=this.Fn.get(t);return e||(e=new Jh,this.Fn.set(t,e)),e},t.prototype.Yn=function(t){var e=this.kn.get(t);return e||(e=new Dh(Gc),this.kn=this.kn.Ie(t,e)),e},t.prototype.Kn=function(t){var e=null!==this.Gn(t);return e||Fc("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Gn=function(t){var e=this.Fn.get(t);return e&&e.yn?null:this.Nn.Zn(t)},t.prototype.Wn=function(t){var e=this;this.Fn.set(t,new Jh),this.Nn.Xn(t).forEach(function(n){e.Bn(t,n,null)})},t.prototype.Jn=function(t,e){return this.Nn.Xn(t).has(e)},t}();function td(){return new Ah(ju.At)}function ed(){return new Ah(ju.At)}var nd={asc:"ASCENDING",desc:"DESCENDING"},rd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},id=function(t,e){this.O=t,this.he=e};function sd(t,e){return t.he?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function od(t,e){return t.he?e.toBase64():e.toUint8Array()}function ad(t,e){return sd(t,e.Tt())}function cd(t){return qc(!!t),xu.wt(function(t){var e=Mu(t);return new Ou(e.seconds,e.nanos)}(t))}function ud(t,e){return function(t){return new Tu(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).Ct()}function ld(t){var e=Tu.xt(t);return qc(Pd(e)),e}function hd(t,e){return ud(t.O,e.path)}function dd(t,e){var n=ld(e);if(n.get(1)!==t.O.projectId)throw new Xc(Jc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.O.projectId);if(n.get(3)!==t.O.database)throw new Xc(Jc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.O.database);return new ju(gd(n))}function fd(t,e){return ud(t.O,e)}function pd(t){var e=ld(t);return 4===e.length?Tu.Nt():gd(e)}function md(t){return new Tu(["projects",t.O.projectId,"databases",t.O.database]).Ct()}function gd(t){return qc(t.length>4&&"documents"===t.get(4)),t.Pt(5)}function bd(t,e,n){return{name:hd(t,e),fields:n.proto.mapValue.fields}}function yd(t,e,n){var r=dd(t,e.name),i=cd(e.updateTime),s=new rl({mapValue:{fields:e.fields}});return new al(r,i,s,{hasCommittedMutations:!!n})}function vd(t,e){var n;if(e instanceof vh)n={update:bd(t,e.key,e.value)};else if(e instanceof kh)n={delete:hd(t,e.key)};else if(e instanceof _h)n={update:bd(t,e.key,e.data),updateMask:Rd(e.Te)};else{if(!(e instanceof Oh))return zc();n={verify:hd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof eh)return{fieldPath:e.field.Ct(),setToServerValue:"REQUEST_TIME"};if(n instanceof nh)return{fieldPath:e.field.Ct(),appendMissingElements:{values:n.elements}};if(n instanceof ih)return{fieldPath:e.field.Ct(),removeAllFromArray:{values:n.elements}};if(n instanceof oh)return{fieldPath:e.field.Ct(),increment:n._e};throw zc()}(0,t)})),e.Ee.we||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:ad(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:zc()}(t,e.Ee)),n}function _d(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?hh.updateTime(cd(t.updateTime)):void 0!==t.exists?hh.exists(t.exists):hh.de()}(e.currentDocument):hh.de(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(qc("REQUEST_TIME"===e.setToServerValue),n=new eh):"appendMissingElements"in e?n=new nh(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new ih(e.removeAllFromArray.values||[]):"increment"in e?n=new oh(t,e.increment):zc();var r=Du.Mt(e.fieldPath);return new uh(r,n)}(t,e)}):[];if(e.update){var i=dd(t,e.update.name),s=new rl({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new Lu((t.fieldPaths||[]).map(function(t){return Du.Mt(t)}))}(e.updateMask);return new _h(i,s,o,n,r)}return new vh(i,s,n,r)}if(e.delete){var a=dd(t,e.delete);return new kh(a,n)}if(e.verify){var c=dd(t,e.verify);return new Oh(c,n)}return zc()}function wd(t,e){return{documents:[fd(t,e.path)]}}function Cd(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=fd(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=fd(t,r.yt()),n.structuredQuery.from=[{collectionId:r.Vt()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(el(t.value))return{unaryFilter:{field:Td(t.field),op:"IS_NAN"}};if(tl(t.value))return{unaryFilter:{field:Td(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(el(t.value))return{unaryFilter:{field:Td(t.field),op:"IS_NOT_NAN"}};if(tl(t.value))return{unaryFilter:{field:Td(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Td(t.field),op:Ad(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Td(t.field),direction:xd(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.he||mu(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=kd(e.startAt)),e.endAt&&(n.structuredQuery.endAt=kd(e.endAt)),n}function Ed(t){var e=pd(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){qc(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=Sd(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new Ol(Id(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var c=null;n.limit&&(c=function(t){var e;return mu(e="object"==typeof t?t.value:t)?null:e}(n.limit));var u=null;n.startAt&&(u=Od(n.startAt));var l=null;return n.endAt&&(l=Od(n.endAt)),Dl(e,i,a,o,c,"F",u,l)}function Sd(t){return t?void 0!==t.unaryFilter?[jd(t)]:void 0!==t.fieldFilter?[Dd(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Sd(t)}).reduce(function(t,e){return t.concat(e)}):zc():[]}function kd(t){return{before:t.before,values:t.position}}function Od(t){return new Sl(t.values||[],!!t.before)}function xd(t){return nd[t]}function Ad(t){return rd[t]}function Td(t){return{fieldPath:t.Ct()}}function Id(t){return Du.Mt(t.fieldPath)}function Dd(t){return ml.create(Id(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return zc()}}(t.fieldFilter.op),t.fieldFilter.value)}function jd(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Id(t.unaryFilter.field);return ml.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Id(t.unaryFilter.field);return ml.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Id(t.unaryFilter.field);return ml.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Id(t.unaryFilter.field);return ml.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return zc()}}function Rd(t){var e=[];return t.fields.forEach(function(t){return e.push(t.Ct())}),{fieldPaths:e}}function Pd(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Nd(t){return new id(t,!0)}var Ld=function(){function t(t){var e=this;this.ts=null,this.es=null,this.result=void 0,this.error=void 0,this.ns=!1,this.ss=!1,t(function(t){e.ns=!0,e.result=t,e.ts&&e.ts(t)},function(t){e.ns=!0,e.error=t,e.es&&e.es(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.ss&&zc(),this.ss=!0,this.ns?this.error?this.rs(n,this.error):this.os(e,this.result):new t(function(t,i){r.ts=function(n){r.os(e,n).next(t,i)},r.es=function(e){r.rs(n,e).next(t,i)}})},t.prototype.cs=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.us=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.os=function(e,n){return e?this.us(function(){return e(n)}):t.resolve(n)},t.prototype.rs=function(e,n){return e?this.us(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.hs=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.ls=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.hs(r)},t}(),Vd=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this._s=new Su,this.transaction.oncomplete=function(){n._s.resolve()},this.transaction.onabort=function(){e.error?n._s.reject(new Ud(t,e.error)):n._s.resolve()},this.transaction.onerror=function(e){var r=Qd(e.target.error);n._s.reject(new Ud(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Ud(n,e)}},Object.defineProperty(t.prototype,"fs",{get:function(){return this._s.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this._s.reject(t),this.aborted||(Fc("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Hd(e)},t}(),Md=function(){function t(e,n,r){this.name=e,this.version=n,this.ds=r,12.2===t.ws(Object(Ri.g)())&&Uc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Fc("SimpleDb","Removing database:",t),zd(window.indexedDB.deleteDatabase(t)).cs()},t.G=function(){if("undefined"==typeof indexedDB)return!1;if(t.Es())return!0;var e=Object(Ri.g)(),n=t.ws(e),r=0<n&&n<10,i=t.Ts(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.Es=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Is)},t.As=function(t,e){return t.store(e)},t.ws=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Ts=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Rs=function(t){return Object(Lc.b)(this,void 0,void 0,function(){var e,n=this;return Object(Lc.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Fc("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Ud(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Xc(Jc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Ud(t,n))},i.onupgradeneeded=function(t){Fc("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.ds.Ps(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Fc("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.ys&&(this.db.onversionchange=function(t){return n.ys(t)}),this.db)]}})})},t.prototype.gs=function(t){this.ys=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Lc.b)(this,void 0,void 0,function(){var i,s,o,a,c;return Object(Lc.d)(this,function(u){switch(u.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,c,u,l;return Object(Lc.d)(this,function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Rs(t)];case 2:return a.db=h.sent(),e=Vd.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch(function(t){return e.abort(t),Ld.reject(t)}).cs(),c={},o.catch(function(){}),[4,e.fs];case 3:return[2,(c.value=(h.sent(),o),c)];case 4:return Fc("SimpleDb","Transaction failed with error:",(u=h.sent()).message,"Retrying:",l="FirebaseError"!==u.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(u)}];case 5:return[2]}})},a=this,u.label=1;case 1:return[5,o()];case 2:if("object"==typeof(c=u.sent()))return[2,c.value];u.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Fd=function(){function t(t){this.Vs=t,this.ps=!1,this.bs=null}return Object.defineProperty(t.prototype,"ns",{get:function(){return this.ps},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vs",{get:function(){return this.bs},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Vs=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.ps=!0},t.prototype.Ss=function(t){this.bs=t},t.prototype.delete=function(){return zd(this.Vs.delete())},t}(),Ud=function(t){function e(e,n){var r=this;return(r=t.call(this,Jc.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Lc.c)(e,t),e}(Xc);function Bd(t){return"IndexedDbTransactionError"===t.name}var Hd=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Fc("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Fc("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),zd(n)},t.prototype.add=function(t){return Fc("SimpleDb","ADD",this.store.name,t,t),zd(this.store.add(t))},t.prototype.get=function(t){var e=this;return zd(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Fc("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Fc("SimpleDb","DELETE",this.store.name,t),zd(this.store.delete(t))},t.prototype.count=function(){return Fc("SimpleDb","COUNT",this.store.name),zd(this.store.count())},t.prototype.Ds=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.Cs(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.xs=function(t,e){Fc("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Ns=!1;var r=this.cursor(n);return this.Cs(r,function(t,e,n){return n.delete()})},t.prototype.Fs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.Cs(r,e)},t.prototype.Os=function(t){var e=this.cursor({});return new Ld(function(n,r){e.onerror=function(t){var e=Qd(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.Cs=function(t,e){var n=[];return new Ld(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new Fd(i),o=e(i.primaryKey,i.value,s);if(o instanceof Ld){var a=o.catch(function(t){return s.done(),Ld.reject(t)});n.push(a)}s.ns?r():null===s.vs?i.continue():i.continue(s.vs)}else r()}}).next(function(){return Ld.hs(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Ns?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function zd(t){return new Ld(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Qd(t.target.error);n(e)}})}var qd=!1;function Qd(t){var e=Md.ws(Object(Ri.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Xc("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return qd||(qd=!0,setTimeout(function(){throw r},0)),r}}return t}var Yd=function(){function t(t,e,n,r,i){this.ks=t,this.Ms=e,this.Ls=n,this.op=r,this.$s=i,this.Bs=new Su,this.then=this.Bs.promise.then.bind(this.Bs.promise),this.Bs.promise.catch(function(t){})}return t.qs=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.Us=setTimeout(function(){return e.Qs()},t)},t.prototype.Ks=function(){return this.Qs()},t.prototype.cancel=function(t){null!==this.Us&&(this.clearTimeout(),this.Bs.reject(new Xc(Jc.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Qs=function(){var t=this;this.ks.Ws(function(){return null!==t.Us?(t.clearTimeout(),t.op().then(function(e){return t.Bs.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.Us&&(this.$s(this),clearTimeout(this.Us),this.Us=null)},t}();function Wd(t,e){if(Uc("AsyncQueue",e+": "+t),Bd(t))return new Xc(Jc.UNAVAILABLE,e+": "+t);throw t}var Gd=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.js=t,this.Ms=e,this.Gs=n,this.zs=r,this.Hs=i,this.Js=0,this.Ys=null,this.Xs=Date.now(),this.reset()}return t.prototype.reset=function(){this.Js=0},t.prototype.Zs=function(){this.Js=this.Hs},t.prototype.ti=function(t){var e=this;this.cancel();var n=Math.floor(this.Js+this.ei()),r=Math.max(0,Date.now()-this.Xs),i=Math.max(0,n-r);i>0&&Fc("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Js+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ys=this.js.ni(this.Ms,i,function(){return e.Xs=Date.now(),t()}),this.Js*=this.zs,this.Js<this.Gs&&(this.Js=this.Gs),this.Js>this.Hs&&(this.Js=this.Hs)},t.prototype.si=function(){null!==this.Ys&&(this.Ys.Ks(),this.Ys=null)},t.prototype.cancel=function(){null!==this.Ys&&(this.Ys.cancel(),this.Ys=null)},t.prototype.ei=function(){return(Math.random()-.5)*this.Js},t}(),$d=function(){function t(t,e,n,r,i,s){this.js=t,this.ii=n,this.ri=r,this.oi=i,this.listener=s,this.state=0,this.ci=0,this.ai=null,this.stream=null,this.ui=new Gd(t,e)}return t.prototype.hi=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.li=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this._i()},t.prototype.stop=function(){return Object(Lc.b)(this,void 0,void 0,function(){return Object(Lc.d)(this,function(t){switch(t.label){case 0:return this.hi()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.fi=function(){this.state=0,this.ui.reset()},t.prototype.di=function(){var t=this;this.li()&&null===this.ai&&(this.ai=this.js.ni(this.ii,6e4,function(){return t.wi()}))},t.prototype.Ei=function(t){this.Ti(),this.stream.send(t)},t.prototype.wi=function(){return Object(Lc.b)(this,void 0,void 0,function(){return Object(Lc.d)(this,function(t){return this.li()?[2,this.close(0)]:[2]})})},t.prototype.Ti=function(){this.ai&&(this.ai.cancel(),this.ai=null)},t.prototype.close=function(t,e){return Object(Lc.b)(this,void 0,void 0,function(){return Object(Lc.d)(this,function(n){switch(n.label){case 0:return this.Ti(),this.ui.cancel(),this.ci++,3!==t?this.ui.reset():e&&e.code===Jc.RESOURCE_EXHAUSTED?(Uc(e.toString()),Uc("Using maximum backoff delay to prevent overloading the backend."),this.ui.Zs()):e&&e.code===Jc.UNAUTHENTICATED&&this.oi.g(),null!==this.stream&&(this.Ii(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Z(e)];case 1:return n.sent(),[2]}})})},t.prototype.Ii=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.mi(this.ci),n=this.ci;this.oi.getToken().then(function(e){t.ci===n&&t.Ai(e)},function(n){e(function(){var e=new Xc(Jc.UNKNOWN,"Fetching auth token failed: "+n.message);return t.Ri(e)})})},t.prototype.Ai=function(t){var e=this,n=this.mi(this.ci);this.stream=this.Pi(t),this.stream.Y(function(){n(function(){return e.state=2,e.listener.Y()})}),this.stream.Z(function(t){n(function(){return e.Ri(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype._i=function(){var t=this;this.state=4,this.ui.ti(function(){return Object(Lc.b)(t,void 0,void 0,function(){return Object(Lc.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.Ri=function(t){return Fc("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.mi=function(t){var e=this;return function(n){e.js.Ws(function(){return e.ci===t?n():(Fc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Kd=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).fe=i,o}return Object(Lc.c)(e,t),e.prototype.Pi=function(t){return this.ri.ft("Listen",t)},e.prototype.onMessage=function(t){this.ui.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:zc()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.he?(qc(void 0===e||"string"==typeof e),Zc.fromBase64String(e||"")):(qc(void 0===e||e instanceof Uint8Array),Zc.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Jc.UNKNOWN:Cu(t.code);return new Xc(e,t.message||"")}(a);n=new Zh(r,i,s,o||null)}else if("documentChange"in e){i=dd(t,(r=e.documentChange).document.name),s=cd(r.document.updateTime);var a=new rl({mapValue:{fields:r.document.fields}}),c=(o=new al(i,s,a,{}),r.targetIds||[]);n=new $h(c,r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)i=dd(t,(r=e.documentDelete).document),s=r.readTime?cd(r.readTime):xu.min(),a=new cl(i,s),n=new $h([],o=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=dd(t,(r=e.documentRemove).document),n=new $h([],s=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return zc();var u=e.filter;i=new xh(r=u.count||0),n=new Kh(s=u.targetId,i)}return n}(this.fe,t),n=function(t){if(!("targetChange"in t))return xu.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?xu.min():e.readTime?cd(e.readTime):xu.min()}(t);return this.listener.yi(e,n)},e.prototype.gi=function(t){var e={};e.database=md(this.fe),e.addTarget=function(t,e){var n,r=e.target;return(n=pl(r)?{documents:wd(t,r)}:{query:Cd(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=od(t,e.resumeToken):e.oe.u(xu.min())>0&&(n.readTime=sd(t,e.oe.Tt())),n}(this.fe,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return zc()}}(0,e.re);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.Ei(e)},e.prototype.Vi=function(t){var e={};e.database=md(this.fe),e.removeTarget=t,this.Ei(e)},e}($d),Zd=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).fe=i,o.pi=!1,o}return Object(Lc.c)(e,t),Object.defineProperty(e.prototype,"bi",{get:function(){return this.pi},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.pi=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.Ii=function(){this.pi&&this.vi([])},e.prototype.Pi=function(t){return this.ri.ft("Write",t)},e.prototype.onMessage=function(t){if(qc(!!t.streamToken),this.lastStreamToken=t.streamToken,this.pi){this.ui.reset();var e=function(t,e){return t&&t.length>0?(qc(void 0!==e),t.map(function(t){return function(t,e){var n=cd(t.updateTime?t.updateTime:e);n.isEqual(xu.min())&&(n=cd(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new lh(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=cd(t.commitTime);return this.listener.Si(n,e)}return qc(!t.writeResults||0===t.writeResults.length),this.pi=!0,this.listener.Di()},e.prototype.Ci=function(){var t={};t.database=md(this.fe),this.Ei(t)},e.prototype.vi=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return vd(e.fe,t)})};this.Ei(n)},e}($d),Jd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.ri=n,i.fe=r,i.xi=!1,i}return Object(Lc.c)(e,t),e.prototype.Ni=function(){if(this.xi)throw new Xc(Jc.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.at=function(t,e,n){var r=this;return this.Ni(),this.credentials.getToken().then(function(i){return r.ri.at(t,e,n,i)}).catch(function(t){throw t.code===Jc.UNAUTHENTICATED&&r.credentials.g(),t})},e.prototype._t=function(t,e,n){var r=this;return this.Ni(),this.credentials.getToken().then(function(i){return r.ri._t(t,e,n,i)}).catch(function(t){throw t.code===Jc.UNAUTHENTICATED&&r.credentials.g(),t})},e.prototype.terminate=function(){this.xi=!1},e}(function(){}),Xd="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",tf=function(){function t(){this.Fi=[]}return t.prototype.Oi=function(t){this.Fi.push(t)},t.prototype.ki=function(){this.Fi.forEach(function(t){return t()})},t}(),ef={Mi:!1,Li:0,$i:0,Bi:0},nf=function(){function t(t,e,n){this.qi=t,this.Ui=e,this.Qi=n}return t.Ki=function(e){return new t(e,t.Wi,t.ji)},t}();nf.Wi=10,nf.ji=1e3,nf.Gi=new nf(41943040,nf.Wi,nf.ji),nf.zi=new nf(-1,0,0);var rf=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.Hi=function(t){return n.Ji(t)},this.Yi=function(t){return e.Xi(t)})}return t.prototype.Ji=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.Yi&&this.Yi(t),t},t}();function sf(t){return Object(Lc.b)(this,void 0,void 0,function(){return Object(Lc.d)(this,function(e){if(t.code!==Jc.FAILED_PRECONDITION||t.message!==Xd)throw t;return Fc("LocalStore","Unexpectedly lost primary lease"),[2]})})}rf.Zi=-1;var of=function(t,e){this.progress=t,this.tr=e},af=function(){function t(t,e,n,r){this.batchId=t,this.er=e,this.baseMutations=n,this.mutations=r}return t.prototype.nr=function(t,e,n){for(var r=n.sr,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t)&&(e=ph(s,e,r[i]))}return e},t.prototype.ir=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=mh(i,e,e,this.er))}for(var s=e,o=0,a=this.mutations;o<a.length;o++){var c=a[o];c.key.isEqual(t)&&(e=mh(c,e,s,this.er))}return e},t.prototype.rr=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.ir(r.key,t.get(r.key));i&&(n=n.Ie(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Bh())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&$c(this.mutations,t.mutations,function(t,e){return bh(t,e)})&&$c(this.baseMutations,t.baseMutations,function(t,e){return bh(t,e)})},t}(),cf=function(){function t(t,e,n,r){this.batch=t,this.cr=e,this.sr=n,this.ar=r}return t.from=function(e,n,r){qc(e.mutations.length===r.length);for(var i=Fh(),s=e.mutations,o=0;o<s.length;o++)i=i.Ie(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),uf=function(){function t(t,e){this.ur=t,this.hr=e,this.lr={}}return t.prototype.get=function(t){var e=this.ur(t),n=this.lr[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.hr(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ur(t),r=this.lr[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.hr(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.lr[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ur(t),n=this.lr[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.hr(n[r][0],t))return 1===n.length?delete this.lr[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Pu(this.lr,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.bt=function(){return Nu(this.lr)},t}(),lf=function(){function t(){this._r=new uf(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.dr=!1}return t.prototype.wr=function(t){var e=this._r.get(t);return e?e.readTime:xu.min()},t.prototype.Er=function(t,e){this.Tr(),this._r.set(t.key,{Ir:t,readTime:e})},t.prototype.mr=function(t,e){void 0===e&&(e=null),this.Tr(),this._r.set(t,{Ir:null,readTime:e})},t.prototype.Ar=function(t,e){this.Tr();var n=this._r.get(e);return void 0!==n?Ld.resolve(n.Ir):this.Rr(t,e)},t.prototype.getEntries=function(t,e){return this.Pr(t,e)},t.prototype.apply=function(t){return this.Tr(),this.dr=!0,this.yr(t)},t.prototype.Tr=function(){},t}();function hf(t,e){var n=t[1],r=e[1],i=Gc(t[0],e[0]);return 0===i?Gc(n,r):i}var df=function(){function t(t){this.gr=t,this.buffer=new Dh(hf),this.Vr=0}return t.prototype.pr=function(){return++this.Vr},t.prototype.br=function(t){var e=[t,this.pr()];if(this.buffer.size<this.gr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();hf(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),ff=function(){function t(t,e){this.vr=t,this.ks=e,this.Sr=!1,this.Dr=null}return t.prototype.start=function(t){-1!==this.vr.params.qi&&this.Cr(t)},t.prototype.stop=function(){this.Dr&&(this.Dr.cancel(),this.Dr=null)},Object.defineProperty(t.prototype,"Nr",{get:function(){return null!==this.Dr},enumerable:!1,configurable:!0}),t.prototype.Cr=function(t){var e=this,n=this.Sr?3e5:6e4;Fc("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Dr=this.ks.ni("lru_garbage_collection",n,function(){return Object(Lc.b)(e,void 0,void 0,function(){var e;return Object(Lc.d)(this,function(n){switch(n.label){case 0:this.Dr=null,this.Sr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Fr(this.vr)];case 2:return n.sent(),[3,7];case 3:return Bd(e=n.sent())?(Fc("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,sf(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Cr(t)];case 8:return n.sent(),[2]}})})})},t}(),pf=function(){function t(t,e){this.Or=t,this.params=e}return t.prototype.kr=function(t,e){return this.Or.Mr(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.Lr=function(t,e){var n=this;if(0===e)return Ld.resolve(rf.Zi);var r=new df(e);return this.Or.Un(t,function(t){return r.br(t.sequenceNumber)}).next(function(){return n.Or.$r(t,function(t){return r.br(t)})}).next(function(){return r.maxValue})},t.prototype.Br=function(t,e,n){return this.Or.Br(t,e,n)},t.prototype.qr=function(t,e){return this.Or.qr(t,e)},t.prototype.Ur=function(t,e){var n=this;return-1===this.params.qi?(Fc("LruGarbageCollector","Garbage collection skipped; disabled"),Ld.resolve(ef)):this.Qr(t).next(function(r){return r<n.params.qi?(Fc("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.qi),ef):n.Kr(t,e)})},t.prototype.Qr=function(t){return this.Or.Qr(t)},t.prototype.Kr=function(t,e){var n,r,i,s,o,a,c,u=this,l=Date.now();return this.kr(t,this.params.Ui).next(function(e){return e>u.params.Qi?(Fc("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+u.params.Qi+" from "+e),r=u.params.Qi):r=e,s=Date.now(),u.Lr(t,r)}).next(function(r){return n=r,o=Date.now(),u.Br(t,n,e)}).next(function(e){return i=e,a=Date.now(),u.qr(t,n)}).next(function(t){return c=Date.now(),Mc()<=ji.a.DEBUG&&Fc("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(c-a)+"ms\nTotal Duration: "+(c-l)+"ms"),Ld.resolve({Mi:!0,Li:r,$i:i,Bi:t})})},t}();function mf(t,e,n){if(!n)throw new Xc(Jc.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function gf(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Xc(Jc.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function bf(t,e,n,r){if(!0===e&&!0===r)throw new Xc(Jc.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function yf(t){if(!ju.qt(t))throw new Xc(Jc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function vf(t){if(ju.qt(t))throw new Xc(Jc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function _f(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":zc()}function wf(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new Xc(Jc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=_f(t);throw new Xc(Jc.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Cf(t,e){if(e<=0)throw new Xc(Jc.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Ef=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Xc(Jc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Xc(Jc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,bf("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Sf=new Map,kf=function(){function t(t,e){this.Wr="(lite)",this.jr=new Ef({}),this.Gr=!1,t instanceof du?(this.zr=t,this.Hr=new au):(this.Jr=t,this.zr=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Xc(Jc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new du(t.options.projectId)}(t),this.Hr=new cu(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Jr)throw new Xc(Jc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Jr},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Yr",{get:function(){return this.Gr},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Xr",{get:function(){return void 0!==this.Zr},enumerable:!1,configurable:!0}),t.prototype.eo=function(t){if(this.Gr)throw new Xc(Jc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.jr=new Ef(t),void 0!==t.credentials&&(this.Hr=function(t){if(!t)return new au;switch(t.type){case"gapi":var e=t.client;return qc(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new lu(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Xc(Jc.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.no=function(){return this.jr},t.prototype.so=function(){return this.Gr=!0,this.jr},t.prototype._delete=function(){return this.Zr||(this.Zr=this.io()),this.Zr},t.prototype.io=function(){return(t=Sf.get(this))&&(Fc("ComponentProvider","Removing Datastore"),Sf.delete(this),t.terminate()),Promise.resolve();var t},t}();function Of(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Af(e)),e=xf(t.get(n),e);return Af(e)}function xf(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function Af(t){return t+"\x01\x01"}function Tf(t){var e=t.length;if(qc(e>=2),2===e)return qc("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Tu.Nt();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&zc(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),c=void 0;0===i.length?c=a:(c=i+=a,i=""),r.push(c);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:zc()}s=o+2}return new Tu(r)}var If=function(t,e){this.seconds=t,this.nanoseconds=e},Df=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Df.store="owner",Df.key="owner";var jf=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};jf.store="mutationQueues",jf.keyPath="userId";var Rf=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Rf.store="mutations",Rf.keyPath="batchId",Rf.userMutationsIndex="userMutationsIndex",Rf.userMutationsKeyPath=["userId","batchId"];var Pf=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Of(e)]},t.key=function(t,e,n){return[t,Of(e),n]},t}();Pf.store="documentMutations",Pf.PLACEHOLDER=new Pf;var Nf=function(t,e){this.path=t,this.readTime=e},Lf=function(t,e){this.path=t,this.version=e},Vf=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};Vf.store="remoteDocuments",Vf.readTimeIndex="readTimeIndex",Vf.readTimeIndexPath="readTime",Vf.collectionReadTimeIndex="collectionReadTimeIndex",Vf.collectionReadTimeIndexPath=["parentPath","readTime"];var Mf=function(t){this.byteSize=t};Mf.store="remoteDocumentGlobal",Mf.key="remoteDocumentGlobalKey";var Ff=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};Ff.store="targets",Ff.keyPath="targetId",Ff.queryTargetsIndexName="queryTargetsIndex",Ff.queryTargetsKeyPath=["canonicalId","targetId"];var Uf=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Uf.store="targetDocuments",Uf.keyPath=["targetId","path"],Uf.documentTargetsIndex="documentTargetsIndex",Uf.documentTargetsKeyPath=["path","targetId"];var Bf=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Bf.key="targetGlobalKey",Bf.store="targetGlobal";var Hf=function(t,e){this.collectionId=t,this.parent=e};Hf.store="collectionParents",Hf.keyPath=["collectionId","parent"];var zf=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};zf.store="clientMetadata",zf.keyPath="clientId";var qf=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};qf.store="bundles",qf.keyPath="bundleId";var Qf=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Qf.store="namedQueries",Qf.keyPath="name";var Yf=Object(Lc.g)(Object(Lc.g)(Object(Lc.g)(Object(Lc.g)([jf.store,Rf.store,Pf.store,Vf.store,Ff.store,Df.store,Bf.store,Uf.store],[zf.store]),[Mf.store]),[Hf.store]),[qf.store,Qf.store]),Wf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ro=e,r.oo=n,r}return Object(Lc.c)(e,t),e}(tf);function Gf(t,e){var n=Qc(t);return Md.As(n.ro,e)}var $f=function(t){this.co=t};function Kf(t,e){if(e.document)return yd(t.co,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=ju.Ut(e.noDocument.path),r=ep(e.noDocument.readTime);return new cl(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=ju.Ut(e.unknownDocument.path);return r=ep(e.unknownDocument.version),new ul(i,r)}return zc()}function Zf(t,e,n){var r=Jf(n),i=e.key.path.yt().Dt();if(e instanceof al){var s=function(t,e){return{name:hd(t,e.key),fields:e.Yt().mapValue.fields,updateTime:sd(t,e.version.Tt())}}(t.co,e),o=e.hasCommittedMutations;return new Vf(null,null,s,o,r,i)}if(e instanceof cl){var a=e.key.path.Dt(),c=tp(e.version);return o=e.hasCommittedMutations,new Vf(null,new Nf(a,c),null,o,r,i)}if(e instanceof ul){var u=e.key.path.Dt(),l=tp(e.version);return new Vf(new Lf(u,l),null,null,!0,r,i)}return zc()}function Jf(t){var e=t.Tt();return[e.seconds,e.nanoseconds]}function Xf(t){var e=new Ou(t[0],t[1]);return xu.wt(e)}function tp(t){var e=t.Tt();return new If(e.seconds,e.nanoseconds)}function ep(t){var e=new Ou(t.seconds,t.nanoseconds);return xu.wt(e)}function np(t,e){for(var n=(e.baseMutations||[]).map(function(e){return _d(t.co,e)}),r=e.mutations.length-1;r>=0;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var s=e.mutations.map(function(e){return _d(t.co,e)}),o=Ou.fromMillis(e.localWriteTimeMs);return new af(e.batchId,o,n,s)}function rp(t){var e,n,r=ep(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?ep(t.lastLimboFreeSnapshotVersion):xu.min();return void 0!==t.query.documents?(qc(1===(n=t.query).documents.length),e=Fl(jl(pd(n.documents[0])))):e=function(t){return Fl(Ed(t))}(t.query),new Wl(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Zc.fromBase64String(t.resumeToken))}function ip(t,e){var n,r=tp(e.oe),i=tp(e.lastLimboFreeSnapshotVersion);n=pl(e.target)?wd(t.co,e.target):Cd(t.co,e.target);var s=e.resumeToken.toBase64();return new Ff(e.targetId,dl(e.target),r,s,e.sequenceNumber,i,n)}function sp(t){var e=Ed({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Ul(e,e.limit,"L"):e}var op=function(){function t(){}return t.prototype.ao=function(t,e){return ap(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:ep(e.createTime),version:e.version};var e})},t.prototype.uo=function(t,e){return ap(t).put({bundleId:(n=e).id,createTime:tp(cd(n.createTime)),version:n.version});var n},t.prototype.ho=function(t,e){return cp(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:sp(e.bundledQuery),readTime:ep(e.readTime)};var e})},t.prototype.lo=function(t,e){return cp(t).put(function(t){return{name:t.name,readTime:tp(cd(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function ap(t){return Gf(t,qf.store)}function cp(t){return Gf(t,Qf.store)}var up=function(){function t(){this._o=new lp}return t.prototype.fo=function(t,e){return this._o.add(e),Ld.resolve()},t.prototype.wo=function(t,e){return Ld.resolve(this._o.getEntries(e))},t}(),lp=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.Vt(),n=t.yt(),r=this.index[e]||new Dh(Tu.At),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.Vt(),n=t.yt(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Dh(Tu.At)).Dt()},t}(),hp=function(){function t(){this.Eo=new lp}return t.prototype.fo=function(t,e){var n=this;if(!this.Eo.has(e)){var r=e.Vt(),i=e.yt();t.Oi(function(){n.Eo.add(e)});var s={collectionId:r,parent:Of(i)};return dp(t).put(s)}return Ld.resolve()},t.prototype.wo=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Kc(e),""],!1,!0);return dp(t).Ds(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(Tf(s.parent))}return n})},t}();function dp(t){return Gf(t,Hf.store)}function fp(t,e,n){var r=t.store(Rf.store),i=t.store(Pf.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,c=r.Fs({range:o},function(t,e,n){return a++,n.delete()});s.push(c.next(function(){qc(1===a)}));for(var u=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=Pf.key(e,d.key.path,n.batchId);s.push(i.delete(f)),u.push(d.key)}return Ld.hs(s).next(function(){return u})}function pp(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw zc();e=t.noDocument}return JSON.stringify(e).length}var mp=function(){function t(t,e,n,r){this.userId=t,this.fe=e,this.To=n,this.Io=r,this.mo={}}return t.Ao=function(e,n,r,i){return qc(""!==e.uid),new t(e.T()?e.uid:"",n,r,i)},t.prototype.Ro=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return bp(t).Fs({index:Rf.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Po=function(t,e,n,r){var i=this,s=yp(t),o=bp(t);return o.add({}).next(function(a){qc("number"==typeof a);for(var c=new af(a,e,n,r),u=function(t,e,n){var r=n.baseMutations.map(function(e){return vd(t.co,e)}),i=n.mutations.map(function(e){return vd(t.co,e)});return new Rf(e,n.batchId,n.er.toMillis(),r,i)}(i.fe,i.userId,c),l=[],h=new Dh(function(t,e){return Gc(t.Ct(),e.Ct())}),d=0,f=r;d<f.length;d++){var p=f[d],m=Pf.key(i.userId,p.key.path,a);h=h.add(p.key.path.yt()),l.push(o.put(u)),l.push(s.put(m,Pf.PLACEHOLDER))}return h.forEach(function(e){l.push(i.To.fo(t,e))}),t.Oi(function(){i.mo[a]=c.keys()}),Ld.hs(l).next(function(){return c})})},t.prototype.yo=function(t,e){var n=this;return bp(t).get(e).next(function(t){return t?(qc(t.userId===n.userId),np(n.fe,t)):null})},t.prototype.Vo=function(t,e){var n=this;return this.mo[e]?Ld.resolve(this.mo[e]):this.yo(t,e).next(function(t){if(t){var r=t.keys();return n.mo[e]=r,r}return null})},t.prototype.po=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return bp(t).Fs({index:Rf.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(qc(e.batchId>=r),s=np(n.fe,e)),i.done()}).next(function(){return s})},t.prototype.bo=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return bp(t).Fs({index:Rf.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.vo=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return bp(t).Ds(Rf.userMutationsIndex,n).next(function(t){return t.map(function(t){return np(e.fe,t)})})},t.prototype.So=function(t,e){var n=this,r=Pf.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return yp(t).Fs({range:i},function(r,i,o){var a=r[0],c=r[2],u=Tf(r[1]);if(a===n.userId&&e.path.isEqual(u))return bp(t).get(c).next(function(t){if(!t)throw zc();qc(t.userId===n.userId),s.push(np(n.fe,t))});o.done()}).next(function(){return s})},t.prototype.Do=function(t,e){var n=this,r=new Dh(Gc),i=[];return e.forEach(function(e){var s=Pf.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=yp(t).Fs({range:o},function(t,i,s){var o=t[0],a=t[2],c=Tf(t[1]);o===n.userId&&e.path.isEqual(c)?r=r.add(a):s.done()});i.push(a)}),Ld.hs(i).next(function(){return n.Co(t,r)})},t.prototype.xo=function(t,e){var n=this,r=e.path,i=r.length+1,s=Pf.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new Dh(Gc);return yp(t).Fs({range:o},function(t,e,s){var o=t[0],c=t[2],u=Tf(t[1]);o===n.userId&&r.vt(u)?u.length===i&&(a=a.add(c)):s.done()}).next(function(){return n.Co(t,a)})},t.prototype.Co=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(bp(t).get(e).next(function(t){if(null===t)throw zc();qc(t.userId===n.userId),r.push(np(n.fe,t))}))}),Ld.hs(i).next(function(){return r})},t.prototype.No=function(t,e){var n=this;return fp(t.ro,this.userId,e).next(function(r){return t.Oi(function(){n.Fo(e.batchId)}),Ld.forEach(r,function(e){return n.Io.Oo(t,e)})})},t.prototype.Fo=function(t){delete this.mo[t]},t.prototype.ko=function(t){var e=this;return this.Ro(t).next(function(n){if(!n)return Ld.resolve();var r=IDBKeyRange.lowerBound(Pf.prefixForUser(e.userId)),i=[];return yp(t).Fs({range:r},function(t,n,r){if(t[0]===e.userId){var s=Tf(t[1]);i.push(s)}else r.done()}).next(function(){qc(0===i.length)})})},t.prototype.Mo=function(t,e){return gp(t,this.userId,e)},t.prototype.Lo=function(t){var e=this;return vp(t).get(this.userId).next(function(t){return t||new jf(e.userId,-1,"")})},t}();function gp(t,e,n){var r=Pf.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return yp(t).Fs({range:s,Ns:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function bp(t){return Gf(t,Rf.store)}function yp(t){return Gf(t,Pf.store)}function vp(t){return Gf(t,jf.store)}var _p=function(){function t(t){this.$o=t}return t.prototype.next=function(){return this.$o+=2,this.$o},t.Bo=function(){return new t(0)},t.qo=function(){return new t(-1)},t}(),wp=function(){function t(t,e){this.Io=t,this.fe=e}return t.prototype.Uo=function(t){var e=this;return this.Qo(t).next(function(n){var r=new _p(n.highestTargetId);return n.highestTargetId=r.next(),e.Ko(t,n).next(function(){return n.highestTargetId})})},t.prototype.Wo=function(t){return this.Qo(t).next(function(t){return xu.wt(new Ou(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.jo=function(t){return this.Qo(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Go=function(t,e,n){var r=this;return this.Qo(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.Tt()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ko(t,i)})},t.prototype.zo=function(t,e){var n=this;return this.Ho(t,e).next(function(){return n.Qo(t).next(function(r){return r.targetCount+=1,n.Jo(e,r),n.Ko(t,r)})})},t.prototype.Yo=function(t,e){return this.Ho(t,e)},t.prototype.Xo=function(t,e){var n=this;return this.Zo(t,e.targetId).next(function(){return Cp(t).delete(e.targetId)}).next(function(){return n.Qo(t)}).next(function(e){return qc(e.targetCount>0),e.targetCount-=1,n.Ko(t,e)})},t.prototype.Br=function(t,e,n){var r=this,i=0,s=[];return Cp(t).Fs(function(o,a){var c=rp(a);c.sequenceNumber<=e&&null===n.get(c.targetId)&&(i++,s.push(r.Xo(t,c)))}).next(function(){return Ld.hs(s)}).next(function(){return i})},t.prototype.Un=function(t,e){return Cp(t).Fs(function(t,n){var r=rp(n);e(r)})},t.prototype.Qo=function(t){return Ep(t).get(Bf.key).next(function(t){return qc(null!==t),t})},t.prototype.Ko=function(t,e){return Ep(t).put(Bf.key,e)},t.prototype.Ho=function(t,e){return Cp(t).put(ip(this.fe,e))},t.prototype.Jo=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.tc=function(t){return this.Qo(t).next(function(t){return t.targetCount})},t.prototype.ec=function(t,e){var n=dl(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Cp(t).Fs({range:r,index:Ff.queryTargetsIndexName},function(t,n,r){var s=rp(n);fl(e,s.target)&&(i=s,r.done())}).next(function(){return i})},t.prototype.nc=function(t,e,n){var r=this,i=[],s=Sp(t);return e.forEach(function(e){var o=Of(e.path);i.push(s.put(new Uf(n,o))),i.push(r.Io.sc(t,n,e))}),Ld.hs(i)},t.prototype.ic=function(t,e,n){var r=this,i=Sp(t);return Ld.forEach(e,function(e){var s=Of(e.path);return Ld.hs([i.delete([n,s]),r.Io.rc(t,n,e)])})},t.prototype.Zo=function(t,e){var n=Sp(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.oc=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Sp(t),i=Bh();return r.Fs({range:n,Ns:!0},function(t,e,n){var r=Tf(t[1]),s=new ju(r);i=i.add(s)}).next(function(){return i})},t.prototype.Mo=function(t,e){var n=Of(e.path),r=IDBKeyRange.bound([n],[Kc(n)],!1,!0),i=0;return Sp(t).Fs({index:Uf.documentTargetsIndex,Ns:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Zn=function(t,e){return Cp(t).get(e).next(function(t){return t?rp(t):null})},t}();function Cp(t){return Gf(t,Ff.store)}function Ep(t){return Gf(t,Bf.store)}function Sp(t){return Gf(t,Uf.store)}var kp=function(){function t(t,e){this.db=t,this.vr=function(t,e){return new pf(t,e)}(this,e)}return t.prototype.Mr=function(t){var e=this.cc(t);return this.db.ac().tc(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.cc=function(t){var e=0;return this.$r(t,function(t){e++}).next(function(){return e})},t.prototype.Un=function(t,e){return this.db.ac().Un(t,e)},t.prototype.$r=function(t,e){return this.uc(t,function(t,n){return e(n)})},t.prototype.sc=function(t,e,n){return Op(t,n)},t.prototype.rc=function(t,e,n){return Op(t,n)},t.prototype.Br=function(t,e,n){return this.db.ac().Br(t,e,n)},t.prototype.Oo=function(t,e){return Op(t,e)},t.prototype.hc=function(t,e){return function(t,e){var n=!1;return vp(t).Os(function(r){return gp(t,r,e).next(function(t){return t&&(n=!0),Ld.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.qr=function(t,e){var n=this,r=this.db._c().lc(),i=[],s=0;return this.uc(t,function(o,a){if(a<=e){var c=n.hc(t,o).next(function(e){if(!e)return s++,r.Ar(t,o).next(function(){return r.mr(o),Sp(t).delete([0,Of(o.path)])})});i.push(c)}}).next(function(){return Ld.hs(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.ce(t.oo);return this.db.ac().Yo(t,n)},t.prototype.fc=function(t,e){return Op(t,e)},t.prototype.uc=function(t,e){var n,r=Sp(t),i=rf.Zi;return r.Fs({index:Uf.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==rf.Zi&&e(new ju(Tf(n)),i),i=o,n=s):i=rf.Zi}).next(function(){i!==rf.Zi&&e(new ju(Tf(n)),i)})},t.prototype.Qr=function(t){return this.db._c().dc(t)},t}();function Op(t,e){return Sp(t).put(function(t,e){return new Uf(0,Of(t.path),e)}(e,t.oo))}var xp=function(){function t(t,e){this.fe=t,this.To=e}return t.prototype.Er=function(t,e,n){return Ip(t).put(Dp(e),n)},t.prototype.mr=function(t,e){var n=Ip(t),r=Dp(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.wc(t,r)})},t.prototype.Ar=function(t,e){var n=this;return Ip(t).get(Dp(e)).next(function(t){return n.Ec(t)})},t.prototype.Tc=function(t,e){var n=this;return Ip(t).get(Dp(e)).next(function(t){var e=n.Ec(t);return e?{Ir:e,size:pp(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Nh();return this.Ic(t,e,function(t,e){var i=n.Ec(e);r=r.Ie(t,i)}).next(function(){return r})},t.prototype.mc=function(t,e){var n=this,r=Nh(),i=new Ah(ju.At);return this.Ic(t,e,function(t,e){var s=n.Ec(e);s?(r=r.Ie(t,s),i=i.Ie(t,pp(e))):(r=r.Ie(t,null),i=i.Ie(t,0))}).next(function(){return{Ac:r,Rc:i}})},t.prototype.Ic=function(t,e,n){if(e.bt())return Ld.resolve();var r=IDBKeyRange.bound(e.first().path.Dt(),e.last().path.Dt()),i=e.ge(),s=i.De();return Ip(t).Fs({range:r},function(t,e,r){for(var o=ju.Ut(t);s&&ju.At(s,o)<0;)n(s,null),s=i.De();s&&s.isEqual(o)&&(n(s,e),s=i.Ce()?i.De():null),s?r.Ss(s.path.Dt()):r.done()}).next(function(){for(;s;)n(s,null),s=i.Ce()?i.De():null})},t.prototype.Pc=function(t,e,n){var r=this,i=Vh(),s=e.path.length+1,o={};if(n.isEqual(xu.min())){var a=e.path.Dt();o.range=IDBKeyRange.lowerBound(a)}else{var c=e.path.Dt(),u=Jf(n);o.range=IDBKeyRange.lowerBound([c,u],!0),o.index=Vf.collectionReadTimeIndex}return Ip(t).Fs(o,function(t,n,o){if(t.length===s){var a=Kf(r.fe,n);e.path.vt(a.key.path)?a instanceof al&&ql(e,a)&&(i=i.Ie(a.key,a)):o.done()}}).next(function(){return i})},t.prototype.lc=function(t){return new Ap(this,!!t&&t.yc)},t.prototype.dc=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Tp(t).get(Mf.key).next(function(t){return qc(!!t),t})},t.prototype.wc=function(t,e){return Tp(t).put(Mf.key,e)},t.prototype.Ec=function(t){if(t){var e=Kf(this.fe,t);return e instanceof cl&&e.version.isEqual(xu.min())?null:e}return null},t}(),Ap=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).gc=e,r.yc=n,r.Vc=new uf(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Lc.c)(e,t),e.prototype.yr=function(t){var e=this,n=[],r=0,i=new Dh(function(t,e){return Gc(t.Ct(),e.Ct())});return this._r.forEach(function(s,o){var a=e.Vc.get(s);if(o.Ir){var c=Zf(e.gc.fe,o.Ir,e.wr(s));i=i.add(s.path.yt());var u=pp(c);r+=u-a,n.push(e.gc.Er(t,s,c))}else if(r-=a,e.yc){var l=Zf(e.gc.fe,new cl(s,xu.min()),e.wr(s));n.push(e.gc.Er(t,s,l))}else n.push(e.gc.mr(t,s))}),i.forEach(function(r){n.push(e.gc.To.fo(t,r))}),n.push(this.gc.updateMetadata(t,r)),Ld.hs(n)},e.prototype.Rr=function(t,e){var n=this;return this.gc.Tc(t,e).next(function(t){return null===t?(n.Vc.set(e,0),null):(n.Vc.set(e,t.size),t.Ir)})},e.prototype.Pr=function(t,e){var n=this;return this.gc.mc(t,e).next(function(t){var e=t.Ac;return t.Rc.forEach(function(t,e){n.Vc.set(t,e)}),e})},e}(lf);function Tp(t){return Gf(t,Mf.store)}function Ip(t){return Gf(t,Vf.store)}function Dp(t){return t.path.Dt()}var jp=function(){function t(t){this.fe=t}return t.prototype.Ps=function(t,e,n,r){var i=this;qc(n<r&&n>=0&&r<=11);var s=new Vd("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Df.store)}(t),function(t){t.createObjectStore(jf.store,{keyPath:jf.keyPath}),t.createObjectStore(Rf.store,{keyPath:Rf.keyPath,autoIncrement:!0}).createIndex(Rf.userMutationsIndex,Rf.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Pf.store)}(t),Rp(t),function(t){t.createObjectStore(Vf.store)}(t));var o=Ld.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Uf.store),t.deleteObjectStore(Ff.store),t.deleteObjectStore(Bf.store)}(t),Rp(t)),o=o.next(function(){return function(t){var e=t.store(Bf.store),n=new Bf(0,0,xu.min().Tt(),0);return e.put(Bf.key,n)}(s)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(Rf.store).Ds().next(function(n){t.deleteObjectStore(Rf.store),t.createObjectStore(Rf.store,{keyPath:Rf.keyPath,autoIncrement:!0}).createIndex(Rf.userMutationsIndex,Rf.userMutationsKeyPath,{unique:!0});var r=e.store(Rf.store),i=n.map(function(t){return r.put(t)});return Ld.hs(i)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(zf.store,{keyPath:zf.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.bc(s)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(Mf.store)}(t),i.vc(s)})),n<7&&r>=7&&(o=o.next(function(){return i.Sc(s)})),n<8&&r>=8&&(o=o.next(function(){return i.Dc(t,s)})),n<9&&r>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Vf.store);e.createIndex(Vf.readTimeIndex,Vf.readTimeIndexPath,{unique:!1}),e.createIndex(Vf.collectionReadTimeIndex,Vf.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.Cc(s)})),n<11&&r>=11&&(o=o.next(function(){!function(t){t.createObjectStore(qf.store,{keyPath:qf.keyPath})}(t),function(t){t.createObjectStore(Qf.store,{keyPath:Qf.keyPath})}(t)})),o},t.prototype.vc=function(t){var e=0;return t.store(Vf.store).Fs(function(t,n){e+=pp(n)}).next(function(){var n=new Mf(e);return t.store(Mf.store).put(Mf.key,n)})},t.prototype.bc=function(t){var e=this,n=t.store(jf.store),r=t.store(Rf.store);return n.Ds().next(function(n){return Ld.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Ds(Rf.userMutationsIndex,i).next(function(r){return Ld.forEach(r,function(r){qc(r.userId===n.userId);var i=np(e.fe,r);return fp(t,n.userId,i).next(function(){})})})})})},t.prototype.Sc=function(t){var e=t.store(Uf.store),n=t.store(Vf.store);return t.store(Bf.store).get(Bf.key).next(function(t){var r=[];return n.Fs(function(n,i){var s=new Tu(n),o=function(t){return[0,Of(t)]}(s);r.push(e.get(o).next(function(n){return n?Ld.resolve():function(n){return e.put(new Uf(0,Of(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return Ld.hs(r)})})},t.prototype.Dc=function(t,e){t.createObjectStore(Hf.store,{keyPath:Hf.keyPath});var n=e.store(Hf.store),r=new lp,i=function(t){if(r.add(t)){var e=t.Vt(),i=t.yt();return n.put({collectionId:e,parent:Of(i)})}};return e.store(Vf.store).Fs({Ns:!0},function(t,e){var n=new Tu(t);return i(n.yt())}).next(function(){return e.store(Pf.store).Fs({Ns:!0},function(t,e){var n=Tf(t[1]);return i(n.yt())})})},t.prototype.Cc=function(t){var e=this,n=t.store(Ff.store);return n.Fs(function(t,r){var i=rp(r),s=ip(e.fe,i);return n.put(s)})},t}();function Rp(t){t.createObjectStore(Uf.store,{keyPath:Uf.keyPath}).createIndex(Uf.documentTargetsIndex,Uf.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Ff.store,{keyPath:Ff.keyPath}).createIndex(Ff.queryTargetsIndexName,Ff.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Bf.store)}var Pp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Np=function(){function t(e,n,r,i,s,o,a,c,u,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.js=s,this.window=o,this.document=a,this.xc=u,this.Nc=l,this.Fc=null,this.Oc=!1,this.isPrimary=!1,this.networkEnabled=!0,this.kc=null,this.inForeground=!1,this.Mc=null,this.Lc=null,this.$c=Number.NEGATIVE_INFINITY,this.Bc=function(t){return Promise.resolve()},!t.G())throw new Xc(Jc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Io=new kp(this,i),this.qc=n+"main",this.fe=new $f(c),this.Uc=new Md(this.qc,11,new jp(this.fe)),this.Qc=new wp(this.Io,this.fe),this.To=new hp,this.Kc=function(t,e){return new xp(t,e)}(this.fe,this.To),this.Wc=new op,this.window&&this.window.localStorage?this.jc=this.window.localStorage:(this.jc=null,!1===l&&Uc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Gc().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Xc(Jc.FAILED_PRECONDITION,Pp);return t.zc(),t.Hc(),t.Jc(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.Qc.jo(e)})}).then(function(e){t.Fc=new rf(e,t.xc)}).then(function(){t.Oc=!0}).catch(function(e){return t.Uc&&t.Uc.close(),Promise.reject(e)})},t.prototype.Yc=function(t){var e=this;return this.Bc=function(n){return Object(Lc.b)(e,void 0,void 0,function(){return Object(Lc.d)(this,function(e){return this.Nr?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.Xc=function(t){var e=this;this.Uc.gs(function(n){return Object(Lc.b)(e,void 0,void 0,function(){return Object(Lc.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.Zc=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.js.Ws(function(){return Object(Lc.b)(e,void 0,void 0,function(){return Object(Lc.d)(this,function(t){switch(t.label){case 0:return this.Nr?[4,this.Gc()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.Gc=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Vp(e).put(new zf(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.ta(e).next(function(e){e||(t.isPrimary=!1,t.js.ea(function(){return t.Bc(!1)}))})}).next(function(){return t.na(e)}).next(function(n){return t.isPrimary&&!n?t.sa(e).next(function(){return!1}):!!n&&t.ia(e).next(function(){return!0})})}).catch(function(e){if(Bd(e))return Fc("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Fc("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.js.ea(function(){return t.Bc(e)}),t.isPrimary=e})},t.prototype.ta=function(t){var e=this;return Lp(t).get(Df.key).next(function(t){return Ld.resolve(e.ra(t))})},t.prototype.oa=function(t){return Vp(t).delete(this.clientId)},t.prototype.ca=function(){return Object(Lc.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(Lc.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.aa(this.$c,18e5)?[3,2]:(this.$c=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Gf(t,zf.store);return e.Ds().next(function(t){var n=r.ua(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Ld.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.jc)for(e=0,n=t;e<n.length;e++)this.jc.removeItem(this.ha(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.Jc=function(){var t=this;this.Lc=this.js.ni("client_metadata_refresh",4e3,function(){return t.Gc().then(function(){return t.ca()}).then(function(){return t.Jc()})})},t.prototype.ra=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.na=function(t){var e=this;return this.Nc?Ld.resolve(!0):Lp(t).get(Df.key).next(function(n){if(null!==n&&e.aa(n.leaseTimestampMs,5e3)&&!e.la(n.ownerId)){if(e.ra(n)&&e.networkEnabled)return!0;if(!e.ra(n)){if(!n.allowTabSynchronization)throw new Xc(Jc.FAILED_PRECONDITION,Pp);return!1}}return!(!e.networkEnabled||!e.inForeground)||Vp(t).Ds().next(function(t){return void 0===e.ua(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Fc("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.$=function(){return Object(Lc.b)(this,void 0,void 0,function(){var t=this;return Object(Lc.d)(this,function(e){switch(e.label){case 0:return this.Oc=!1,this._a(),this.Lc&&(this.Lc.cancel(),this.Lc=null),this.fa(),this.da(),[4,this.Uc.runTransaction("shutdown","readwrite",[Df.store,zf.store],function(e){var n=new Wf(e,rf.Zi);return t.sa(n).next(function(){return t.oa(n)})})];case 1:return e.sent(),this.Uc.close(),this.wa(),[2]}})})},t.prototype.ua=function(t,e){var n=this;return t.filter(function(t){return n.aa(t.updateTimeMs,e)&&!n.la(t.clientId)})},t.prototype.Ea=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Vp(e).Ds().next(function(e){return t.ua(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Nr",{get:function(){return this.Oc},enumerable:!1,configurable:!0}),t.prototype.Ta=function(t){return mp.Ao(t,this.fe,this.To,this.Io)},t.prototype.ac=function(){return this.Qc},t.prototype._c=function(){return this.Kc},t.prototype.Ia=function(){return this.To},t.prototype.ma=function(){return this.Wc},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Fc("IndexedDbPersistence","Starting transaction:",t),this.Uc.runTransaction(t,"readonly"===e?"readonly":"readwrite",Yf,function(s){return r=new Wf(s,i.Fc?i.Fc.next():rf.Zi),"readwrite-primary"===e?i.ta(r).next(function(t){return!!t||i.na(r)}).next(function(e){if(!e)throw Uc("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.js.ea(function(){return i.Bc(!1)}),new Xc(Jc.FAILED_PRECONDITION,Xd);return n(r)}).next(function(t){return i.ia(r).next(function(){return t})}):i.Aa(r).next(function(){return n(r)})}).then(function(t){return r.ki(),t})},t.prototype.Aa=function(t){var e=this;return Lp(t).get(Df.key).next(function(t){if(null!==t&&e.aa(t.leaseTimestampMs,5e3)&&!e.la(t.ownerId)&&!e.ra(t)&&!(e.Nc||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Xc(Jc.FAILED_PRECONDITION,Pp)})},t.prototype.ia=function(t){var e=new Df(this.clientId,this.allowTabSynchronization,Date.now());return Lp(t).put(Df.key,e)},t.G=function(){return Md.G()},t.prototype.sa=function(t){var e=this,n=Lp(t);return n.get(Df.key).next(function(t){return e.ra(t)?(Fc("IndexedDbPersistence","Releasing primary lease."),n.delete(Df.key)):Ld.resolve()})},t.prototype.aa=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Uc("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.zc=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Mc=function(){t.js.Ws(function(){return t.inForeground="visible"===t.document.visibilityState,t.Gc()})},this.document.addEventListener("visibilitychange",this.Mc),this.inForeground="visible"===this.document.visibilityState)},t.prototype.fa=function(){this.Mc&&(this.document.removeEventListener("visibilitychange",this.Mc),this.Mc=null)},t.prototype.Hc=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.kc=function(){e._a(),e.js.Ws(function(){return e.$()})},this.window.addEventListener("unload",this.kc))},t.prototype.da=function(){this.kc&&(this.window.removeEventListener("unload",this.kc),this.kc=null)},t.prototype.la=function(t){var e;try{var n=null!==(null===(e=this.jc)||void 0===e?void 0:e.getItem(this.ha(t)));return Fc("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Uc("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype._a=function(){if(this.jc)try{this.jc.setItem(this.ha(this.clientId),String(Date.now()))}catch(t){Uc("Failed to set zombie client id.",t)}},t.prototype.wa=function(){if(this.jc)try{this.jc.removeItem(this.ha(this.clientId))}catch(t){}},t.prototype.ha=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Lp(t){return Gf(t,Df.store)}function Vp(t){return Gf(t,zf.store)}function Mp(t,e){var n=t.projectId;return t.M||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Fp=function(){function t(t,e,n){this.Kc=t,this.Ra=e,this.To=n}return t.prototype.Pa=function(t,e){var n=this;return this.Ra.So(t,e).next(function(r){return n.ya(t,e,r)})},t.prototype.ya=function(t,e,n){return this.Kc.Ar(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].ir(e,t);return t})},t.prototype.ga=function(t,e,n){var r=Nh();return e.forEach(function(t,e){for(var i=0,s=n;i<s.length;i++)e=s[i].ir(t,e);r=r.Ie(t,e)}),r},t.prototype.Va=function(t,e){var n=this;return this.Kc.getEntries(t,e).next(function(e){return n.pa(t,e)})},t.prototype.pa=function(t,e){var n=this;return this.Ra.Do(t,e).next(function(r){var i=n.ga(t,e,r),s=Ph();return i.forEach(function(t,e){e||(e=new cl(t,xu.min())),s=s.Ie(t,e)}),s})},t.prototype.Pc=function(t,e,n){return function(t){return ju.qt(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ba(t,e.path):Vl(e)?this.va(t,e,n):this.Sa(t,e,n)},t.prototype.ba=function(t,e){return this.Pa(t,new ju(e)).next(function(t){var e=Vh();return t instanceof al&&(e=e.Ie(t.key,t)),e})},t.prototype.va=function(t,e,n){var r=this,i=e.collectionGroup,s=Vh();return this.To.wo(t,i).next(function(o){return Ld.forEach(o,function(o){var a=function(t,e){return new Il(e,null,t.ne.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.Sa(t,a,n).next(function(t){t.forEach(function(t,e){s=s.Ie(t,e)})})}).next(function(){return s})})},t.prototype.Sa=function(t,e,n){var r,i,s=this;return this.Kc.Pc(t,e,n).next(function(n){return r=n,s.Ra.xo(t,e)}).next(function(e){return s.Da(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var c=a[o],u=c.key,l=r.get(u),h=mh(c,l,l,s.er);r=h instanceof al?r.Ie(u,h):r.remove(u)}})}).next(function(){return r.forEach(function(t,n){ql(e,n)||(r=r.remove(t))}),r})},t.prototype.Da=function(t,e,n){for(var r=Bh(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var c=a[o];c instanceof _h&&null===n.get(c.key)&&(r=r.add(c.key))}var u=n;return this.Kc.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof al&&(u=u.Ie(t,e))}),u})},t}(),Up=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Ca=n,this.xa=r}return t.Na=function(e,n){for(var r=Bh(),i=Bh(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Bp=function(){function t(){}return t.prototype.Fa=function(t){this.Oa=t},t.prototype.Pc=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.ne.length||1===t.ne.length&&t.ne[0].field.Ot())}(e)||n.isEqual(xu.min())?this.ka(t,e):this.Oa.Va(t,r).next(function(s){var o=i.Ma(e,s);return(Rl(e)||Pl(e))&&i.La(e.limitType,o,r,n)?i.ka(t,e):(Mc()<=ji.a.DEBUG&&Fc("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),zl(e)),i.Oa.Pc(t,e,n).next(function(t){return o.forEach(function(e){t=t.Ie(e.key,e)}),t}))})},t.prototype.Ma=function(t,e){var n=new Dh(Ql(t));return e.forEach(function(e,r){r instanceof al&&ql(t,r)&&(n=n.add(r))}),n},t.prototype.La=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.ka=function(t,e){return Mc()<=ji.a.DEBUG&&Fc("QueryEngine","Using full collection scan to execute query:",zl(e)),this.Oa.Pc(t,e,xu.min())},t}(),Hp=function(){function t(t,e,n,r){this.persistence=t,this.$a=e,this.fe=r,this.Ba=new Ah(Gc),this.qa=new uf(function(t){return dl(t)},fl),this.Ua=xu.min(),this.Ra=t.Ta(n),this.Qa=t._c(),this.Qc=t.ac(),this.Ka=new Fp(this.Qa,this.Ra,this.persistence.Ia()),this.Wc=t.ma(),this.$a.Fa(this.Ka)}return t.prototype.Fr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.Ur(n,e.Ba)})},t}();function zp(t,e,n,r){return new Hp(t,e,n,r)}function qp(t,e){return Object(Lc.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(Lc.d)(this,function(o){switch(o.label){case 0:return n=Qc(t),r=n.Ra,i=n.Ka,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var s;return n.Ra.vo(t).next(function(o){return s=o,r=n.persistence.Ta(e),i=new Fp(n.Qa,r,n.persistence.Ia()),r.vo(t)}).next(function(e){for(var n=[],r=[],o=Bh(),a=0,c=s;a<c.length;a++){var u=c[a];n.push(u.batchId);for(var l=0,h=u.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)o=o.add(g[m].key)}return i.Va(t,o).next(function(t){return{Wa:t,ja:n,Ga:r}})})})];case 1:return s=o.sent(),[2,(n.Ra=r,n.Ka=i,n.$a.Fa(n.Ka),s)]}})})}function Qp(t,e){var n=Qc(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Qa.lc({yc:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=Ld.resolve();return s.forEach(function(t){o=o.next(function(){return r.Ar(e,t)}).next(function(e){var s=e,o=n.ar.get(t);qc(null!==o),(!s||s.version.u(o)<0)&&(s=i.nr(t,s,n))&&r.Er(s,n.cr)})}),o.next(function(){return t.Ra.No(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.Ra.ko(t)}).next(function(){return n.Ka.Va(t,r)})})}function Yp(t){var e=Qc(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.Qc.Wo(t)})}function Wp(t,e){var n=Qc(t),r=e.oe,i=n.Ba;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.Qa.lc({yc:!0});i=n.Ba;var o=[];e.rn.forEach(function(e,s){var a=i.get(s);if(a){o.push(n.Qc.ic(t,e.dn,s).next(function(){return n.Qc.nc(t,e._n,s)}));var c=e.resumeToken;if(c.o()>0){var u=a.ae(c,r).ce(t.oo);i=i.Ie(s,u),function(t,e,n){return qc(e.resumeToken.o()>0),0===t.resumeToken.o()||e.oe.Et()-t.oe.Et()>=3e8||n._n.size+n.fn.size+n.dn.size>0}(a,u,e)&&o.push(n.Qc.Yo(t,u))}}});var a=Ph();if(e.cn.forEach(function(r,i){e.an.has(r)&&o.push(n.persistence.Io.fc(t,r))}),o.push(Gp(t,s,e.cn,r,void 0).next(function(t){a=t})),!r.isEqual(xu.min())){var c=n.Qc.Wo(t).next(function(e){return n.Qc.Go(t,t.oo,r)});o.push(c)}return Ld.hs(o).next(function(){return s.apply(t)}).next(function(){return n.Ka.pa(t,a)})}).then(function(t){return n.Ba=i,t})}function Gp(t,e,n,r,i){var s=Bh();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var s=Ph();return n.forEach(function(n,o){var a=t.get(n),c=(null==i?void 0:i.get(n))||r;o instanceof cl&&o.version.isEqual(xu.min())?(e.mr(n,c),s=s.Ie(n,o)):null==a||o.version.u(a.version)>0||0===o.version.u(a.version)&&a.hasPendingWrites?(e.Er(o,c),s=s.Ie(n,o)):Fc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function $p(t,e){var n=Qc(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.Ra.po(t,e)})}function Kp(t,e){var n=Qc(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.Qc.ec(t,e).next(function(i){return i?Ld.resolve(r=i):n.Qc.Uo(t).next(function(i){return r=new Wl(e,i,0,t.oo),n.Qc.zo(t,r).next(function(){return r})})})}).then(function(t){var r=n.Ba.get(t.targetId);return(null===r||t.oe.u(r.oe)>0)&&(n.Ba=n.Ba.Ie(t.targetId,t),n.qa.set(e,t.targetId)),t})}function Zp(t,e,n){return Object(Lc.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Lc.d)(this,function(a){switch(a.label){case 0:r=Qc(t),i=r.Ba.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(t){return r.persistence.Io.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Bd(o=a.sent()))throw o;return Fc("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.Ba=r.Ba.remove(e),r.qa.delete(i.target),[2]}})})}function Jp(t,e,n){var r=Qc(t),i=xu.min(),s=Bh();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Qc(t),i=r.qa.get(n);return void 0!==i?Ld.resolve(r.Ba.get(i)):r.Qc.ec(e,n)}(r,t,Fl(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Qc.oc(t,e.targetId).next(function(t){s=t})}).next(function(){return r.$a.Pc(t,e,n?i:xu.min(),n?s:Bh())}).next(function(t){return{documents:t,za:s}})})}function Xp(t,e){var n=Qc(t),r=Qc(n.Qc),i=n.Ba.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Zn(t,e).next(function(t){return t?t.target:null})})}function tm(t){var e=Qc(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Qc(t),i=Ph(),s=Jf(n),o=Ip(e),a=IDBKeyRange.lowerBound(s,!0);return o.Fs({index:Vf.readTimeIndex,range:a},function(t,e){var n=Kf(r.fe,e);i=i.Ie(n.key,n),s=e.readTime}).next(function(){return{tr:i,readTime:Xf(s)}})}(e.Qa,t,e.Ua)}).then(function(t){var n=t.tr;return e.Ua=t.readTime,n})}function em(t){return Object(Lc.b)(this,void 0,void 0,function(){var e;return Object(Lc.d)(this,function(n){return[2,(e=Qc(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Ip(t),n=xu.min();return e.Fs({index:Vf.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Xf(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.Ua=t})]})})}function nm(t,e,n,r){return Object(Lc.b)(this,void 0,void 0,function(){var i,s,o,a,c,u,l,h,d,f;return Object(Lc.d)(this,function(p){switch(p.label){case 0:for(i=Qc(t),s=Bh(),o=Ph(),a=Fh(),c=0,u=n;c<u.length;c++)h=e.Ha((l=u[c]).metadata.name),l.document&&(s=s.add(h)),o=o.Ie(h,e.Ja(l)),a=a.Ie(h,e.Ya(l.metadata.readTime));return d=i.Qa.lc({yc:!0}),[4,Kp(i,function(t){return Fl(jl(Tu.xt("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Gp(t,d,o,xu.min(),a).next(function(e){return d.apply(t),e}).next(function(e){return i.Qc.Zo(t,f.targetId).next(function(){return i.Qc.nc(t,s,f.targetId)}).next(function(){return i.Ka.pa(t,e)})})})]}})})}function rm(t,e,n){return void 0===n&&(n=Bh()),Object(Lc.b)(this,void 0,void 0,function(){var r,i;return Object(Lc.d)(this,function(s){switch(s.label){case 0:return[4,Kp(t,Fl(sp(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=Qc(t)).persistence.runTransaction("Save named query","readwrite",function(t){var s=cd(e.readTime);if(r.oe.u(s)>=0)return i.Wc.lo(t,e);var o=r.ae(Zc.h,s);return i.Ba=i.Ba.Ie(o.targetId,o),i.Qc.Yo(t,o).next(function(){return i.Qc.Zo(t,r.targetId)}).next(function(){return i.Qc.nc(t,n,r.targetId)}).next(function(){return i.Wc.lo(t,e)})})]}})})}var im=function(){function t(t){this.fe=t,this.Xa=new Map,this.Za=new Map}return t.prototype.ao=function(t,e){return Ld.resolve(this.Xa.get(e))},t.prototype.uo=function(t,e){var n;return this.Xa.set(e.id,{id:(n=e).id,version:n.version,createTime:cd(n.createTime)}),Ld.resolve()},t.prototype.ho=function(t,e){return Ld.resolve(this.Za.get(e))},t.prototype.lo=function(t,e){return this.Za.set(e.name,function(t){return{name:t.name,query:sp(t.bundledQuery),readTime:cd(t.readTime)}}(e)),Ld.resolve()},t}(),sm=function(){function t(){this.tu=new Dh(om.eu),this.nu=new Dh(om.su)}return t.prototype.bt=function(){return this.tu.bt()},t.prototype.sc=function(t,e){var n=new om(t,e);this.tu=this.tu.add(n),this.nu=this.nu.add(n)},t.prototype.iu=function(t,e){var n=this;t.forEach(function(t){return n.sc(t,e)})},t.prototype.rc=function(t,e){this.ru(new om(t,e))},t.prototype.ou=function(t,e){var n=this;t.forEach(function(t){return n.rc(t,e)})},t.prototype.cu=function(t){var e=this,n=new ju(new Tu([])),r=new om(n,t),i=new om(n,t+1),s=[];return this.nu.Qe([r,i],function(t){e.ru(t),s.push(t.key)}),s},t.prototype.au=function(){var t=this;this.tu.forEach(function(e){return t.ru(e)})},t.prototype.ru=function(t){this.tu=this.tu.delete(t),this.nu=this.nu.delete(t)},t.prototype.uu=function(t){var e=new ju(new Tu([])),n=new om(e,t),r=new om(e,t+1),i=Bh();return this.nu.Qe([n,r],function(t){i=i.add(t.key)}),i},t.prototype.Mo=function(t){var e=new om(t,0),n=this.tu.We(e);return null!==n&&t.isEqual(n.key)},t}(),om=function(){function t(t,e){this.key=t,this.hu=e}return t.eu=function(t,e){return ju.At(t.key,e.key)||Gc(t.hu,e.hu)},t.su=function(t,e){return Gc(t.hu,e.hu)||ju.At(t.key,e.key)},t}(),am=function(){function t(t,e){this.To=t,this.Io=e,this.Ra=[],this.lu=1,this._u=new Dh(om.eu)}return t.prototype.Ro=function(t){return Ld.resolve(0===this.Ra.length)},t.prototype.Po=function(t,e,n,r){var i=this.lu;this.lu++;var s=new af(i,e,n,r);this.Ra.push(s);for(var o=0,a=r;o<a.length;o++){var c=a[o];this._u=this._u.add(new om(c.key,i)),this.To.fo(t,c.key.path.yt())}return Ld.resolve(s)},t.prototype.yo=function(t,e){return Ld.resolve(this.fu(e))},t.prototype.po=function(t,e){var n=this.du(e+1),r=n<0?0:n;return Ld.resolve(this.Ra.length>r?this.Ra[r]:null)},t.prototype.bo=function(){return Ld.resolve(0===this.Ra.length?-1:this.lu-1)},t.prototype.vo=function(t){return Ld.resolve(this.Ra.slice())},t.prototype.So=function(t,e){var n=this,r=new om(e,0),i=new om(e,Number.POSITIVE_INFINITY),s=[];return this._u.Qe([r,i],function(t){var e=n.fu(t.hu);s.push(e)}),Ld.resolve(s)},t.prototype.Do=function(t,e){var n=this,r=new Dh(Gc);return e.forEach(function(t){var e=new om(t,0),i=new om(t,Number.POSITIVE_INFINITY);n._u.Qe([e,i],function(t){r=r.add(t.hu)})}),Ld.resolve(this.wu(r))},t.prototype.xo=function(t,e){var n=e.path,r=n.length+1,i=n;ju.qt(i)||(i=i.child(""));var s=new om(new ju(i),0),o=new Dh(Gc);return this._u.Ke(function(t){var e=t.key.path;return!!n.vt(e)&&(e.length===r&&(o=o.add(t.hu)),!0)},s),Ld.resolve(this.wu(o))},t.prototype.wu=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.fu(t);null!==r&&n.push(r)}),n},t.prototype.No=function(t,e){var n=this;qc(0===this.Eu(e.batchId,"removed")),this.Ra.shift();var r=this._u;return Ld.forEach(e.mutations,function(i){var s=new om(i.key,e.batchId);return r=r.delete(s),n.Io.Oo(t,i.key)}).next(function(){n._u=r})},t.prototype.Fo=function(t){},t.prototype.Mo=function(t,e){var n=new om(e,0),r=this._u.We(n);return Ld.resolve(e.isEqual(r&&r.key))},t.prototype.ko=function(t){return Ld.resolve()},t.prototype.Eu=function(t,e){return this.du(t)},t.prototype.du=function(t){return 0===this.Ra.length?0:t-this.Ra[0].batchId},t.prototype.fu=function(t){var e=this.du(t);return e<0||e>=this.Ra.length?null:this.Ra[e]},t}(),cm=function(){function t(t,e){this.To=t,this.Tu=e,this.docs=new Ah(ju.At),this.size=0}return t.prototype.Er=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.Tu(e);return this.docs=this.docs.Ie(r,{Ir:e,size:o,readTime:n}),this.size+=o-s,this.To.fo(t,r.path.yt())},t.prototype.mr=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Ar=function(t,e){var n=this.docs.get(e);return Ld.resolve(n?n.Ir:null)},t.prototype.getEntries=function(t,e){var n=this,r=Nh();return e.forEach(function(t){var e=n.docs.get(t);r=r.Ie(t,e?e.Ir:null)}),Ld.resolve(r)},t.prototype.Pc=function(t,e,n){for(var r=Vh(),i=new ju(e.path.child("")),s=this.docs.Ve(i);s.Ce();){var o=s.De(),a=o.value,c=a.Ir,u=a.readTime;if(!e.path.vt(o.key.path))break;u.u(n)<=0||c instanceof al&&ql(e,c)&&(r=r.Ie(c.key,c))}return Ld.resolve(r)},t.prototype.Iu=function(t,e){return Ld.forEach(this.docs,function(t){return e(t)})},t.prototype.lc=function(t){return new um(this)},t.prototype.dc=function(t){return Ld.resolve(this.size)},t}(),um=function(t){function e(e){var n=this;return(n=t.call(this)||this).gc=e,n}return Object(Lc.c)(e,t),e.prototype.yr=function(t){var e=this,n=[];return this._r.forEach(function(r,i){i&&i.Ir?n.push(e.gc.Er(t,i.Ir,e.wr(r))):e.gc.mr(r)}),Ld.hs(n)},e.prototype.Rr=function(t,e){return this.gc.Ar(t,e)},e.prototype.Pr=function(t,e){return this.gc.getEntries(t,e)},e}(lf),lm=function(){function t(t){this.persistence=t,this.mu=new uf(function(t){return dl(t)},fl),this.lastRemoteSnapshotVersion=xu.min(),this.highestTargetId=0,this.Au=0,this.Ru=new sm,this.targetCount=0,this.Pu=_p.Bo()}return t.prototype.Un=function(t,e){return this.mu.forEach(function(t,n){return e(n)}),Ld.resolve()},t.prototype.Wo=function(t){return Ld.resolve(this.lastRemoteSnapshotVersion)},t.prototype.jo=function(t){return Ld.resolve(this.Au)},t.prototype.Uo=function(t){return this.highestTargetId=this.Pu.next(),Ld.resolve(this.highestTargetId)},t.prototype.Go=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Au&&(this.Au=e),Ld.resolve()},t.prototype.Ho=function(t){this.mu.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Pu=new _p(e),this.highestTargetId=e),t.sequenceNumber>this.Au&&(this.Au=t.sequenceNumber)},t.prototype.zo=function(t,e){return this.Ho(e),this.targetCount+=1,Ld.resolve()},t.prototype.Yo=function(t,e){return this.Ho(e),Ld.resolve()},t.prototype.Xo=function(t,e){return this.mu.delete(e.target),this.Ru.cu(e.targetId),this.targetCount-=1,Ld.resolve()},t.prototype.Br=function(t,e,n){var r=this,i=0,s=[];return this.mu.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.mu.delete(o),s.push(r.Zo(t,a.targetId)),i++)}),Ld.hs(s).next(function(){return i})},t.prototype.tc=function(t){return Ld.resolve(this.targetCount)},t.prototype.ec=function(t,e){var n=this.mu.get(e)||null;return Ld.resolve(n)},t.prototype.nc=function(t,e,n){return this.Ru.iu(e,n),Ld.resolve()},t.prototype.ic=function(t,e,n){this.Ru.ou(e,n);var r=this.persistence.Io,i=[];return r&&e.forEach(function(e){i.push(r.Oo(t,e))}),Ld.hs(i)},t.prototype.Zo=function(t,e){return this.Ru.cu(e),Ld.resolve()},t.prototype.oc=function(t,e){var n=this.Ru.uu(e);return Ld.resolve(n)},t.prototype.Mo=function(t,e){return Ld.resolve(this.Ru.Mo(e))},t}(),hm=function(){function t(t,e){var n=this;this.yu={},this.Fc=new rf(0),this.Oc=!1,this.Oc=!0,this.Io=t(this),this.Qc=new lm(this),this.To=new up,this.Kc=function(t,e){return new cm(t,function(t){return n.Io.gu(t)})}(this.To),this.fe=new $f(e),this.Wc=new im(this.fe)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.$=function(){return this.Oc=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Nr",{get:function(){return this.Oc},enumerable:!1,configurable:!0}),t.prototype.Xc=function(){},t.prototype.Zc=function(){},t.prototype.Ia=function(){return this.To},t.prototype.Ta=function(t){var e=this.yu[t.I()];return e||(e=new am(this.To,this.Io),this.yu[t.I()]=e),e},t.prototype.ac=function(){return this.Qc},t.prototype._c=function(){return this.Kc},t.prototype.ma=function(){return this.Wc},t.prototype.runTransaction=function(t,e,n){var r=this;Fc("MemoryPersistence","Starting transaction:",t);var i=new dm(this.Fc.next());return this.Io.Vu(),n(i).next(function(t){return r.Io.pu(i).next(function(){return t})}).cs().then(function(t){return i.ki(),t})},t.prototype.bu=function(t,e){return Ld.ls(Object.values(this.yu).map(function(n){return function(){return n.Mo(t,e)}}))},t}(),dm=function(t){function e(e){var n=this;return(n=t.call(this)||this).oo=e,n}return Object(Lc.c)(e,t),e}(tf),fm=function(){function t(t){this.persistence=t,this.vu=new sm,this.Su=null}return t.Du=function(e){return new t(e)},Object.defineProperty(t.prototype,"Cu",{get:function(){if(this.Su)return this.Su;throw zc()},enumerable:!1,configurable:!0}),t.prototype.sc=function(t,e,n){return this.vu.sc(n,e),this.Cu.delete(n.toString()),Ld.resolve()},t.prototype.rc=function(t,e,n){return this.vu.rc(n,e),this.Cu.add(n.toString()),Ld.resolve()},t.prototype.Oo=function(t,e){return this.Cu.add(e.toString()),Ld.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.vu.cu(e.targetId).forEach(function(t){return n.Cu.add(t.toString())});var r=this.persistence.ac();return r.oc(t,e.targetId).next(function(t){t.forEach(function(t){return n.Cu.add(t.toString())})}).next(function(){return r.Xo(t,e)})},t.prototype.Vu=function(){this.Su=new Set},t.prototype.pu=function(t){var e=this,n=this.persistence._c().lc();return Ld.forEach(this.Cu,function(r){var i=ju.Lt(r);return e.xu(t,i).next(function(t){t||n.mr(i)})}).next(function(){return e.Su=null,n.apply(t)})},t.prototype.fc=function(t,e){var n=this;return this.xu(t,e).next(function(t){t?n.Cu.delete(e.toString()):n.Cu.add(e.toString())})},t.prototype.gu=function(t){return 0},t.prototype.xu=function(t,e){var n=this;return Ld.ls([function(){return Ld.resolve(n.vu.Mo(e))},function(){return n.persistence.ac().Mo(t,e)},function(){return n.persistence.bu(t,e)}])},t}();function pm(t,e){return"firestore_clients_"+t+"_"+e}function mm(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.T()&&(r+="_"+e.uid),r}function gm(t,e){return"firestore_targets_"+t+"_"+e}var bm=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Nu=function(e,n,r){var i=JSON.parse(r),s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new Xc(i.error.code,i.error.message)),s?new t(e,n,i.state,o):(Uc("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Fu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),ym=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Nu=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new Xc(r.error.code,r.error.message)),i?new t(e,r.state,s):(Uc("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Fu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),vm=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Nu=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=zh(),o=0;i&&o<r.activeTargetIds.length;++o)i=bu(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(Uc("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),_m=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Nu=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Uc("SharedClientState","Failed to parse online state: "+e),null)},t}(),wm=function(){function t(){this.activeTargetIds=zh()}return t.prototype.Ou=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ku=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Fu=function(){var t={activeTargetIds:this.activeTargetIds.Dt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Cm=function(){function t(t,e,n,r,i){this.window=t,this.js=e,this.persistenceKey=n,this.Mu=r,this.Lu=null,this.$u=null,this.Hi=null,this.Bu=this.qu.bind(this),this.Uu=new Ah(Gc),this.Nr=!1,this.Qu=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ku=pm(this.persistenceKey,this.Mu),this.Wu=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Uu=this.Uu.Ie(this.Mu,new wm),this.ju=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Gu=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.zu=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Hu=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ju=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.Bu)}return t.G=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Lc.b)(this,void 0,void 0,function(){var t,e,n,r,i,s,o,a,c,u,l=this;return Object(Lc.d)(this,function(h){switch(h.label){case 0:return[4,this.Lu.Ea()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Mu&&(i=this.getItem(pm(this.persistenceKey,r)))&&(s=vm.Nu(r,i))&&(this.Uu=this.Uu.Ie(s.clientId,s));for(this.Yu(),(o=this.storage.getItem(this.Hu))&&(a=this.Xu(o))&&this.Zu(a),c=0,u=this.Qu;c<u.length;c++)this.qu(u[c]);return this.Qu=[],this.window.addEventListener("unload",function(){return l.$()}),this.Nr=!0,[2]}})})},t.prototype.Xi=function(t){this.setItem(this.Wu,JSON.stringify(t))},t.prototype.th=function(){return this.eh(this.Uu)},t.prototype.nh=function(t){var e=!1;return this.Uu.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.sh=function(t){this.ih(t,"pending")},t.prototype.rh=function(t,e,n){this.ih(t,e,n),this.oh(t)},t.prototype.ah=function(t){var e="not-current";if(this.nh(t)){var n=this.storage.getItem(gm(this.persistenceKey,t));if(n){var r=ym.Nu(t,n);r&&(e=r.state)}}return this.uh.Ou(t),this.Yu(),e},t.prototype.hh=function(t){this.uh.ku(t),this.Yu()},t.prototype.lh=function(t){return this.uh.activeTargetIds.has(t)},t.prototype._h=function(t){this.removeItem(gm(this.persistenceKey,t))},t.prototype.fh=function(t,e,n){this.dh(t,e,n)},t.prototype.wh=function(t,e,n){var r=this;e.forEach(function(t){r.oh(t)}),this.currentUser=t,n.forEach(function(t){r.sh(t)})},t.prototype.Eh=function(t){this.Th(t)},t.prototype.Ih=function(){this.mh()},t.prototype.$=function(){this.Nr&&(this.window.removeEventListener("storage",this.Bu),this.removeItem(this.Ku),this.Nr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Fc("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Fc("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Fc("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.qu=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Fc("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ku)return void Uc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.ea(function(){return Object(Lc.b)(e,void 0,void 0,function(){var t,e,r,i,s,o;return Object(Lc.d)(this,function(a){if(this.Nr){if(null!==n.key)if(this.ju.test(n.key)){if(null==n.newValue)return t=this.Ah(n.key),[2,this.Rh(t,null)];if(e=this.Ph(n.key,n.newValue))return[2,this.Rh(e.clientId,e)]}else if(this.Gu.test(n.key)){if(null!==n.newValue&&(r=this.yh(n.key,n.newValue)))return[2,this.gh(r)]}else if(this.zu.test(n.key)){if(null!==n.newValue&&(i=this.Vh(n.key,n.newValue)))return[2,this.ph(i)]}else if(n.key===this.Hu){if(null!==n.newValue&&(s=this.Xu(n.newValue)))return[2,this.Zu(s)]}else if(n.key===this.Wu)(o=function(t){var e=rf.Zi;if(null!=t)try{var n=JSON.parse(t);qc("number"==typeof n),e=n}catch(t){Uc("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==rf.Zi&&this.Hi(o);else if(n.key===this.Ju)return[2,this.Lu.bh()]}else this.Qu.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"uh",{get:function(){return this.Uu.get(this.Mu)},enumerable:!1,configurable:!0}),t.prototype.Yu=function(){this.setItem(this.Ku,this.uh.Fu())},t.prototype.ih=function(t,e,n){var r=new bm(this.currentUser,t,e,n),i=mm(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Fu())},t.prototype.oh=function(t){var e=mm(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Th=function(t){this.storage.setItem(this.Hu,JSON.stringify({clientId:this.Mu,onlineState:t}))},t.prototype.dh=function(t,e,n){var r=gm(this.persistenceKey,t),i=new ym(t,e,n);this.setItem(r,i.Fu())},t.prototype.mh=function(){this.setItem(this.Ju,"value-not-used")},t.prototype.Ah=function(t){var e=this.ju.exec(t);return e?e[1]:null},t.prototype.Ph=function(t,e){var n=this.Ah(t);return vm.Nu(n,e)},t.prototype.yh=function(t,e){var n=this.Gu.exec(t),r=Number(n[1]);return bm.Nu(new su(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Vh=function(t,e){var n=this.zu.exec(t),r=Number(n[1]);return ym.Nu(r,e)},t.prototype.Xu=function(t){return _m.Nu(t)},t.prototype.gh=function(t){return Object(Lc.b)(this,void 0,void 0,function(){return Object(Lc.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.Lu.Sh(t.batchId,t.state,t.error)]:(Fc("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.ph=function(t){return this.Lu.Dh(t.targetId,t.state,t.error)},t.prototype.Rh=function(t,e){var n=this,r=e?this.Uu.Ie(t,e):this.Uu.remove(t),i=this.eh(this.Uu),s=this.eh(r),o=[],a=[];return s.forEach(function(t){i.has(t)||o.push(t)}),i.forEach(function(t){s.has(t)||a.push(t)}),this.Lu.Ch(o,a).then(function(){n.Uu=r})},t.prototype.Zu=function(t){this.Uu.get(t.clientId)&&this.$u(t.onlineState)},t.prototype.eh=function(t){var e=zh();return t.forEach(function(t,n){e=e.je(n.activeTargetIds)}),e},t}(),Em=function(){function t(){this.xh=new wm,this.Nh={},this.$u=null,this.Hi=null}return t.prototype.sh=function(t){},t.prototype.rh=function(t,e,n){},t.prototype.ah=function(t){return this.xh.Ou(t),this.Nh[t]||"not-current"},t.prototype.fh=function(t,e,n){this.Nh[t]=e},t.prototype.hh=function(t){this.xh.ku(t)},t.prototype.lh=function(t){return this.xh.activeTargetIds.has(t)},t.prototype._h=function(t){delete this.Nh[t]},t.prototype.th=function(){return this.xh.activeTargetIds},t.prototype.nh=function(t){return this.xh.activeTargetIds.has(t)},t.prototype.start=function(){return this.xh=new wm,Promise.resolve()},t.prototype.wh=function(t,e,n){},t.prototype.Eh=function(t){},t.prototype.$=function(){},t.prototype.Xi=function(t){},t.prototype.Ih=function(){},t}();function Sm(){return"undefined"!=typeof window?window:null}function km(){return"undefined"!=typeof document?document:null}var Om=function(){function t(t,e){this.ks=t,this.$u=e,this.state="Unknown",this.Fh=0,this.Oh=null,this.kh=!0}return t.prototype.Mh=function(){var t=this;0===this.Fh&&(this.Lh("Unknown"),this.Oh=this.ks.ni("online_state_timeout",1e4,function(){return t.Oh=null,t.$h("Backend didn't respond within 10 seconds."),t.Lh("Offline"),Promise.resolve()}))},t.prototype.Bh=function(t){"Online"===this.state?this.Lh("Unknown"):(this.Fh++,this.Fh>=1&&(this.qh(),this.$h("Connection failed 1 times. Most recent error: "+t.toString()),this.Lh("Offline")))},t.prototype.set=function(t){this.qh(),this.Fh=0,"Online"===t&&(this.kh=!1),this.Lh(t)},t.prototype.Lh=function(t){t!==this.state&&(this.state=t,this.$u(t))},t.prototype.$h=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.kh?(Uc(e),this.kh=!1):Fc("OnlineStateTracker",e)},t.prototype.qh=function(){null!==this.Oh&&(this.Oh.cancel(),this.Oh=null)},t}(),xm=function(t,e,n,r,i){var s=this;this.Uh=t,this.Qh=e,this.ks=n,this.Kh={},this.Wh=[],this.jh=new Map,this.Gh=new Set,this.zh=[],this.Hh=i,this.Hh.L(function(t){n.Ws(function(){return Object(Lc.b)(s,void 0,void 0,function(){return Object(Lc.d)(this,function(t){switch(t.label){case 0:return Lm(this)?(Fc("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Lc.b)(this,void 0,void 0,function(){var e;return Object(Lc.d)(this,function(n){switch(n.label){case 0:return(e=Qc(t)).Gh.add(4),[4,Tm(e)];case 1:return n.sent(),e.Jh.set("Unknown"),e.Gh.delete(4),[4,Am(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Jh=new Om(n,r)};function Am(t){return Object(Lc.b)(this,void 0,void 0,function(){var e,n;return Object(Lc.d)(this,function(r){switch(r.label){case 0:if(!Lm(t))return[3,4];e=0,n=t.zh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Tm(t){return Object(Lc.b)(this,void 0,void 0,function(){var e,n;return Object(Lc.d)(this,function(r){switch(r.label){case 0:e=0,n=t.zh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Im(t,e){var n=Qc(t);n.jh.has(e.targetId)||(n.jh.set(e.targetId,e),Nm(n)?Pm(n):Zm(n).li()&&jm(n,e))}function Dm(t,e){var n=Qc(t),r=Zm(n);n.jh.delete(e),r.li()&&Rm(n,e),0===n.jh.size&&(r.li()?r.di():Lm(n)&&n.Jh.set("Unknown"))}function jm(t,e){t.Yh.Dn(e.targetId),Zm(t).gi(e)}function Rm(t,e){t.Yh.Dn(e),Zm(t).Vi(e)}function Pm(t){t.Yh=new Xh({Xn:function(e){return t.Kh.Xn(e)},Zn:function(e){return t.jh.get(e)||null}}),Zm(t).start(),t.Jh.Mh()}function Nm(t){return Lm(t)&&!Zm(t).hi()&&t.jh.size>0}function Lm(t){return 0===Qc(t).Gh.size}function Vm(t){t.Yh=void 0}function Mm(t){return Object(Lc.b)(this,void 0,void 0,function(){return Object(Lc.d)(this,function(e){return t.jh.forEach(function(e,n){jm(t,e)}),[2]})})}function Fm(t,e){return Object(Lc.b)(this,void 0,void 0,function(){return Object(Lc.d)(this,function(n){return Vm(t),Nm(t)?(t.Jh.Bh(e),Pm(t)):t.Jh.set("Unknown"),[2]})})}function Um(t,e,n){return Object(Lc.b)(this,void 0,void 0,function(){var r,i,s;return Object(Lc.d)(this,function(o){switch(o.label){case 0:if(t.Jh.set("Online"),!(e instanceof Zh&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(Lc.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(Lc.d)(this,function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.jh.has(s=i[r])?[4,t.Kh.Xh(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.jh.delete(s),t.Yh.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),Fc("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Bm(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof $h?t.Yh.Ln(e):e instanceof Kh?t.Yh.jn(e):t.Yh.qn(e),n.isEqual(xu.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,Yp(t.Uh)];case 8:return i=o.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Yh.Hn(e);return n.rn.forEach(function(n,r){if(n.resumeToken.o()>0){var i=t.jh.get(r);i&&t.jh.set(r,i.ae(n.resumeToken,e))}}),n.on.forEach(function(e){var n=t.jh.get(e);if(n){t.jh.set(e,n.ae(Zc.h,n.oe)),Rm(t,e);var r=new Wl(n.target,e,1,n.sequenceNumber);jm(t,r)}}),t.Kh.Zh(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return Fc("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,Bm(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}})})}function Bm(t,e,n){return Object(Lc.b)(this,void 0,void 0,function(){var r=this;return Object(Lc.d)(this,function(i){switch(i.label){case 0:if(!Bd(e))throw e;return t.Gh.add(1),[4,Tm(t)];case 1:return i.sent(),t.Jh.set("Offline"),n||(n=function(){return Yp(t.Uh)}),t.ks.ea(function(){return Object(Lc.b)(r,void 0,void 0,function(){return Object(Lc.d)(this,function(e){switch(e.label){case 0:return Fc("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Gh.delete(1),[4,Am(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Hm(t,e){return e().catch(function(n){return Bm(t,n,e)})}function zm(t){return Object(Lc.b)(this,void 0,void 0,function(){var e,n,r,i,s;return Object(Lc.d)(this,function(o){switch(o.label){case 0:e=Qc(t),n=Jm(e),r=e.Wh.length>0?e.Wh[e.Wh.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return Lm(t)&&t.Wh.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,$p(e.Uh,r)];case 3:return null===(i=o.sent())?(0===e.Wh.length&&n.di(),[3,7]):(r=i.batchId,function(t,e){t.Wh.push(e);var n=Jm(t);n.li()&&n.bi&&n.vi(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,Bm(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return qm(e)&&Qm(e),[2]}})})}function qm(t){return Lm(t)&&!Jm(t).hi()&&t.Wh.length>0}function Qm(t){Jm(t).start()}function Ym(t){return Object(Lc.b)(this,void 0,void 0,function(){return Object(Lc.d)(this,function(e){return Jm(t).Ci(),[2]})})}function Wm(t){return Object(Lc.b)(this,void 0,void 0,function(){var e,n,r;return Object(Lc.d)(this,function(i){for(e=Jm(t),n=0,r=t.Wh;n<r.length;n++)e.vi(r[n].mutations);return[2]})})}function Gm(t,e,n){return Object(Lc.b)(this,void 0,void 0,function(){var r,i;return Object(Lc.d)(this,function(s){switch(s.label){case 0:return r=t.Wh.shift(),i=cf.from(r,e,n),[4,Hm(t,function(){return t.Kh.tl(i)})];case 1:return s.sent(),[4,zm(t)];case 2:return s.sent(),[2]}})})}function $m(t,e){return Object(Lc.b)(this,void 0,void 0,function(){return Object(Lc.d)(this,function(n){switch(n.label){case 0:return e&&Jm(t).bi?[4,function(t,e){return Object(Lc.b)(this,void 0,void 0,function(){var n,r;return Object(Lc.d)(this,function(i){switch(i.label){case 0:return wu(r=e.code)&&r!==Jc.ABORTED?(n=t.Wh.shift(),Jm(t).fi(),[4,Hm(t,function(){return t.Kh.el(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,zm(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return qm(t)&&Qm(t),[2]}})})}function Km(t,e){return Object(Lc.b)(this,void 0,void 0,function(){var n;return Object(Lc.d)(this,function(r){switch(r.label){case 0:return n=Qc(t),e?(n.Gh.delete(2),[4,Am(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Gh.add(2),[4,Tm(n)]);case 3:r.sent(),n.Jh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Zm(t){var e=this;return t.nl||(t.nl=function(t,e,n){var r=Qc(t);return r.Ni(),new Kd(e,r.ri,r.credentials,r.fe,n)}(t.Qh,t.ks,{Y:Mm.bind(null,t),Z:Fm.bind(null,t),yi:Um.bind(null,t)}),t.zh.push(function(n){return Object(Lc.b)(e,void 0,void 0,function(){return Object(Lc.d)(this,function(e){switch(e.label){case 0:return n?(t.nl.fi(),Nm(t)?Pm(t):t.Jh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.nl.stop()];case 2:e.sent(),Vm(t),e.label=3;case 3:return[2]}})})})),t.nl}function Jm(t){var e=this;return t.sl||(t.sl=function(t,e,n){var r=Qc(t);return r.Ni(),new Zd(e,r.ri,r.credentials,r.fe,n)}(t.Qh,t.ks,{Y:Ym.bind(null,t),Z:$m.bind(null,t),Di:Wm.bind(null,t),Si:Gm.bind(null,t)}),t.zh.push(function(n){return Object(Lc.b)(e,void 0,void 0,function(){return Object(Lc.d)(this,function(e){switch(e.label){case 0:return n?(t.sl.fi(),[4,zm(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.sl.stop()];case 3:e.sent(),t.Wh.length>0&&(Fc("RemoteStore","Stopping write stream with "+t.Wh.length+" pending writes"),t.Wh=[]),e.label=4;case 4:return[2]}})})})),t.sl}var Xm=function(){this.il=void 0,this.listeners=[]},tg=function(){this.queries=new uf(function(t){return Hl(t)},Bl),this.onlineState="Unknown",this.rl=new Set};function eg(t,e){return Object(Lc.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c;return Object(Lc.d)(this,function(u){switch(u.label){case 0:if(n=Qc(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new Xm),!i)return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),o=s,[4,n.ol(r)];case 2:return o.il=u.sent(),[3,4];case 3:return a=u.sent(),c=Wd(a,"Initialization of query '"+zl(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.cl(n.onlineState),s.il&&e.al(s.il)&&sg(n),[2]}})})}function ng(t,e){return Object(Lc.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Lc.d)(this,function(a){return n=Qc(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.ul(r))]:[2]})})}function rg(t,e){for(var n=Qc(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var c=0,u=a.listeners;c<u.length;c++)u[c].al(o)&&(r=!0);a.il=o}}r&&sg(n)}function ig(t,e,n){var r=Qc(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function sg(t){t.rl.forEach(function(t){t.next()})}var og=function(){function t(t,e,n){this.query=t,this.hl=e,this.ll=!1,this._l=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.al=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Yh(t.query,t.docs,t.Ze,e,t.tn,t.fromCache,t.en,!0)}var s=!1;return this.ll?this.fl(t)&&(this.hl.next(t),s=!0):this.dl(t,this.onlineState)&&(this.wl(t),s=!0),this._l=t,s},t.prototype.onError=function(t){this.hl.error(t)},t.prototype.cl=function(t){this.onlineState=t;var e=!1;return this._l&&!this.ll&&this.dl(this._l,t)&&(this.wl(this._l),e=!0),e},t.prototype.dl=function(t,e){return!t.fromCache||!(this.options.El&&"Offline"!==e||t.docs.bt()&&"Offline"!==e)},t.prototype.fl=function(t){return t.docChanges.length>0||!!(t.en||this._l&&this._l.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.wl=function(t){t=Yh.sn(t.query,t.docs,t.tn,t.fromCache),this.ll=!0,this.hl.next(t)},t}(),ag=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.Tl=function(){return"metadata"in this.payload},t}(),cg=function(){function t(t){this.fe=t}return t.prototype.Ha=function(t){return dd(this.fe,t)},t.prototype.Ja=function(t){return t.metadata.exists?yd(this.fe,t.document,!1):new cl(this.Ha(t.metadata.name),this.Ya(t.metadata.readTime))},t.prototype.Ya=function(t){return cd(t)},t}();!function(){function t(t,e,n){this.Il=t,this.Uh=e,this.fe=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.ml=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.Al=function(t){for(var e=new Map,n=new cg(this.fe),r=0,i=t;r<i.length;r++){var s=i[r];if(s.metadata.queries)for(var o=n.Ha(s.metadata.name),a=0,c=s.metadata.queries;a<c.length;a++){var u=c[a],l=(e.get(u)||Bh()).add(o);e.set(u,l)}}return e},t.prototype.complete=function(){return Object(Lc.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(Lc.d)(this,function(s){switch(s.label){case 0:return[4,nm(this.Uh,new cg(this.fe),this.documents,this.Il.id)];case 1:t=s.sent(),e=this.Al(this.documents),n=0,r=this.queries,s.label=2;case 2:return n<r.length?[4,rm(this.Uh,i=r[n],e.get(i.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new of(Object.assign({},this.progress),t))]}})})}}();var ug=function(t){this.key=t},lg=function(t){this.key=t},hg=function(){function t(t,e){this.query=t,this.Rl=e,this.Pl=null,this.ln=!1,this.yl=Bh(),this.tn=Bh(),this.gl=Ql(t),this.Vl=new qh(this.gl)}return Object.defineProperty(t.prototype,"pl",{get:function(){return this.Rl},enumerable:!1,configurable:!0}),t.prototype.bl=function(t,e){var n=this,r=e?e.vl:new Qh,i=e?e.Vl:this.Vl,s=e?e.tn:this.tn,o=i,a=!1,c=Rl(this.query)&&i.size===this.query.limit?i.last():null,u=Pl(this.query)&&i.size===this.query.limit?i.first():null;if(t.Pe(function(t,e){var l=i.get(t),h=e instanceof al?e:null;h&&(h=ql(n.query,h)?h:null);var d=!!l&&n.tn.has(l.key),f=!!h&&(h.Jt||n.tn.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?d!==f&&(r.track({type:3,doc:h}),p=!0):n.Sl(l,h)||(r.track({type:2,doc:h}),p=!0,(c&&n.gl(h,c)>0||u&&n.gl(h,u)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(c||u)&&(a=!0)),p&&(h?(o=o.add(h),s=f?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),Rl(this.query)||Pl(this.query))for(;o.size>this.query.limit;){var l=Rl(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Vl:o,vl:r,La:a,tn:s}},t.prototype.Sl=function(t,e){return t.Jt&&e.hasCommittedMutations&&!e.Jt},t.prototype.yr=function(t,e,n){var r=this,i=this.Vl;this.Vl=t.Vl,this.tn=t.tn;var s=t.vl.Xe();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return zc()}};return n(t)-n(e)}(t.type,e.type)||r.gl(t.doc,e.doc)}),this.Dl(n);var o=e?this.Cl():[],a=0===this.yl.size&&this.ln?1:0,c=a!==this.Pl;return this.Pl=a,0!==s.length||c?{snapshot:new Yh(this.query,t.Vl,i,s,t.tn,0===a,c,!1),xl:o}:{xl:o}},t.prototype.cl=function(t){return this.ln&&"Offline"===t?(this.ln=!1,this.yr({Vl:this.Vl,vl:new Qh,tn:this.tn,La:!1},!1)):{xl:[]}},t.prototype.Nl=function(t){return!this.Rl.has(t)&&!!this.Vl.has(t)&&!this.Vl.get(t).Jt},t.prototype.Dl=function(t){var e=this;t&&(t._n.forEach(function(t){return e.Rl=e.Rl.add(t)}),t.fn.forEach(function(t){}),t.dn.forEach(function(t){return e.Rl=e.Rl.delete(t)}),this.ln=t.ln)},t.prototype.Cl=function(){var t=this;if(!this.ln)return[];var e=this.yl;this.yl=Bh(),this.Vl.forEach(function(e){t.Nl(e.key)&&(t.yl=t.yl.add(e.key))});var n=[];return e.forEach(function(e){t.yl.has(e)||n.push(new lg(e))}),this.yl.forEach(function(t){e.has(t)||n.push(new ug(t))}),n},t.prototype.Fl=function(t){this.Rl=t.za,this.yl=Bh();var e=this.bl(t.documents);return this.yr(e,!0)},t.prototype.Ol=function(){return Yh.sn(this.query,this.Vl,this.tn,0===this.Pl)},t}(),dg=function(t,e,n){this.query=t,this.targetId=e,this.view=n},fg=function(t){this.key=t,this.kl=!1},pg=function(){function t(t,e,n,r,i,s){this.Uh=t,this.Ml=e,this.Ll=n,this.$l=r,this.currentUser=i,this.Bl=s,this.ql={},this.Ul=new uf(function(t){return Hl(t)},Bl),this.Ql=new Map,this.Kl=[],this.Wl=new Ah(ju.At),this.jl=new Map,this.Gl=new sm,this.zl={},this.Hl=new Map,this.Jl=_p.qo(),this.onlineState="Unknown",this.Yl=void 0}return Object.defineProperty(t.prototype,"Xl",{get:function(){return!0===this.Yl},enumerable:!1,configurable:!0}),t}();function mg(t,e){return Object(Lc.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Lc.d)(this,function(a){switch(a.label){case 0:return n=qg(t),(i=n.Ul.get(e))?(n.$l.ah(i.targetId),r=i.view.Ol(),[3,4]):[3,1];case 1:return[4,Kp(n.Uh,Fl(e))];case 2:return s=a.sent(),o=n.$l.ah(s.targetId),[4,gg(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.Xl&&Im(n.Ml,s),a.label=4;case 4:return[2,r]}})})}function gg(t,e,n,r){return Object(Lc.b)(this,void 0,void 0,function(){var i,s,o,a,c,u;return Object(Lc.d)(this,function(l){switch(l.label){case 0:return t.Zl=function(e,n,r){return function(t,e,n,r){return Object(Lc.b)(this,void 0,void 0,function(){var i,s,o;return Object(Lc.d)(this,function(a){switch(a.label){case 0:return(i=e.view.bl(n)).La?[4,Jp(t.Uh,e.query,!1).then(function(t){return e.view.bl(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.rn.get(e.targetId),o=e.view.yr(i,t.Xl,s),[2,(Tg(t,e.targetId,o.xl),o.snapshot)]}})})}(t,e,n,r)},[4,Jp(t.Uh,e,!0)];case 1:return i=l.sent(),s=new hg(e,i.za),o=s.bl(i.documents),a=Gh.hn(n,r&&"Offline"!==t.onlineState),c=s.yr(o,t.Xl,a),Tg(t,n,c.xl),u=new dg(e,n,s),[2,(t.Ul.set(e,u),t.Ql.has(n)?t.Ql.get(n).push(e):t.Ql.set(n,[e]),c.snapshot)]}})})}function bg(t,e){return Object(Lc.b)(this,void 0,void 0,function(){var n,r,i;return Object(Lc.d)(this,function(s){switch(s.label){case 0:return n=Qc(t),r=n.Ul.get(e),(i=n.Ql.get(r.targetId)).length>1?[2,(n.Ql.set(r.targetId,i.filter(function(t){return!Bl(t,e)})),void n.Ul.delete(e))]:n.Xl?(n.$l.hh(r.targetId),n.$l.nh(r.targetId)?[3,2]:[4,Zp(n.Uh,r.targetId,!1).then(function(){n.$l._h(r.targetId),Dm(n.Ml,r.targetId),xg(n,r.targetId)}).catch(sf)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return xg(n,r.targetId),[4,Zp(n.Uh,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function yg(t,e,n){return Object(Lc.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Lc.d)(this,function(a){switch(a.label){case 0:r=Qg(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Qc(t),i=Ou.now(),s=e.reduce(function(t,e){return t.add(e.key)},Bh());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Ka.Va(t,s).next(function(s){n=s;for(var o=[],a=0,c=e;a<c.length;a++){var u=c[a],l=gh(u,n.get(u.key));null!=l&&o.push(new _h(u.key,l,sl(l.proto.mapValue),hh.exists(!0)))}return r.Ra.Po(t,i,o,e)})}).then(function(t){var e=t.rr(n);return{batchId:t.batchId,_r:e}})}(r.Uh,e)];case 2:return i=a.sent(),r.$l.sh(i.batchId),function(t,e,n){var r=t.zl[t.currentUser.I()];r||(r=new Ah(Gc)),r=r.Ie(e,n),t.zl[t.currentUser.I()]=r}(r,i.batchId,n),[4,jg(r,i._r)];case 3:return a.sent(),[4,zm(r.Ml)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=Wd(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function vg(t,e){return Object(Lc.b)(this,void 0,void 0,function(){var n,r;return Object(Lc.d)(this,function(i){switch(i.label){case 0:n=Qc(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Wp(n.Uh,e)];case 2:return r=i.sent(),e.rn.forEach(function(t,e){var r=n.jl.get(e);r&&(qc(t._n.size+t.fn.size+t.dn.size<=1),t._n.size>0?r.kl=!0:t.fn.size>0?qc(r.kl):t.dn.size>0&&(qc(r.kl),r.kl=!1))}),[4,jg(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,sf(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function _g(t,e,n){var r=Qc(t);if(r.Xl&&0===n||!r.Xl&&1===n){var i=[];r.Ul.forEach(function(t,n){var r=n.view.cl(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Qc(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].cl(e)&&(r=!0)}),r&&sg(n)}(r.Ll,e),i.length&&r.ql.yi(i),r.onlineState=e,r.Xl&&r.$l.Eh(e)}}function wg(t,e,n){return Object(Lc.b)(this,void 0,void 0,function(){var r,i,s,o,a,c;return Object(Lc.d)(this,function(u){switch(u.label){case 0:return(r=Qc(t)).$l.fh(e,"rejected",n),i=r.jl.get(e),(s=i&&i.key)?(o=(o=new Ah(ju.At)).Ie(s,new cl(s,xu.min())),a=Bh().add(s),c=new Wh(xu.min(),new Map,new Dh(Gc),o,a),[4,vg(r,c)]):[3,2];case 1:return u.sent(),r.Wl=r.Wl.remove(s),r.jl.delete(e),Dg(r),[3,4];case 2:return[4,Zp(r.Uh,e,!1).then(function(){return xg(r,e,n)}).catch(sf)];case 3:u.sent(),u.label=4;case 4:return[2]}})})}function Cg(t,e){return Object(Lc.b)(this,void 0,void 0,function(){var n,r,i;return Object(Lc.d)(this,function(s){switch(s.label){case 0:n=Qc(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,Qp(n.Uh,e)];case 2:return i=s.sent(),Og(n,r,null),kg(n,r),n.$l.rh(r,"acknowledged"),[4,jg(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,sf(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function Eg(t,e,n){return Object(Lc.b)(this,void 0,void 0,function(){var r,i;return Object(Lc.d)(this,function(s){switch(s.label){case 0:r=Qc(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=Qc(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.Ra.yo(t,e).next(function(e){return qc(null!==e),r=e.keys(),n.Ra.No(t,e)}).next(function(){return n.Ra.ko(t)}).next(function(){return n.Ka.Va(t,r)})})}(r.Uh,e)];case 2:return i=s.sent(),Og(r,e,n),kg(r,e),r.$l.rh(e,"rejected",n),[4,jg(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,sf(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function Sg(t,e){return Object(Lc.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Lc.d)(this,function(a){switch(a.label){case 0:Lm((n=Qc(t)).Ml)||Fc("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Qc(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Ra.bo(t)})}(n.Uh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Hl.get(r)||[]).push(e),n.Hl.set(r,i),[3,4]);case 3:return s=a.sent(),o=Wd(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function kg(t,e){(t.Hl.get(e)||[]).forEach(function(t){t.resolve()}),t.Hl.delete(e)}function Og(t,e,n){var r=Qc(t),i=r.zl[r.currentUser.I()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.zl[r.currentUser.I()]=i}}function xg(t,e,n){void 0===n&&(n=null),t.$l.hh(e);for(var r=0,i=t.Ql.get(e);r<i.length;r++){var s=i[r];t.Ul.delete(s),n&&t.ql.t_(s,n)}t.Ql.delete(e),t.Xl&&t.Gl.cu(e).forEach(function(e){t.Gl.Mo(e)||Ag(t,e)})}function Ag(t,e){var n=t.Wl.get(e);null!==n&&(Dm(t.Ml,n),t.Wl=t.Wl.remove(e),t.jl.delete(n),Dg(t))}function Tg(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof ug?(t.Gl.sc(s.key,e),Ig(t,s)):s instanceof lg?(Fc("SyncEngine","Document no longer in limbo: "+s.key),t.Gl.rc(s.key,e),t.Gl.Mo(s.key)||Ag(t,s.key)):zc()}}function Ig(t,e){var n=e.key;t.Wl.get(n)||(Fc("SyncEngine","New document in limbo: "+n),t.Kl.push(n),Dg(t))}function Dg(t){for(;t.Kl.length>0&&t.Wl.size<t.Bl;){var e=t.Kl.shift(),n=t.Jl.next();t.jl.set(n,new fg(e)),t.Wl=t.Wl.Ie(e,n),Im(t.Ml,new Wl(Fl(jl(e.path)),n,2,rf.Zi))}}function jg(t,e,n){return Object(Lc.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Lc.d)(this,function(a){switch(a.label){case 0:return r=Qc(t),i=[],s=[],o=[],r.Ul.bt()?[3,3]:(r.Ul.forEach(function(t,a){o.push(r.Zl(a,e,n).then(function(t){if(t){r.Xl&&r.$l.fh(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Up.Na(a.targetId,t);s.push(e)}}))}),[4,Promise.all(o)]);case 1:return a.sent(),r.ql.yi(i),[4,function(t,e){return Object(Lc.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c,u;return Object(Lc.d)(this,function(l){switch(l.label){case 0:n=Qc(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Ld.forEach(e,function(e){return Ld.forEach(e.Ca,function(r){return n.persistence.Io.sc(t,e.targetId,r)}).next(function(){return Ld.forEach(e.xa,function(r){return n.persistence.Io.rc(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Bd(r=l.sent()))throw r;return Fc("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(c=n.Ba.get(a),u=c.ue(c.oe),n.Ba=n.Ba.Ie(a,u));return[2]}})})}(r.Uh,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function Rg(t,e){return Object(Lc.b)(this,void 0,void 0,function(){var n,r;return Object(Lc.d)(this,function(i){switch(i.label){case 0:return(n=Qc(t)).currentUser.isEqual(e)?[3,3]:(Fc("SyncEngine","User change. New user:",e.I()),[4,qp(n.Uh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Hl.forEach(function(t){t.forEach(function(t){t.reject(new Xc(Jc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Hl.clear()}(n),n.$l.wh(e,r.ja,r.Ga),[4,jg(n,r.Wa)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Pg(t,e){var n=Qc(t),r=n.jl.get(e);if(r&&r.kl)return Bh().add(r.key);var i=Bh(),s=n.Ql.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var c=n.Ul.get(a[o]);i=i.je(c.view.pl)}return i}function Ng(t,e){return Object(Lc.b)(this,void 0,void 0,function(){var n,r,i;return Object(Lc.d)(this,function(s){switch(s.label){case 0:return[4,Jp((n=Qc(t)).Uh,e.query,!0)];case 1:return r=s.sent(),i=e.view.Fl(r),[2,(n.Xl&&Tg(n,e.targetId,i.xl),i)]}})})}function Lg(t){return Object(Lc.b)(this,void 0,void 0,function(){var e;return Object(Lc.d)(this,function(n){return[2,tm((e=Qc(t)).Uh).then(function(t){return jg(e,t)})]})})}function Vg(t,e,n,r){return Object(Lc.b)(this,void 0,void 0,function(){var i,s;return Object(Lc.d)(this,function(o){switch(o.label){case 0:return[4,function(t,e){var n=Qc(t),r=Qc(n.Ra);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.Vo(t,e).next(function(e){return e?n.Ka.Va(t,e):Ld.resolve(null)})})}((i=Qc(t)).Uh,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,zm(i.Ml)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Og(i,e,r||null),kg(i,e),function(t,e){Qc(Qc(t).Ra).Fo(e)}(i.Uh,e)):zc(),o.label=4;case 4:return[4,jg(i,s)];case 5:return o.sent(),[3,7];case 6:Fc("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}})})}function Mg(t,e){return Object(Lc.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c;return Object(Lc.d)(this,function(u){switch(u.label){case 0:return qg(n=Qc(t)),Qg(n),!0!==e||!0===n.Yl?[3,3]:(r=n.$l.th(),[4,Fg(n,r.Dt())]);case 1:return i=u.sent(),n.Yl=!0,[4,Km(n.Ml,!0)];case 2:for(u.sent(),s=0,o=i;s<o.length;s++)Im(n.Ml,o[s]);return[3,7];case 3:return!1!==e||!1===n.Yl?[3,7]:(a=[],c=Promise.resolve(),n.Ql.forEach(function(t,e){n.$l.lh(e)?a.push(e):c=c.then(function(){return xg(n,e),Zp(n.Uh,e,!0)}),Dm(n.Ml,e)}),[4,c]);case 4:return u.sent(),[4,Fg(n,a)];case 5:return u.sent(),function(t){var e=Qc(t);e.jl.forEach(function(t,n){Dm(e.Ml,n)}),e.Gl.au(),e.jl=new Map,e.Wl=new Ah(ju.At)}(n),n.Yl=!1,[4,Km(n.Ml,!1)];case 6:u.sent(),u.label=7;case 7:return[2]}})})}function Fg(t,e,n){return Object(Lc.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c,u,l,h,d,f,p;return Object(Lc.d)(this,function(m){switch(m.label){case 0:n=Qc(t),r=[],i=[],s=0,o=e,m.label=1;case 1:return s<o.length?(c=void 0,(u=n.Ql.get(a=o[s]))&&0!==u.length?[4,Kp(n.Uh,Fl(u[0]))]:[3,7]):[3,13];case 2:c=m.sent(),l=0,h=u,m.label=3;case 3:return l<h.length?(d=n.Ul.get(h[l]),[4,Ng(n,d)]):[3,6];case 4:(f=m.sent()).snapshot&&i.push(f.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Xp(n.Uh,a)];case 8:return p=m.sent(),[4,Kp(n.Uh,p)];case 9:return c=m.sent(),[4,gg(n,Ug(p),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(c),m.label=12;case 12:return s++,[3,1];case 13:return[2,(n.ql.yi(i),r)]}})})}function Ug(t){return Dl(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Bg(t){var e=Qc(t);return Qc(Qc(e.Uh).persistence).Ea()}function Hg(t,e,n,r){return Object(Lc.b)(this,void 0,void 0,function(){var i,s,o;return Object(Lc.d)(this,function(a){switch(a.label){case 0:return(i=Qc(t)).Yl?(Fc("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Ql.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,tm(i.Uh)];case 3:return s=a.sent(),o=Wh.un(e,"current"===n),[4,jg(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,Zp(i.Uh,e,!0)];case 6:return a.sent(),xg(i,e,r),[3,8];case 7:zc(),a.label=8;case 8:return[2]}})})}function zg(t,e,n){return Object(Lc.b)(this,void 0,void 0,function(){var r,i,s,o,a,c,u,l,h;return Object(Lc.d)(this,function(d){switch(d.label){case 0:if(!(r=qg(t)).Yl)return[3,10];i=0,s=e,d.label=1;case 1:return i<s.length?r.Ql.has(o=s[i])?(Fc("SyncEngine","Adding an already active target "+o),[3,5]):[4,Xp(r.Uh,o)]:[3,6];case 2:return a=d.sent(),[4,Kp(r.Uh,a)];case 3:return c=d.sent(),[4,gg(r,Ug(a),c.targetId,!1)];case 4:d.sent(),Im(r.Ml,c),d.label=5;case 5:return i++,[3,1];case 6:u=function(t){return Object(Lc.d)(this,function(e){switch(e.label){case 0:return r.Ql.has(t)?[4,Zp(r.Uh,t,!1).then(function(){Dm(r.Ml,t),xg(r,t)}).catch(sf)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,d.label=7;case 7:return l<h.length?[5,u(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function qg(t){var e=Qc(t);return e.Ml.Kh.Zh=vg.bind(null,e),e.Ml.Kh.Xn=Pg.bind(null,e),e.Ml.Kh.Xh=wg.bind(null,e),e.ql.yi=rg.bind(null,e.Ll),e.ql.t_=ig.bind(null,e.Ll),e}function Qg(t){var e=Qc(t);return e.Ml.Kh.tl=Cg.bind(null,e),e.Ml.Kh.el=Eg.bind(null,e),e}var Yg=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Lc.b)(this,void 0,void 0,function(){return Object(Lc.d)(this,function(e){switch(e.label){case 0:return this.fe=Nd(t.rt.O),this.$l=this.r_(t),this.persistence=this.o_(t),[4,this.persistence.start()];case 1:return e.sent(),this.c_=this.a_(t),this.Uh=this.u_(t),[2]}})})},t.prototype.a_=function(t){return null},t.prototype.u_=function(t){return zp(this.persistence,new Bp,t.h_,this.fe)},t.prototype.o_=function(t){return new hm(fm.Du,this.fe)},t.prototype.r_=function(t){return new Em},t.prototype.terminate=function(){return Object(Lc.b)(this,void 0,void 0,function(){return Object(Lc.d)(this,function(t){switch(t.label){case 0:return this.c_&&this.c_.stop(),[4,this.$l.$()];case 1:return t.sent(),[4,this.persistence.$()];case 2:return t.sent(),[2]}})})},t}(),Wg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).l_=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Lc.c)(e,t),e.prototype.initialize=function(e){return Object(Lc.b)(this,void 0,void 0,function(){return Object(Lc.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,em(this.Uh)];case 2:return n.sent(),[4,this.l_.initialize(this,e)];case 3:return n.sent(),[4,Qg(this.l_.Lu)];case 4:return n.sent(),[4,zm(this.l_.Ml)];case 5:return n.sent(),[2]}})})},e.prototype.u_=function(t){return zp(this.persistence,new Bp,t.h_,this.fe)},e.prototype.a_=function(t){return new ff(this.persistence.Io.vr,t.ks)},e.prototype.o_=function(t){var e=Mp(t.rt.O,t.rt.persistenceKey),n=void 0!==this.cacheSizeBytes?nf.Ki(this.cacheSizeBytes):nf.Gi;return new Np(this.synchronizeTabs,e,t.clientId,n,t.ks,Sm(),km(),this.fe,this.$l,!!this.forceOwnership)},e.prototype.r_=function(t){return new Em},e}(Yg),Gg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).l_=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Lc.c)(e,t),e.prototype.initialize=function(e){return Object(Lc.b)(this,void 0,void 0,function(){var n,r=this;return Object(Lc.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.l_.Lu,this.$l instanceof Cm?(this.$l.Lu={Sh:Vg.bind(null,n),Dh:Hg.bind(null,n),Ch:zg.bind(null,n),Ea:Bg.bind(null,n),bh:Lg.bind(null,n)},[4,this.$l.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Yc(function(t){return Object(Lc.b)(r,void 0,void 0,function(){return Object(Lc.d)(this,function(e){switch(e.label){case 0:return[4,Mg(this.l_.Lu,t)];case 1:return e.sent(),this.c_&&(t&&!this.c_.Nr?this.c_.start(this.Uh):t||this.c_.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.r_=function(t){var e=Sm();if(!Cm.G(e))throw new Xc(Jc.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Mp(t.rt.O,t.rt.persistenceKey);return new Cm(e,t.ks,n,t.clientId,t.h_)},e}(Wg),$g=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Lc.b)(this,void 0,void 0,function(){var n=this;return Object(Lc.d)(this,function(r){switch(r.label){case 0:return this.Uh?[3,2]:(this.Uh=t.Uh,this.$l=t.$l,this.Qh=this.__(e),this.Ml=this.f_(e),this.Ll=this.d_(e),this.Lu=this.w_(e,!t.synchronizeTabs),this.$l.$u=function(t){return _g(n.Lu,t,1)},this.Ml.Kh.E_=Rg.bind(null,this.Lu),[4,Km(this.Ml,this.Lu.Xl)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.d_=function(t){return new tg},t.prototype.__=function(t){var e=Nd(t.rt.O),n=new ku(t.rt);return function(t,e,n){return new Jd(t,e,n)}(t.credentials,n,e)},t.prototype.f_=function(t){var e,n,r,i,s,o=this;return e=this.Uh,n=this.Qh,r=t.ks,i=function(t){return _g(o.Lu,t,0)},s=pu.G()?new pu:new fu,new xm(e,n,r,i,s)},t.prototype.w_=function(t,e){return function(t,e,n,r,i,s,o){var a=new pg(t,e,n,r,i,s);return o&&(a.Yl=!0),a}(this.Uh,this.Ml,this.Ll,this.$l,t.h_,t.Bl,e)},t.prototype.terminate=function(){return function(t){return Object(Lc.b)(this,void 0,void 0,function(){var e;return Object(Lc.d)(this,function(n){switch(n.label){case 0:return e=Qc(t),Fc("RemoteStore","RemoteStore shutting down."),e.Gh.add(5),[4,Tm(e)];case 1:return n.sent(),e.Hh.$(),e.Jh.set("Unknown"),[2]}})})}(this.Ml)},t}(),Kg=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.T_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.T_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.I_=function(){this.muted=!0},t.prototype.T_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Zg=(function(){function t(t,e){var n=this;this.m_=t,this.fe=e,this.metadata=new Su,this.buffer=new Uint8Array,this.A_=new TextDecoder("utf-8"),this.R_().then(function(t){t&&t.Tl()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.m_.cancel()},t.prototype.getMetadata=function(){return Object(Lc.b)(this,void 0,void 0,function(){return Object(Lc.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.s_=function(){return Object(Lc.b)(this,void 0,void 0,function(){return Object(Lc.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.R_())]}})})},t.prototype.R_=function(){return Object(Lc.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(Lc.d)(this,function(i){switch(i.label){case 0:return[4,this.P_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.A_.decode(t),n=Number(e),isNaN(n)&&this.y_("length string ("+e+") is not valid number"),[4,this.g_(n)]);case 2:return r=i.sent(),[2,new ag(JSON.parse(r),t.length+n)]}})})},t.prototype.V_=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.P_=function(){return Object(Lc.b)(this,void 0,void 0,function(){var t,e;return Object(Lc.d)(this,function(n){switch(n.label){case 0:return this.V_()<0?[4,this.p_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.V_())<0&&this.y_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.g_=function(t){return Object(Lc.b)(this,void 0,void 0,function(){var e;return Object(Lc.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.p_()]:[3,3];case 1:n.sent()&&this.y_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.A_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.y_=function(t){throw this.m_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.p_=function(){return Object(Lc.b)(this,void 0,void 0,function(){var t,e;return Object(Lc.d)(this,function(n){switch(n.label){case 0:return[4,this.m_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Xc(Jc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.b_=new Du(t)}return t.prototype.isEqual=function(t){return this.b_.isEqual(t.b_)},t}()),Jg=function(t){this._methodName=t},Xg=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.Vt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.Ct()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new eb(this.firestore,this.v_,this.S_.path.yt())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),tb=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),eb=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,jl(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(Lc.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.Vt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.Ct()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.yt();return t.bt()?null:new Xg(this.firestore,null,new ju(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(tb);function nb(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof eu&&(t=t._),mf("collection","path",e),t instanceof kf)return vf(n=Tu.xt.apply(Tu,Object(Lc.g)([e],r))),new eb(t,null,n);if(!(t instanceof Xg||t instanceof eb))throw new Xc(Jc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return vf(n=Tu.xt.apply(Tu,Object(Lc.g)([t.path],r)).child(Tu.xt(e))),new eb(t.firestore,null,n)}function rb(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof eu&&(t=t._),1===arguments.length&&(e=Wc.t()),mf("doc","path",e),t instanceof kf)return yf(n=Tu.xt.apply(Tu,Object(Lc.g)([e],r))),new Xg(t,null,new ju(n));if(!(t instanceof Xg||t instanceof eb))throw new Xc(Jc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return yf(n=t.D_.child(Tu.xt.apply(Tu,Object(Lc.g)([e],r)))),new Xg(t.firestore,t instanceof eb?t.v_:null,new ju(n))}function ib(t,e){return t instanceof eu&&(t=t._),e instanceof eu&&(e=e._),(t instanceof Xg||t instanceof eb)&&(e instanceof Xg||e instanceof eb)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function sb(t,e){return t instanceof eu&&(t=t._),e instanceof eu&&(e=e._),t instanceof tb&&e instanceof tb&&t.firestore===e.firestore&&Bl(t.C_,e.C_)&&t.v_===e.v_}var ob=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Xc(Jc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Xc(Jc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.dt=function(t){return Gc(this.x_,t.x_)||Gc(this.N_,t.N_)},t}(),ab=/^__.*__$/,cb=function(){function t(t,e,n){this.data=t,this.Te=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.Te?new _h(t,this.data,this.Te,e,this.fieldTransforms):new vh(t,this.data,e,this.fieldTransforms)},t}(),ub=function(){function t(t,e,n){this.data=t,this.Te=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new _h(t,this.data,this.Te,e,this.fieldTransforms)},t}();function lb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw zc()}}var hb=function(){function t(t,e,n,r,i,s){this.settings=t,this.O=e,this.fe=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.Te=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.O,this.fe,this.ignoreUndefinedProperties,this.fieldTransforms,this.Te)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return Db(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.Te.find(function(e){return t.vt(e)})||void 0!==this.fieldTransforms.find(function(e){return t.vt(e.field)})},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(lb(this.k_)&&ab.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),db=function(){function t(t,e,n){this.O=t,this.ignoreUndefinedProperties=e,this.fe=n||Nd(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new hb({k_:t,methodName:e,j_:n,path:Du.Nt(),B_:!1,W_:r},this.O,this.fe,this.ignoreUndefinedProperties)},t}();function fb(t){var e=t.so(),n=Nd(t.zr);return new db(t.zr,!!e.ignoreUndefinedProperties,n)}function pb(t,e,n,r,i,s){void 0===s&&(s={});var o=t.G_(s.merge||s.mergeFields?2:0,e,n,i);xb("Data must be an object, but it was:",o,r);var a,c,u=kb(r,o);if(s.merge)a=new Lu(o.Te),c=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,d=s.mergeFields;h<d.length;h++){var f=Ab(e,d[h],n);if(!o.contains(f))throw new Xc(Jc.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");jb(l,f)||l.push(f)}a=new Lu(l),c=o.fieldTransforms.filter(function(t){return a.Qt(t.field)})}else a=null,c=o.fieldTransforms;return new cb(new rl(u),a,c)}var mb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Lc.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.Te.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Jg);function gb(t,e,n){return new hb({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.O,e.fe,e.ignoreUndefinedProperties)}var bb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Lc.c)(e,t),e.prototype.z_=function(t){return new uh(t.path,new eh)},e.prototype.isEqual=function(t){return t instanceof e},e}(Jg),yb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Lc.c)(e,t),e.prototype.z_=function(t){var e=gb(this,t,!0),n=this.H_.map(function(t){return Sb(t,e)}),r=new nh(n);return new uh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Jg),vb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Lc.c)(e,t),e.prototype.z_=function(t){var e=gb(this,t,!0),n=this.H_.map(function(t){return Sb(t,e)}),r=new ih(n);return new uh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Jg),_b=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(Lc.c)(e,t),e.prototype.z_=function(t){var e=new oh(t.fe,Kl(t.fe,this.J_));return new uh(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Jg);function wb(t,e,n,r){var i=t.G_(1,e,n);xb("Data must be an object, but it was:",i,r);var s=[],o=new il;Pu(r,function(t,r){var a=Ib(e,t,n);r instanceof eu&&(r=r._);var c=i.U_(a);if(r instanceof mb)s.push(a);else{var u=Sb(r,c);null!=u&&(s.push(a),o.set(a,u))}});var a=new Lu(s);return new ub(o.Gt(),a,i.fieldTransforms)}function Cb(t,e,n,r,i,s){var o=t.G_(1,e,n),a=[Ab(e,r,n)],c=[i];if(s.length%2!=0)throw new Xc(Jc.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var u=0;u<s.length;u+=2)a.push(Ab(e,s[u])),c.push(s[u+1]);for(var l=[],h=new il,d=a.length-1;d>=0;--d)if(!jb(l,a[d])){var f=a[d],p=c[d];p instanceof eu&&(p=p._);var m=o.U_(f);if(p instanceof mb)l.push(f);else{var g=Sb(p,m);null!=g&&(l.push(f),h.set(f,g))}}var b=new Lu(l);return new ub(h.Gt(),b,o.fieldTransforms)}function Eb(t,e,n,r){return void 0===r&&(r=!1),Sb(n,t.G_(r?4:3,e))}function Sb(t,e){if(t instanceof eu&&(t=t._),Ob(t))return xb("Unsupported field value:",e,t),kb(t,e);if(t instanceof Jg)return function(t,e){if(!lb(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.Te.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=Sb(s[i],e.Q_(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof eu&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Kl(e.fe,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Ou.fromDate(t);return{timestampValue:sd(e.fe,n)}}if(t instanceof Ou)return n=new Ou(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:sd(e.fe,n)};if(t instanceof ob)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof tu)return{bytesValue:od(e.fe,t.l)};if(t instanceof Xg){var r=t.firestore.zr;if(!r.isEqual(n=e.O))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:ud(t.firestore.zr||e.O,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+_f(t))}(t,e)}function kb(t,e){var n={};return Nu(t)?e.path&&e.path.length>0&&e.Te.push(e.path):Pu(t,function(t,r){var i=Sb(r,e.L_(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Ob(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ou||t instanceof ob||t instanceof tu||t instanceof Xg||t instanceof Jg)}function xb(t,e,n){if(!Ob(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=_f(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function Ab(t,e,n){if(e instanceof eu&&(e=e._),e instanceof Zg)return e.b_;if("string"==typeof e)return Ib(t,e);throw Db("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Tb=new RegExp("[~\\*/\\[\\]]");function Ib(t,e,n){if(e.search(Tb)>=0)throw Db("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Zg.bind.apply(Zg,Object(Lc.g)([void 0],e.split("."))))).b_}catch(r){throw Db("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Db(t,e,n,r,i){var s=r&&!r.bt(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var c="";return(s||o)&&(c+=" (found",s&&(c+=" in field "+r),o&&(c+=" in document "+i),c+=")"),new Xc(Jc.INVALID_ARGUMENT,(a+=". ")+t+c)}function jb(t,e){return t.some(function(t){return t.isEqual(e)})}var Rb=function(){function t(t){this.Qh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(Lc.b)(this,void 0,void 0,function(){var e,n=this;return Object(Lc.d)(this,function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new Xc(Jc.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Lc.b)(this,void 0,void 0,function(){var n,r,i,s,o,a;return Object(Lc.d)(this,function(c){switch(c.label){case 0:return n=Qc(t),r=md(n.fe)+"/documents",i={documents:e.map(function(t){return hd(n.fe,t)})},[4,n._t("BatchGetDocuments",r,i)];case 1:return s=c.sent(),o=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){qc(!!e.found);var n=dd(t,e.found.name),r=cd(e.found.updateTime),i=new rl({mapValue:{fields:e.found.fields}});return new al(n,r,i,{})}(t,e):"missing"in e?function(t,e){qc(!!e.missing),qc(!!e.readTime);var n=dd(t,e.missing),r=cd(e.readTime);return new cl(n,r)}(t,e):zc()}(n.fe,t);o.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=o.get(t.toString());qc(!!e),a.push(e)}),a)]}})})}(this.Qh,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof cl||t instanceof al?n.sf(t):zc()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.F_(t,this.Ee(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new kh(t,this.Ee(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(Lc.b)(this,void 0,void 0,function(){var t,e=this;return Object(Lc.d)(this,function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=ju.Lt(n);e.mutations.push(new Oh(r,e.Ee(r)))}),[4,function(t,e){return Object(Lc.b)(this,void 0,void 0,function(){var n,r,i;return Object(Lc.d)(this,function(s){switch(s.label){case 0:return n=Qc(t),r=md(n.fe)+"/documents",i={writes:e.map(function(t){return vd(n.fe,t)})},[4,n.at("Commit",r,i)];case 1:return s.sent(),[2]}})})}(this.Qh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(t){var e;if(t instanceof al)e=t.version;else{if(!(t instanceof cl))throw zc();e=xu.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Xc(Jc.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Ee=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?hh.updateTime(e):hh.de()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(xu.min()))throw new Xc(Jc.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return hh.updateTime(e)}return hh.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),Pb=function(){function t(t,e,n,r){this.ks=t,this.Qh=e,this.updateFunction=n,this.Bs=r,this.cf=5,this.ui=new Gd(this.ks,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.ui.ti(function(){return Object(Lc.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Lc.d)(this,function(r){return t=new Rb(this.Qh),(e=this.uf(t))&&e.then(function(e){n.ks.Ws(function(){return t.commit().then(function(){n.Bs.resolve(e)}).catch(function(t){n.hf(t)})})}).catch(function(t){n.hf(t)}),[2]})})})},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!mu(e)&&e.catch&&e.then?e:(this.Bs.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Bs.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.ks.Ws(function(){return e.af(),Promise.resolve()})):this.Bs.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!wu(e)}return!1},t}(),Nb=function(){function t(t,e,n){var r=this;this.credentials=t,this.ks=e,this.rt=n,this.user=su.UNAUTHENTICATED,this.clientId=Wc.t(),this._f=function(){},this.S=new Su,this.credentials.V(function(t){Fc("FirestoreClient","Received user=",t.uid),r.user.isEqual(t)||(r.user=t,r._f(t)),r.S.resolve()})}return t.prototype.getConfiguration=function(){return Object(Lc.b)(this,void 0,void 0,function(){return Object(Lc.d)(this,function(t){switch(t.label){case 0:return[4,this.S.promise];case 1:return[2,(t.sent(),{ks:this.ks,rt:this.rt,clientId:this.clientId,credentials:this.credentials,h_:this.user,Bl:100})]}})})},t.prototype.ff=function(t){var e=this;this._f=t,this.S.promise.then(function(){return e._f(e.user)})},t.prototype.df=function(){if(this.ks.wf)throw new Xc(Jc.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.ks.Ef();var e=new Su;return this.ks.Tf(function(){return Object(Lc.b)(t,void 0,void 0,function(){var t,n;return Object(Lc.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.p(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Wd(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Lb(t,e){return Object(Lc.b)(this,void 0,void 0,function(){var n,r=this;return Object(Lc.d)(this,function(i){switch(i.label){case 0:return t.ks.Af(),Fc("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=i.sent(),[4,e.initialize(n)];case 2:return i.sent(),t.ff(function(n){return t.ks.ea(function(){return Object(Lc.b)(r,void 0,void 0,function(){return Object(Lc.d)(this,function(t){switch(t.label){case 0:return[4,qp(e.Uh,n)];case 1:return t.sent(),[2]}})})})}),e.persistence.Xc(function(){return t.terminate()}),t.mf=e,[2]}})})}function Vb(t,e){return Object(Lc.b)(this,void 0,void 0,function(){var n,r;return Object(Lc.d)(this,function(i){switch(i.label){case 0:return t.ks.Af(),[4,Mb(t)];case 1:return n=i.sent(),Fc("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff(function(n){return t.ks.ea(function(){return function(t,e){return Object(Lc.b)(this,void 0,void 0,function(){var n,r;return Object(Lc.d)(this,function(i){switch(i.label){case 0:return(n=Qc(t)).ks.Af(),Fc("RemoteStore","RemoteStore received new credentials"),r=Lm(n),n.Gh.add(3),[4,Tm(n)];case 1:return i.sent(),r&&n.Jh.set("Unknown"),[4,n.Kh.E_(e)];case 2:return i.sent(),n.Gh.delete(3),[4,Am(n)];case 3:return i.sent(),[2]}})})}(e.Ml,n)})}),t.If=e,[2]}})})}function Mb(t){return Object(Lc.b)(this,void 0,void 0,function(){return Object(Lc.d)(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(Fc("FirestoreClient","Using default OfflineComponentProvider"),[4,Lb(t,new Yg)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function Fb(t){return Object(Lc.b)(this,void 0,void 0,function(){return Object(Lc.d)(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(Fc("FirestoreClient","Using default OnlineComponentProvider"),[4,Vb(t,new $g)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function Ub(t){return Mb(t).then(function(t){return t.persistence})}function Bb(t){return Mb(t).then(function(t){return t.Uh})}function Hb(t){return Fb(t).then(function(t){return t.Ml})}function zb(t){return Fb(t).then(function(t){return t.Lu})}function qb(t){return Object(Lc.b)(this,void 0,void 0,function(){var e,n;return Object(Lc.d)(this,function(r){switch(r.label){case 0:return[4,Fb(t)];case 1:return e=r.sent(),[2,((n=e.Ll).ol=mg.bind(null,e.Lu),n.ul=bg.bind(null,e.Lu),n)]}})})}function Qb(t,e,n){var r=this;void 0===n&&(n={});var i=new Su;return t.ks.Ws(function(){return Object(Lc.b)(r,void 0,void 0,function(){var r;return Object(Lc.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Kg({next:function(s){e.Ws(function(){return ng(t,o)});var a=s.docs.has(n);!a&&s.fromCache?i.reject(new Xc(Jc.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Xc(Jc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new og(jl(n.path),s,{includeMetadataChanges:!0,El:!0});return eg(t,o)},[4,qb(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.ks,e,n,i])]}})})}),i.promise}function Yb(t,e,n){var r=this;void 0===n&&(n={});var i=new Su;return t.ks.Ws(function(){return Object(Lc.b)(r,void 0,void 0,function(){var r;return Object(Lc.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Kg({next:function(n){e.Ws(function(){return ng(t,o)}),n.fromCache&&"server"===r.source?i.reject(new Xc(Jc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new og(n,s,{includeMetadataChanges:!0,El:!0});return eg(t,o)},[4,qb(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.ks,e,n,i])]}})})}),i.promise}var Wb=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.ui=new Gd(this,"async_queue_retry"),this.vf=function(){var e=km();e&&Fc("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ui.si()};var e=km();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.Ws=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=km();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(t){}):this.Df(t)},t.prototype.ea=function(t){var e=this;this.Ws(function(){return e.Pf.push(t),e.Cf()})},t.prototype.Cf=function(){return Object(Lc.b)(this,void 0,void 0,function(){var t,e=this;return Object(Lc.d)(this,function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.ui.reset(),[3,4];case 3:if(!Bd(t=n.sent()))throw t;return Fc("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.ui.ti(function(){return e.Cf()}),n.label=5;case 5:return[2]}})})},t.prototype.Df=function(t){var e=this,n=this.Rf.then(function(){return e.pf=!0,t().catch(function(t){throw e.Vf=t,e.pf=!1,Uc("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.pf=!1,t})});return this.Rf=n,n},t.prototype.ni=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=Yd.qs(this,t,e,n,function(t){return r.xf(t)});return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&zc()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(Lc.b)(this,void 0,void 0,function(){var t;return Object(Lc.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Ff=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].Ms===t)return!0;return!1},t.prototype.Of=function(t){var e=this;return this.Nf().then(function(){e.gf.sort(function(t,e){return t.Ls-e.Ls});for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ks(),"all"!==t&&i.Ms===t)break}return e.Nf()})},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),Gb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new Wb,r.Wr="name"in e?e.name:"[DEFAULT]",r}return Object(Lc.c)(e,t),e.prototype.io=function(){return this.Lf||Kb(this),this.Lf.terminate()},e}(kf);function $b(t){return t.Lf||Kb(t),t.Lf.df(),t.Lf}function Kb(t){var e=t.so(),n=function(t,e,n){return new hu(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.zr,t.Wr,e);t.Lf=new Nb(t.Hr,t.Mf,n)}function Zb(t,e,n){var r=this,i=new Su;return t.ks.enqueue(function(){return Object(Lc.b)(r,void 0,void 0,function(){var r;return Object(Lc.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,Lb(t,n)];case 1:return s.sent(),[4,Vb(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Jc.FAILED_PRECONDITION||t.code===Jc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Jb(t){if(t.Yr||t.Xr)throw new Xc(Jc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Xb=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),qu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Fu(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(Uu(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.Wf(t.arrayValue,e);case 10:return this.jf(t.mapValue,e);default:throw zc()}},t.prototype.jf=function(t,e){var n=this,r={};return Pu(t.fields||{},function(t,i){r[t]=n.$f(i,e)}),r},t.prototype.Kf=function(t){return new ob(Fu(t.latitude),Fu(t.longitude))},t.prototype.Wf=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.$f(t,e)})},t.prototype.qf=function(t,e){switch(e){case"previous":var n=Hu(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(zu(t));default:return null}},t.prototype.Bf=function(t){var e=Mu(t);return new Ou(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=Tu.xt(t);qc(Pd(n));var r=new du(n.get(1),n.get(3)),i=new ju(n.Pt(5));return r.isEqual(e)||Uc("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),ty=function(){function t(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.Vt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Xg(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new ey(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.Yt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(ny("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),ey=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Lc.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(ty);function ny(t,e){return"string"==typeof e?Ib(t,e):e instanceof eu?e._.b_:e.b_}function ry(t){if(Pl(t)&&0===t.ne.length)throw new Xc(Jc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var iy=function(){};function sy(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s.Yf(t)}return t}var oy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xf=e,i.Zf=n,i.td=r,i.type="where",i}return Object(Lc.c)(e,t),e.prototype.Yf=function(t){var e=fb(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.Ot()){if("array-contains"===s||"array-contains-any"===s)throw new Xc(Jc.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){fy(o,s);for(var c=[],u=0,l=o;u<l.length;u++)c.push(dy(r,t,l[u]));a={arrayValue:{values:c}}}else a=dy(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||fy(o,s),a=Eb(n,"where",o,"in"===s||"not-in"===s);var h=ml.create(i,s,a);return function(t,e){if(e.ee()){var n=Ll(t);if(null!==n&&!n.isEqual(e.field))throw new Xc(Jc.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Nl(t);null!==r&&py(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Xc(Jc.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.zr,this.Xf,this.Zf,this.td);return new tb(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new Il(t.path,t.collectionGroup,t.ne.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(iy),ay=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return Object(Lc.c)(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Xc(Jc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Xc(Jc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ol(e,n);return function(t,e){if(null===Nl(t)){var n=Ll(t);null!==n&&py(0,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new tb(t.firestore,t.v_,function(t,e){var n=t.ne.concat([e]);return new Il(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(iy),cy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.nd=n,i.sd=r,i}return Object(Lc.c)(e,t),e.prototype.Yf=function(t){return new tb(t.firestore,t.v_,Ul(t.C_,this.nd,this.sd))},e}(iy),uy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(Lc.c)(e,t),e.prototype.Yf=function(t){var e=hy(t,this.type,this.rd,this.od);return new tb(t.firestore,t.v_,function(t,e){return new Il(t.path,t.collectionGroup,t.ne.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(iy),ly=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(Lc.c)(e,t),e.prototype.Yf=function(t){var e=hy(t,this.type,this.rd,this.od);return new tb(t.firestore,t.v_,function(t,e){return new Il(t.path,t.collectionGroup,t.ne.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(iy);function hy(t,e,n,r){if(n[0]instanceof eu&&(n[0]=n[0]._),n[0]instanceof ty)return function(t,e,n,r,i){if(!r)throw new Xc(Jc.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=Ml(t);o<a.length;o++){var c=a[o];if(c.field.Ot())s.push(Zu(e,r.key));else{var u=r.field(c.field);if(Bu(u))throw new Xc(Jc.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===u){var l=c.field.Ct();throw new Xc(Jc.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(u)}}return new Sl(s,i)}(t.C_,t.firestore.zr,e,n[0].Jf,r);var i=fb(t.firestore);return function(t,e,n,r,i,s){var o=t.ne;if(i.length>o.length)throw new Xc(Jc.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],c=0;c<i.length;c++){var u=i[c];if(o[c].field.Ot()){if("string"!=typeof u)throw new Xc(Jc.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof u);if(!Vl(t)&&-1!==u.indexOf("/"))throw new Xc(Jc.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+u+"' contains a slash.");var l=t.path.child(Tu.xt(u));if(!ju.qt(l))throw new Xc(Jc.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new ju(l);a.push(Zu(e,h))}else{var d=Eb(n,r,u);a.push(d)}}return new Sl(a,s)}(t.C_,t.firestore.zr,i,e,n,r)}function dy(t,e,n){if(n instanceof eu&&(n=n._),"string"==typeof n){if(""===n)throw new Xc(Jc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vl(e)&&-1!==n.indexOf("/"))throw new Xc(Jc.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Tu.xt(n));if(!ju.qt(r))throw new Xc(Jc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Zu(t,new ju(r))}if(n instanceof Xg)return Zu(t,n.S_);throw new Xc(Jc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+_f(n)+".")}function fy(t,e){if(!Array.isArray(t)||0===t.length)throw new Xc(Jc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Xc(Jc.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function py(t,e,n){if(!n.isEqual(e))throw new Xc(Jc.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function my(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var gy=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Lc.c)(e,t),e.prototype.Uf=function(t){return new tu(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.zr);return new Xg(this.firestore,null,e)},e}(Xb);function by(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}var yy=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),vy=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this).zf=e,a.ad=e,a.metadata=s,a}return Object(Lc.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new _y(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.Yt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(ny("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(ty),_y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Lc.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(vy),wy=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new yy(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach(function(r){t.call(e,new _y(n.zf,n.Hf,r.key,r,new yy(n.ud.tn.has(r.key),n.ud.fromCache),n.query.v_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.nn)throw new Xc(Jc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.Ze.bt()){var n=0;return t.ud.docChanges.map(function(e){return{type:"added",doc:new _y(t.zf,t.Hf,e.doc.key,e.doc,new yy(t.ud.tn.has(e.doc.key),t.ud.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}})}var r=t.ud.Ze;return t.ud.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new _y(t.zf,t.Hf,e.doc.key,e.doc,new yy(t.ud.tn.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Cy(e.type),doc:n,oldIndex:i,newIndex:s}})}(this,e),this.ld=e),this.hd},t}();function Cy(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return zc()}}function Ey(t,e){return t instanceof vy&&e instanceof vy?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof wy&&e instanceof wy&&t.zf===e.zf&&sb(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var Sy=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Lc.c)(e,t),e.prototype.Uf=function(t){return new tu(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.zr);return new Xg(this.firestore,null,e)},e}(Xb);function ky(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=wf(t,Xg);var s=wf(t.firestore,Gb),o=fb(s);return e instanceof eu&&(e=e._),xy(s,[("string"==typeof e||e instanceof Zg?Cb(o,"updateDoc",t.S_,e,n,r):wb(o,"updateDoc",t.S_,e)).F_(t.S_,hh.exists(!0))])}function Oy(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t instanceof eu&&(t=t._);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||by(i[a])||(o=i[a],a++);var c,u,l,h={includeMetadataChanges:o.includeMetadataChanges};if(by(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof Xg)u=wf(t.firestore,Gb),l=jl(t.S_.path),c={next:function(e){i[a]&&i[a](Ay(u,t,e))},error:i[a+1],complete:i[a+2]};else{var f=wf(t,tb);u=wf(f.firestore,Gb),l=f.C_;var p=new Sy(u);c={next:function(t){i[a]&&i[a](new wy(u,p,f,t))},error:i[a+1],complete:i[a+2]},ry(t.C_)}return function(t,e,n,r){var i=this,s=new Kg(r),o=new og(e,s,n);return t.ks.Ws(function(){return Object(Lc.b)(i,void 0,void 0,function(){var e;return Object(Lc.d)(this,function(n){switch(n.label){case 0:return e=eg,[4,qb(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})}),function(){s.I_(),t.ks.Ws(function(){return Object(Lc.b)(i,void 0,void 0,function(){var e;return Object(Lc.d)(this,function(n){switch(n.label){case 0:return e=ng,[4,qb(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})})}}($b(u),l,h,c)}function xy(t,e){return function(t,e){var n=this,r=new Su;return t.ks.Ws(function(){return Object(Lc.b)(n,void 0,void 0,function(){var n;return Object(Lc.d)(this,function(i){switch(i.label){case 0:return n=yg,[4,zb(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}($b(t),e)}function Ay(t,e,n){var r=n.docs.get(e.S_),i=new Sy(t);return new vy(t,i,e.S_,r,new yy(n.hasPendingWrites,n.fromCache),e.v_)}var Ty=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=fb(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=Iy(t,this.zf),i=my(r.v_,e,n),s=pb(this.wd,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.fd.push(s.F_(r.S_,hh.de())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();var s,o=Iy(t,this.zf);return e instanceof eu&&(e=e._),s="string"==typeof e||e instanceof Zg?Cb(this.wd,"WriteBatch.update",o.S_,e,n,r):wb(this.wd,"WriteBatch.update",o.S_,e),this.fd.push(s.F_(o.S_,hh.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=Iy(t,this.zf);return this.fd=this.fd.concat(new kh(e.S_,hh.de())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new Xc(Jc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Iy(t,e){if(t instanceof eu&&(t=t._),t.firestore!==e)throw new Xc(Jc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Dy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return Object(Lc.c)(e,t),e.prototype.get=function(e){var n=this,r=Iy(e,this.zf),i=new Sy(this.zf);return t.prototype.get.call(this,e).then(function(t){return new vy(n.zf,i,r.S_,t.Jf,new yy(!1,!1),r.v_)})},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=fb(t)}return t.prototype.get=function(t){var e=this,n=Iy(t,this.zf),r=new gy(this.zf);return this.Td.ef([n.S_]).then(function(t){if(!t||1!==t.length)return zc();var i=t[0];if(i instanceof cl)return new ty(e.zf,r,n.S_,null,n.v_);if(i instanceof al)return new ty(e.zf,r,i.key,i,n.v_);throw zc()})},t.prototype.set=function(t,e,n){var r=Iy(t,this.zf),i=my(r.v_,e,n),s=pb(this.wd,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Td.set(r.S_,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=Iy(t,this.zf);return e instanceof eu&&(e=e._),s="string"==typeof e||e instanceof Zg?Cb(this.wd,"Transaction.update",o.S_,e,n,r):wb(this.wd,"Transaction.update",o.S_,e),this.Td.update(o.S_,s),this},t.prototype.delete=function(t){var e=Iy(t,this.zf);return this.Td.delete(e.S_),this},t}()),jy=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Jb(t=wf(t,Gb));var n=$b(t),r=t.so(),i=new $g;return Zb(n,i,new Wg(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Jb(t=wf(t,Gb));var e=$b(t),n=t.so(),r=new $g;return Zb(e,r,new Gg(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.Yr&&!t.Xr)throw new Xc(Jc.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Su;return t.Mf.Tf(function(){return Object(Lc.b)(e,void 0,void 0,function(){var e;return Object(Lc.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Lc.b)(this,void 0,void 0,function(){return Object(Lc.d)(this,function(e){switch(e.label){case 0:return Md.G()?[4,Md.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Mp(t.zr,t.Wr))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._)},t}(),Ry=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Id=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof du||(i.md=e),i}return Object(Lc.c)(e,t),Object.defineProperty(e.prototype,"zr",{get:function(){return this._.zr},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.no()),t)).merge,this._.eo(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this._.no().host&&Bc("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.ks.enqueue(function(){return Object(Lc.b)(e,void 0,void 0,function(){var e,n;return Object(Lc.d)(this,function(r){switch(r.label){case 0:return[4,Ub(t)];case 1:return e=r.sent(),[4,Hb(t)];case 2:return n=r.sent(),[2,(e.Zc(!0),function(t){var e=Qc(t);return e.Gh.delete(0),Am(e)}(n))]}})})})}($b(wf(this._,Gb)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.ks.enqueue(function(){return Object(Lc.b)(e,void 0,void 0,function(){var e,n;return Object(Lc.d)(this,function(r){switch(r.label){case 0:return[4,Ub(t)];case 1:return e=r.sent(),[4,Hb(t)];case 2:return n=r.sent(),[2,(e.Zc(!1),function(t){return Object(Lc.b)(this,void 0,void 0,function(){var e;return Object(Lc.d)(this,function(n){switch(n.label){case 0:return(e=Qc(t)).Gh.add(0),[4,Tm(e)];case 1:return n.sent(),e.Jh.set("Offline"),[2]}})})}(n))]}})})})}($b(wf(this._,Gb)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&bf("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Su;return t.ks.Ws(function(){return Object(Lc.b)(e,void 0,void 0,function(){var e;return Object(Lc.d)(this,function(r){switch(r.label){case 0:return e=Sg,[4,zb(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}($b(wf(this._,Gb)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Kg(e);return t.ks.Ws(function(){return Object(Lc.b)(n,void 0,void 0,function(){var e;return Object(Lc.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Qc(t).rl.add(e),e.next()},[4,qb(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.I_(),t.ks.Ws(function(){return Object(Lc.b)(n,void 0,void 0,function(){var e;return Object(Lc.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Qc(t).rl.delete(e)},[4,qb(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}($b(t=wf(t,Gb)),by(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new Xc(Jc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Yy(this,nb(this._,t))}catch(t){throw My(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Vy(this,rb(this._,t))}catch(t){throw My(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new zy(this,function(t,e){if(t=wf(t,kf),mf("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Xc(Jc.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new tb(t,null,function(t){return new Il(Tu.Nt(),t)}(e))}(this._,t))}catch(t){throw My(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Su;return t.ks.Ws(function(){return Object(Lc.b)(n,void 0,void 0,function(){var n;return Object(Lc.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return Fb(t).then(function(t){return t.Qh})}(t)];case 1:return n=i.sent(),new Pb(t.ks,n,e,r).run(),[2]}})})}),r.promise}($b(t),function(n){return e(new Dy(t,n))})}(this._,function(n){return t(new Ny(e,n))})},e.prototype.batch=function(){var t=this;return $b(this._),new Ly(new Ty(this._,function(e){return xy(t._,e)}))},e.prototype.loadBundle=function(t){throw new Xc(Jc.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Xc(Jc.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(eu),Py=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Lc.c)(e,t),e.prototype.Uf=function(t){return new iu(new tu(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.zr);return Vy.Ad(e,this.firestore,null)},e}(Xb),Ny=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Lc.c)(e,t),e.prototype.get=function(t){var e=this,n=Wy(t);return this._.get(n).then(function(t){return new By(e.zf,t)})},e.prototype.set=function(t,e,n){var r=Wy(t);return n?(gf("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=Wy(t);return 2===arguments.length?this._.update(o,e):(r=this._).update.apply(r,Object(Lc.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=Wy(t);return this._.delete(e),this},e}(eu),Ly=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Lc.c)(e,t),e.prototype.set=function(t,e,n){var r=Wy(t);return n?(gf("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=Wy(t);return 2===arguments.length?this._.update(o,e):(r=this._).update.apply(r,Object(Lc.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=Wy(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(eu),Vy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new Py(e),r}return Object(Lc.c)(e,t),e.Rd=function(t,n,r){if(t.length%2!=0)throw new Xc(Jc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.Ct()+" has "+t.length);return new e(n,new Xg(n._,r,new ju(t)))},e.Ad=function(t,n,r){return new e(n,new Xg(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Yy(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Yy(this.firestore,nb(this._,t))}catch(t){throw My(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof eu&&(t=t._),t instanceof Xg&&ib(this._,t)},e.prototype.set=function(t,e){e=gf("DocumentReference.set",e);try{return function(t,e,n){t=wf(t,Xg);var r=wf(t.firestore,Gb),i=my(t.v_,e,n);return xy(r,[pb(fb(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,hh.de())])}(this._,t,e)}catch(t){throw My(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?ky(this._,t):ky.apply(void 0,Object(Lc.g)([this._,t,e],n))}catch(t){throw My(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return xy(wf((t=this._).firestore,Gb),[new kh(t.S_,hh.de())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Fy(e),i=Uy(e,function(e){return new By(t.firestore,new vy(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))});return Oy(this._,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=wf(t,Xg);var e=wf(t.firestore,Gb),n=$b(e),r=new Sy(e);return function(t,e){var n=this,r=new Su;return t.ks.Ws(function(){return Object(Lc.b)(n,void 0,void 0,function(){var n;return Object(Lc.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Lc.b)(this,void 0,void 0,function(){var r,i;return Object(Lc.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=Qc(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Ka.Pa(t,e)})}(t,e)];case 1:return(i=s.sent())instanceof al?n.resolve(i):i instanceof cl?n.resolve(null):n.reject(new Xc(Jc.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=s.sent(),i=Wd(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Bb(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.S_).then(function(n){return new vy(e,r,t.S_,n,new yy(n instanceof al&&n.Jt,!0),t.v_)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=wf(t,Xg);var e=wf(t.firestore,Gb);return Qb($b(e),t.S_,{source:"server"}).then(function(n){return Ay(e,t,n)})}(this._):function(t){t=wf(t,Xg);var e=wf(t.firestore,Gb);return Qb($b(e),t.S_).then(function(n){return Ay(e,t,n)})}(this._)).then(function(t){return new By(e.firestore,new vy(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(eu);function My(t,e,n){return t.message=t.message.replace(e,n),t}function Fy(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!by(r))return r}return{}}function Uy(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=by(t[0])?t[0]:by(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var By=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Lc.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Vy(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return Ey(this._,t._)},e}(eu),Hy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Lc.c)(e,t),e.prototype.data=function(t){return this._.data(t)},e}(By),zy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new Py(e),r}return Object(Lc.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,sy(this._,function(t,e,n){var r=e,i=ny("where",t);return new oy(i,r,n)}(t,n,r)))}catch(t){throw My(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,sy(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=ny("orderBy",t);return new ay(r,n)}(t,n)))}catch(t){throw My(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,sy(this._,function(t){return Cf("limit",t),new cy("limit",t,"F")}(t)))}catch(t){throw My(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,sy(this._,function(t){return Cf("limitToLast",t),new cy("limitToLast",t,"L")}(t)))}catch(t){throw My(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,sy(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new uy("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw My(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,sy(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new uy("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw My(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,sy(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ly("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw My(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,sy(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ly("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw My(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return sb(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=wf(t,tb);var e=wf(t.firestore,Gb),n=$b(e),r=new Sy(e);return function(t,e){var n=this,r=new Su;return t.ks.Ws(function(){return Object(Lc.b)(n,void 0,void 0,function(){var n;return Object(Lc.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Lc.b)(this,void 0,void 0,function(){var r,i,s,o,a;return Object(Lc.d)(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,Jp(t,e,!0)];case 1:return a=c.sent(),r=new hg(e,a.za),i=r.bl(a.documents),s=r.yr(i,!1),n.resolve(s.snapshot),[3,3];case 2:return o=c.sent(),a=Wd(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,Bb(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.C_).then(function(n){return new wy(e,r,t,n)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=wf(t,tb);var e=wf(t.firestore,Gb),n=$b(e),r=new Sy(e);return Yb(n,t.C_,{source:"server"}).then(function(n){return new wy(e,r,t,n)})}(this._):function(t){t=wf(t,tb);var e=wf(t.firestore,Gb),n=$b(e),r=new Sy(e);return ry(t.C_),Yb(n,t.C_).then(function(n){return new wy(e,r,t,n)})}(this._)).then(function(t){return new Qy(e.firestore,new wy(e.firestore._,e.Hf,e._,t.ud))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Fy(e),i=Uy(e,function(e){return new Qy(t.firestore,new wy(t.firestore._,t.Hf,t._,e.ud))});return Oy(this._,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(eu),qy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Lc.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Hy(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(eu),Qy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Lc.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new zy(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map(function(e){return new Hy(t.zf,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map(function(t){return new qy(e.zf,t)})},e.prototype.forEach=function(t,e){var n=this;this._.forEach(function(r){t.call(e,new Hy(n.zf,r))})},e.prototype.isEqual=function(t){return Ey(this._,t._)},e}(eu),Yy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return Object(Lc.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new Vy(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Vy(this.firestore,void 0===t?rb(this._):rb(this._,t))}catch(t){throw My(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=wf(t.firestore,Gb),r=rb(t),i=my(t.v_,e);return xy(n,[pb(fb(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,hh.exists(!1))]).then(function(){return r})}(this._,t).then(function(t){return new Vy(e.firestore,t)})},e.prototype.isEqual=function(t){return ib(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(zy);function Wy(t){return t instanceof eu&&(t=t._),wf(t,Xg)}var Gy=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Zg.bind.apply(Zg,Object(Lc.g)([void 0],e))))||this}return Object(Lc.c)(e,t),e.documentId=function(){return new e(Du.kt().Ct())},e.prototype.isEqual=function(t){return t instanceof eu&&(t=t._),t instanceof Zg&&this._.b_.isEqual(t.b_)},e}(eu),$y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Lc.c)(e,t),e.serverTimestamp=function(){var t=new bb("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new mb("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new yb("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new vb("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new _b("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(eu);!function(){function t(){this.Pd={},this.yd=new Su,this.gd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.Pd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.yd.promise.catch(t)},t.prototype.then=function(t,e){return this.yd.promise.then(t,e)},t.prototype.e_=function(t){this.n_(t),this.Pd.complete&&this.Pd.complete(),this.yd.resolve(t)},t.prototype.i_=function(t){this.gd.taskState="Error",this.Pd.next&&this.Pd.next(this.gd),this.Pd.error&&this.Pd.error(t),this.yd.reject(t)},t.prototype.n_=function(t){this.gd=t,this.Pd.next&&this.Pd.next(t)}}();var Ky,Zy=n("/6Yf"),Jy={Firestore:Ry,GeoPoint:ob,Timestamp:Ou,Blob:iu,Transaction:Ny,WriteBatch:Ly,DocumentReference:Vy,DocumentSnapshot:By,Query:zy,QueryDocumentSnapshot:Hy,QuerySnapshot:Qy,CollectionReference:Yy,FieldPath:Gy,FieldValue:$y,setLogLevel:function(t){Vc.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Zy.a("firestore",function(t){return function(t,e){return new Ry(t,new Gb(t,e),new jy)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Jy)))})(Ky=Di.a),Ky.registerVersion("@firebase/firestore","2.1.0");var Xy=n("VRyK"),tv=n("qgXg"),ev=n("Ylt2");class nv extends St.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new rv(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new kt.a;if(this.isStopped||this.hasError?s=ke.a.EMPTY:(this.observers.push(t),s=new ev.a(this,t)),r&&t.add(t=new Ai.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||tv.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class rv{constructor(t,e){this.time=t,this.value=e}}function iv(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,c=!1;return function(u){let l;o++,!i||a?(a=!1,i=new nv(t,e,r),l=i.subscribe(this),s=u.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){c=!0,s=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),s&&!c&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}function sv(t,e){return e?ae(()=>t,e):ae(()=>t)}var ov=n("tf+s");const av=new r.r("angularfire2.auth.use-emulator"),cv=new r.r("angularfire2.auth.settings"),uv=new r.r("angularfire2.auth.tenant-id"),lv=new r.r("angularfire2.auth.langugage-code"),hv=new r.r("angularfire2.auth.use-device-language"),dv=new r.r("angularfire.auth.persistence");let fv=(()=>{class t{constructor(t,e,r,i,s,o,a,c,u,l){const h=new Ti.d(i),d=Object(Ti.h)(h),f=new St.a,p=Object(Ct.a)(void 0).pipe(Object(Ai.b)(h.outsideAngular),ae(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(Ht.a)(()=>Object(Ti.g)(t,i,e)),Object(Ht.a)(t=>i.runOutsideAngular(()=>{const e=s,n=o;return Object(Ti.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=c,u&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,c,u,n,l])})),iv({bufferSize:1,refCount:!1}));if(B(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Ct.a)(null);else{p.pipe(Ee()).subscribe();const t=p.pipe(ae(t=>t.getRedirectResult().then(t=>t,()=>null)),d,iv({bufferSize:1,refCount:!1})),e=t=>new Rt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(ae(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(ae(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(sv(n),Object(ov.a)(h.outsideAngular),Object(Ai.b)(h.insideAngular)),this.user=t.pipe(sv(r),Object(ov.a)(h.outsideAngular),Object(Ai.b)(h.insideAngular)),this.idToken=this.user.pipe(ae(t=>t?Object(Et.a)(t.getIdToken()):Object(Ct.a)(null))),this.idTokenResult=this.user.pipe(ae(t=>t?Object(Et.a)(t.getIdTokenResult()):Object(Ct.a)(null))),this.credential=Object(Xy.a)(t,f,this.authState.pipe(Qt(t=>!t))).pipe(Object(Ht.a)(t=>(null==t?void 0:t.user)?t:null),Object(ov.a)(h.outsideAngular),Object(Ai.b)(h.insideAngular))}return Object(Ti.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Ti.c),r.Ub(Ti.b,8),r.Ub(r.C),r.Ub(r.A),r.Ub(av,8),r.Ub(cv,8),r.Ub(uv,8),r.Ub(lv,8),r.Ub(hv,8),r.Ub(dv,8))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(Ti.c),Object(r.Ub)(Ti.b,8),Object(r.Ub)(r.C),Object(r.Ub)(r.A),Object(r.Ub)(av,8),Object(r.Ub)(cv,8),Object(r.Ub)(uv,8),Object(r.Ub)(lv,8),Object(r.Ub)(hv,8),Object(r.Ub)(dv,8))},token:t,providedIn:"any"}),t})();function pv(t,e){return function(t,e=Ci.b){return new Rt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function mv(t,e){return pv(t,e).pipe(Object(Ht.a)(t=>({payload:t,type:"query"})))}function gv(t,e){return mv(t,e).pipe(pe(void 0),Ei(),Object(Ht.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function bv(t,e,n){return gv(t,n).pipe(me((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return yv(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return yv(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return yv(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new Oi(void 0,void 0)),Object(Ht.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function yv(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function vv(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(Ti.e)(fv,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class _v{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=gv(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Ht.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(pe(void 0),Ei(),Qt(([t,e])=>e.length>0||!t),Object(Ht.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(me((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=vv(t);return bv(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return mv(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ht.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Et.a)(this.query.get(t)).pipe(Object(Ai.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new wv(this.ref.doc(t),this.afs)}}class wv{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=xv(n,e);return new _v(r,i,this.afs)}snapshotChanges(){return pv(this.ref,this.afs.schedulers.outsideAngular).pipe(pe(void 0),Ei(),Object(Ht.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Ht.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(Et.a)(this.ref.get(t)).pipe(Object(Ai.b)(this.afs.schedulers.insideAngular))}}class Cv{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?gv(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ht.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Qt(t=>t.length>0),this.afs.keepUnstableUntilFirst):gv(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(me((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=vv(t);return bv(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return mv(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ht.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Et.a)(this.query.get(t)).pipe(Object(Ai.b)(this.afs.schedulers.insideAngular))}}const Ev=new r.r("angularfire2.enableFirestorePersistence"),Sv=new r.r("angularfire2.firestore.persistenceSettings"),kv=new r.r("angularfire2.firestore.settings"),Ov=new r.r("angularfire2.firestore.use-emulator");function xv(t,e=(t=>t)){return{query:e(t),ref:t}}let Av=(()=>{class t{constructor(t,e,n,r,i,s,o,a,c){this.schedulers=new Ti.d(s),this.keepUnstableUntilFirst=Object(Ti.h)(this.schedulers);const u=Object(Ti.g)(t,s,e);!Ii.a.auth&&c&&Object(Ti.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(Ti.f)(u.name+".firestore","AngularFirestore",u,()=>{const t=s.runOutsideAngular(()=>u.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!B(i)){const e=()=>{try{return Object(Et.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(Ky){return"undefined"!=typeof console&&console.warn(Ky),Object(Ct.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(Ct.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=xv(n,e),s=this.schedulers.ngZone.run(()=>r);return new _v(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Cv(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new wv(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Ti.c),r.Ub(Ti.b,8),r.Ub(Ev,8),r.Ub(kv,8),r.Ub(r.C),r.Ub(r.A),r.Ub(Sv,8),r.Ub(Ov,8),r.Ub(av,8))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(Ti.c),Object(r.Ub)(Ti.b,8),Object(r.Ub)(Ev,8),Object(r.Ub)(kv,8),Object(r.Ub)(r.C),Object(r.Ub)(r.A),Object(r.Ub)(Sv,8),Object(r.Ub)(Ov,8),Object(r.Ub)(av,8))},token:t,providedIn:"any"}),t})(),Tv=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:Ev,useValue:!0},{provide:Sv,useValue:e}]}}}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[Av]}),t})(),Iv=(()=>{class t{constructor(t){this.firestore=t,this.schools=[],this.tasks=[],this.currentSchool="",this.clickedTask="",this.clickedSchool=""}addSchool(t){let e=this.schools.some(e=>e.school===t),n=this.firestore.createId(),r={school:t,deadline:"",id:n};e?alert("School name already exists"):this.firestore.collection("/SchoolList").doc(n).set(r)}addTask(t,e){let n=this.firestore.createId(),r=this.schools.find(e=>e.school=t);this.firestore.collection("TaskList").doc(n).set({school:t,checked:!1,taskDeadline:"",task:e,id:n,schoolID:r.id})}printItems(){console.log("Schools",this.schools),console.log("Tasks",this.tasks)}ngOnInit(){return _i(this,void 0,void 0,function*(){this.firestore.collection("/SchoolList").valueChanges().subscribe(t=>{this.schools=t})})}getSchools(){return this.schools}setSchools(t){this.schools=t}getTasks(){return this.tasks}setTasks(t){this.tasks=t}getCurrentSchool(){return sessionStorage.getItem("schoolSelected")}setCurrentSchool(t){this.currentSchool=t}getTasksForSchool(t){try{return this.tasks.filter(function(e){if(e.school===t)return e.task})}catch(e){console.log("unable to read of void")}}isChecked(t,e){this.tasks.forEach(n=>{if(n.school===t&&n.task===e)return n.checked})}check(t,e){this.tasks.forEach(n=>{n.school===t&&n.task===e&&this.firestore.collection("TaskList").doc(n.id).update({checked:!0})})}uncheck(t,e){this.tasks.forEach(n=>{n.school===t&&n.task===e&&this.firestore.collection("TaskList").doc(n.id).update({checked:!1})})}deleteGivenTask(t,e){this.tasks.forEach(n=>{n.school===t&&n.task==e&&this.firestore.collection("TaskList").doc(n.id).delete()})}editGivenTask(t,e,n){this.tasks.forEach(r=>{r.school===t&&r.task===e&&this.firestore.collection("TaskList").doc(r.id).update({task:n})})}deleteSchool(t){console.log(this.tasks),this.tasks.forEach(e=>{e.school==t&&this.firestore.collection("TaskList").doc(e.id).delete()}),this.schools.forEach(e=>{e.school==t&&this.firestore.collection("SchoolList").doc(e.id).delete()})}editSchool(t,e){this.tasks.forEach(n=>{n.school==t&&this.firestore.collection("TaskList").doc(n.id).update({school:e})}),this.schools.forEach(n=>{n.school==t&&this.firestore.collection("SchoolList").doc(n.id).update({school:e})}),console.log("tasks",this.tasks),console.log("schools",this.schools)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Av))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Dv=n("XoHu");function jv(...t){if(1===t.length){const e=t[0];if(Object(At.a)(e))return Rv(e,null);if(Object(Dv.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Rv(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Rv(t=1===t.length&&Object(At.a)(t[0])?t[0]:t,null).pipe(Object(Ht.a)(t=>e(...t)))}return Rv(t,null)}function Rv(t,e){return new Rt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const c=Object(Et.a)(t[a]);let u=!1;n.add(c.subscribe({next:t=>{u||(u=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&u||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Pv=new r.r("NgValueAccessor"),Nv={provide:Pv,useExisting:Object(r.V)(()=>Lv),multi:!0};let Lv=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.F),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Yb("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.Ab([Nv])]}),t})();const Vv={provide:Pv,useExisting:Object(r.V)(()=>Fv),multi:!0},Mv=new r.r("CompositionEventMode");let Fv=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=o()?o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.F),r.Lb(r.l),r.Lb(Mv,8))},t.\u0275dir=r.Gb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Yb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.Ab([Vv])]}),t})();function Uv(t){return null==t||0===t.length}function Bv(t){return null!=t&&"number"==typeof t.length}const Hv=new r.r("NgValidators"),zv=new r.r("NgAsyncValidators"),qv=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Qv{static min(t){return e=>{if(Uv(e.value)||Uv(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Uv(e.value)||Uv(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Uv(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Uv(t.value)||qv.test(t.value)?null:{email:!0}}static minLength(t){return e=>Uv(e.value)||!Bv(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>Bv(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return Qv.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Uv(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Yv);return 0==e.length?null:function(t){return Gv($v(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Yv);return 0==e.length?null:function(t){return jv($v(t,e).map(Wv)).pipe(Object(Ht.a)(Gv))}}}function Yv(t){return null!=t}function Wv(t){const e=Object(r.tb)(t)?Object(Et.a)(t):t;return Object(r.sb)(e),e}function Gv(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function $v(t,e){return e.map(e=>e(t))}function Kv(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Zv(t){return null!=t?Qv.compose(Kv(t)):null}function Jv(t){return null!=t?Qv.composeAsync(Kv(t)):null}function Xv(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}let t_=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Zv(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Jv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t}),t})(),e_=(()=>{class t extends t_{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return n_(e||t)},t.\u0275dir=r.Gb({type:t,features:[r.yb]}),t})();const n_=r.Sb(e_);class r_ extends t_{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let i_=(()=>{class t extends class{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r_,2))},t.\u0275dir=r.Gb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Db("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.yb]}),t})();const s_={provide:Pv,useExisting:Object(r.V)(()=>o_),multi:!0};let o_=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.F),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Yb("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.Ab([s_])]}),t})();const a_={provide:Pv,useExisting:Object(r.V)(()=>u_),multi:!0};let c_=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),u_=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(r_),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.F),r.Lb(r.l),r.Lb(c_),r.Lb(r.s))},t.\u0275dir=r.Gb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Yb("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.Ab([a_])]}),t})();const l_={provide:Pv,useExisting:Object(r.V)(()=>h_),multi:!0};let h_=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.F),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Yb("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.Ab([l_])]}),t})();const d_={provide:Pv,useExisting:Object(r.V)(()=>f_),multi:!0};let f_=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.F),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Yb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.Ab([d_])]}),t})();const p_={provide:Pv,useExisting:Object(r.V)(()=>m_),multi:!0};let m_=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.F),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Yb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.Ab([p_])]}),t})();function g_(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function b_(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const y_=[Lv,h_,o_,f_,m_,u_];function v_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const __="VALID",w_="INVALID",C_="PENDING",E_="DISABLED";function S_(t){return(A_(t)?t.validators:t)||null}function k_(t){return Array.isArray(t)?Zv(t):t||null}function O_(t,e){return(A_(e)?e.asyncValidators:t)||null}function x_(t){return Array.isArray(t)?Jv(t):t||null}function A_(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class T_{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=k_(this._rawValidators),this._composedAsyncValidatorFn=x_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===__}get invalid(){return this.status===w_}get pending(){return this.status==C_}get disabled(){return this.status===E_}get enabled(){return this.status!==E_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=k_(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=x_(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=C_,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=E_,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=__,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==__&&this.status!==C_||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?E_:__}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=C_,this._hasOwnPendingAsyncValidator=!0;const e=Wv(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof D_?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof j_&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?E_:this.errors?w_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(C_)?C_:this._anyControlsHaveStatus(w_)?w_:__}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){A_(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class I_ extends T_{constructor(t=null,e,n){super(S_(e),O_(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){v_(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){v_(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class D_ extends T_{constructor(t,e,n){super(S_(e),O_(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof I_?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class j_ extends T_{constructor(t,e,n){super(S_(e),O_(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof I_?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const R_={provide:r_,useExisting:Object(r.V)(()=>L_)},P_=(()=>Promise.resolve(null))();let N_,L_=(()=>{class t extends r_{constructor(t,e,n,i){super(),this.control=new I_,this._registered=!1,this.update=new r.n,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===Fv?n=t:(e=t,y_.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(t,e){return[...e.path,t]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){var t,e;(function(t,e,n){const r=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(Xv(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=function(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(Xv(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);{const n=()=>t.updateValueAndValidity();g_(e._rawValidators,n),g_(e._rawAsyncValidators,n)}})(t=this.control,e=this),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&b_(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&b_(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){P_.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;P_.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(e_,9),r.Lb(Hv,10),r.Lb(zv,10),r.Lb(Pv,10))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.Ab([R_]),r.yb,r.zb]}),t})(),V_=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)}}),t})(),M_=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[c_],imports:[V_]}),t})();try{N_="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(gT){N_=!1}let F_,U_,B_=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?U(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!N_)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.C))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(r.C))},token:t,providedIn:"root"}),t})(),H_=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)}}),t})();function z_(t){return function(){if(null==F_&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>F_=!0}))}finally{F_=F_||!1}return F_}()?t:!!t.capture}function q_(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}class Q_{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new Y_(t,this.dueTime,this.scheduler))}}class Y_ extends Tt.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(W_,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function W_(t){t.debouncedNext()}function G_(t){return null!=t&&""+t!="false"}function $_(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function K_(t){return Array.isArray(t)?t:[t]}function Z_(t){return null==t?"":"string"==typeof t?t:t+"px"}function J_(t){return t instanceof r.l?t.nativeElement:t}let X_=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),tw=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=J_(t);return new Rt.a(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new St.a,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(X_))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(X_))},token:t,providedIn:"root"}),t})(),ew=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new r.n,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=G_(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=$_(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(function(t,e=Ci.a){return n=>n.lift(new Q_(t,e))}(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(tw),r.Lb(r.l),r.Lb(r.A))},t.\u0275dir=r.Gb({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),nw=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[X_]}),t})(),rw=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(gT){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){if(-1===sw(e))return!1;if(!this.isVisible(e))return!1}let r=t.nodeName.toLowerCase(),i=sw(t);return t.hasAttribute("contenteditable")?-1!==i:"iframe"!==r&&"object"!==r&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==i:"video"===r?-1!==i&&(null!==i||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,e){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||iw(t))}(t)&&!this.isDisabled(t)&&((null==e?void 0:e.ignoreVisibility)||this.isVisible(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(B_))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(B_))},token:t,providedIn:"root"}),t})();function iw(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function sw(t){if(!iw(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class ow{constructor(t,e,n,r,i=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,i||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute("cdk-focus-"+t)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]):e[n].hasAttribute("cdk-focus-region-"+t)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),t.focus(),!0):this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(le(1)).subscribe(t)}}let aw=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new ow(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(rw),r.Ub(r.A),r.Ub(a))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(rw),Object(r.Ub)(r.A),Object(r.Ub)(a))},token:t,providedIn:"root"}),t})(),cw=(()=>{class t{constructor(t,e,n){this._elementRef=t,this._focusTrapFactory=e,this._previouslyFocusedElement=null,this._document=n,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(t){this.focusTrap.enabled=G_(t)}get autoCapture(){return this._autoCapture}set autoCapture(t){this._autoCapture=G_(t)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(t){const e=t.autoCapture;e&&!e.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(aw),r.Lb(a))},t.\u0275dir=r.Gb({type:t,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[r.zb]}),t})();"undefined"!=typeof Element&&Element;const uw=new r.r("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),lw=new r.r("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let hw=(()=>{class t{constructor(t,e,n,r){this._ngZone=e,this._defaultOptions=r,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...e){const n=this._defaultOptions;let r,i;return 1===e.length&&"number"==typeof e[0]?i=e[0]:[r,i]=e,this.clear(),clearTimeout(this._previousTimeout),r||(r=n&&n.politeness?n.politeness:"polite"),null==i&&n&&(i=n.duration),this._liveElement.setAttribute("aria-live",r),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof i&&(this._previousTimeout=setTimeout(()=>this.clear(),i))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t="cdk-live-announcer-element",e=this._document.getElementsByClassName(t),n=this._document.createElement("div");for(let r=0;r<e.length;r++)e[r].parentNode.removeChild(e[r]);return n.classList.add(t),n.classList.add("cdk-visually-hidden"),n.setAttribute("aria-atomic","true"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),n}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(uw,8),r.Ub(r.A),r.Ub(a),r.Ub(lw,8))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(uw,8),Object(r.Ub)(r.A),Object(r.Ub)(a),Object(r.Ub)(lw,8))},token:t,providedIn:"root"}),t})(),dw=(()=>{class t{constructor(t,e,n,r){this._elementRef=t,this._liveAnnouncer=e,this._contentObserver=n,this._ngZone=r,this._politeness="polite"}get politeness(){return this._politeness}set politeness(t){this._politeness="off"===t||"assertive"===t?t:"polite","off"===this._politeness?this._subscription&&(this._subscription.unsubscribe(),this._subscription=null):this._subscription||(this._subscription=this._ngZone.runOutsideAngular(()=>this._contentObserver.observe(this._elementRef).subscribe(()=>{const t=this._elementRef.nativeElement.textContent;t!==this._previousAnnouncedText&&(this._liveAnnouncer.announce(t,this._politeness),this._previousAnnouncedText=t)})))}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(hw),r.Lb(tw),r.Lb(r.A))},t.\u0275dir=r.Gb({type:t,selectors:[["","cdkAriaLive",""]],inputs:{politeness:["cdkAriaLive","politeness"]},exportAs:["cdkAriaLive"]}),t})();function fw(t){return 0===t.buttons}const pw=new r.r("cdk-focus-monitor-default-options"),mw=z_({passive:!0,capture:!0});let gw=(()=>{class t{constructor(t,e,n,r){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=fw(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=bw(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=bw(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let r=e;r;r=r.parentElement)n.call(this,t,r)},this._document=n,this._detectionMode=(null==r?void 0:r.detectionMode)||0}monitor(t,e=!1){const n=J_(t);if(!this._platform.isBrowser||1!==n.nodeType)return Object(Ct.a)(null);const r=function(t){if(function(){if(null==U_){const t="undefined"!=typeof document?document.head:null;U_=!(!t||!t.createShadowRoot&&!t.attachShadow)}return U_}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return e&&(i.checkChildren=!0),i.subject;const s={checkChildren:e,subject:new St.a,rootNode:r};return this._elementInfo.set(n,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(t){const e=J_(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const r=J_(t);r===this._getDocument().activeElement&&this._elementInfo.has(r)?this._originChanged(r,e,this._elementInfo.get(r)):(this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n))}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=bw(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);n&&(n.checkChildren||e===bw(t))&&this._originChanged(e,this._getFocusOrigin(t),n)}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,mw),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,mw)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,mw),t.addEventListener("mousedown",this._documentMousedownListener,mw),t.addEventListener("touchstart",this._documentTouchstartListener,mw),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,mw),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,mw),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,mw),t.removeEventListener("mousedown",this._documentMousedownListener,mw),t.removeEventListener("touchstart",this._documentTouchstartListener,mw),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}_originChanged(t,e,n){this._setClasses(t,e),this._emitOrigin(n.subject,e),this._lastFocusOrigin=e}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.A),r.Ub(B_),r.Ub(a,8),r.Ub(pw,8))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(r.A),Object(r.Ub)(B_),Object(r.Ub)(a,8),Object(r.Ub)(pw,8))},token:t,providedIn:"root"}),t})();function bw(t){return t.composedPath?t.composedPath()[0]:t.target}let yw=(()=>{class t{constructor(t,e){this._elementRef=t,this._focusMonitor=e,this.cdkFocusChange=new r.n}ngAfterViewInit(){const t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,1===t.nodeType&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(t=>this.cdkFocusChange.emit(t))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(gw))},t.\u0275dir=r.Gb({type:t,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),t})();const vw="cdk-high-contrast-black-on-white",_w="cdk-high-contrast-white-on-black",ww="cdk-high-contrast-active";let Cw=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(ww),t.remove(vw),t.remove(_w);const e=this.getHighContrastMode();1===e?(t.add(ww),t.add(vw)):2===e&&(t.add(ww),t.add(_w))}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(B_),r.Ub(a))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(B_),Object(r.Ub)(a))},token:t,providedIn:"root"}),t})(),Ew=(()=>{class t{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)(r.Ub(Cw))},imports:[[H_,nw]]}),t})();var Sw=n("n6bG");function kw(t,e,n,r){return Object(Sw.a)(n)&&(r=n,n=void 0),r?kw(t,e,n).pipe(Object(Ht.a)(t=>Object(At.a)(t)?r(...t):r(t))):new Rt.a(r=>{Ow(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function Ow(t,e,n,r,i){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),s=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),s=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),s=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,o=t.length;s<o;s++)Ow(t[s],e,n,r,i)}r.add(s)}n("3N8a"),n("IjjT"),n("7Hc7");class xw{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new Aw(t,this.durationSelector))}}class Aw extends oe.b{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=Object(oe.c)(n,new oe.a(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var Tw=n("Y7HM");function Iw(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function Dw(t,e=Ci.a){return n=()=>function(t=0,e,n){let r=-1;return Object(Tw.a)(e)?r=Number(e)<1?1:Number(e):Object(xt.a)(e)&&(n=e),Object(xt.a)(n)||(n=Ci.a),new Rt.a(e=>{const i=Object(Tw.a)(t)?t:+t-n.now();return n.schedule(Iw,i,{index:0,period:r,subscriber:e})})}(t,e),function(t){return t.lift(new xw(n))};var n}class jw{constructor(t){this.notifier=t}call(t,e){const n=new Rw(t),r=Object(oe.c)(this.notifier,new oe.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class Rw extends oe.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}const Pw=new r.r("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.W)(a)}});let Nw=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new r.n,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Pw,8))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(Pw,8))},token:t,providedIn:"root"}),t})(),Lw=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)}}),t})(),Vw=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new St.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Rt.a(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(Dw(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(Ct.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Qt(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,e){let n=e.nativeElement,r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>kw(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.A),r.Ub(B_),r.Ub(a,8))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(r.A),Object(r.Ub)(B_),Object(r.Ub)(a,8))},token:t,providedIn:"root"}),t})(),Mw=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new St.a,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Dw(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(B_),r.Ub(r.A),r.Ub(a,8))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(B_),Object(r.Ub)(r.A),Object(r.Ub)(a,8))},token:t,providedIn:"root"}),t})(),Fw=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)}}),t})(),Uw=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[Lw,H_,Fw],Lw,Fw]}),t})();class Bw{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Hw extends Bw{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class zw extends Bw{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class qw extends Bw{constructor(t){super(),this.element=t instanceof r.l?t.nativeElement:t}}class Qw{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Hw?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof zw?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof qw?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Yw extends Qw{constructor(t,e,n,r,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Ww=(()=>{class t extends Qw{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new r.n,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.j),r.Lb(r.R),r.Lb(a))},t.\u0275dir=r.Gb({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[r.yb]}),t})(),Gw=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)}}),t})();class $w{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Z_(-this._previousScrollPosition.left),t.style.top=Z_(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=r,n.scrollBehavior=i}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class Kw{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Zw{enable(){}disable(){}attach(){}}function Jw(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function Xw(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class tC{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();Jw(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let eC=(()=>{class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new Zw,this.close=t=>new Kw(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new $w(this._viewportRuler,this._document),this.reposition=t=>new tC(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=r}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Vw),r.Ub(Mw),r.Ub(r.A),r.Ub(a))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(Vw),Object(r.Ub)(Mw),Object(r.Ub)(r.A),Object(r.Ub)(a))},token:t,providedIn:"root"}),t})();class nC{constructor(t){if(this.scrollStrategy=new Zw,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class rC{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class iC{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let sC=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(a))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(a))},token:t,providedIn:"root"}),t})(),oC=(()=>{class t extends sC{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(a))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(a))},token:t,providedIn:"root"}),t})(),aC=(()=>{class t extends sC{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._clickListener=t=>{const e=t.composedPath?t.composedPath()[0]:t.target,n=this._attachedOverlays.slice();for(let r=n.length-1;r>-1;r--){const i=n[r];if(!(i._outsidePointerEvents.observers.length<1)&&i.hasAttached()){if(i.overlayElement.contains(e))break;i._outsidePointerEvents.next(t)}}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._document.body.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._document.body.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(a),r.Ub(B_))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(a),Object(r.Ub)(B_))},token:t,providedIn:"root"}),t})();const cC=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let uC=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||cC){const e=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])}const e=this._document.createElement("div");e.classList.add(t),cC?e.setAttribute("platform","test"):this._platform.isBrowser||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(a),r.Ub(B_))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(a),Object(r.Ub)(B_))},token:t,providedIn:"root"}),t})();class lC{constructor(t,e,n,r,i,s,o,a,c){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=s,this._document=o,this._location=a,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new St.a,this._attachments=new St.a,this._detachments=new St.a,this._locationChanges=ke.a.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new St.a,this._outsidePointerEvents=new St.a,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(le(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Z_(this._config.width),t.height=Z_(this._config.height),t.minWidth=Z_(this._config.minWidth),t.minHeight=Z_(this._config.minHeight),t.maxWidth=Z_(this._config.maxWidth),t.maxHeight=Z_(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const r=t.classList;K_(e).forEach(t=>{t&&(n?r.add(t):r.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe((e=Object(Xy.a)(this._attachments,this._detachments),t=>t.lift(new jw(e)))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())});var e})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const hC="cdk-overlay-connected-position-bounding-box",dC=/([A-Za-z%]+)$/;class fC{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new St.a,this._resizeSubscription=ke.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(hC),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),a=this._getOverlayPoint(o,e,s),c=this._getOverlayFit(a,e,n,s);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(c,a,n)?r.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!i||i.overlayFit.visibleArea<c.visibleArea)&&(i={overlayFit:c,overlayPoint:a,originPoint:o,position:s,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&pC(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(hC),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:r}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}_getOverlayFit(t,e,n,r){let{x:i,y:s}=t,o=this._getOffset(r,"x"),a=this._getOffset(r,"y");o&&(i+=o),a&&(s+=a);let c=0-s,u=s+e.height-n.height,l=this._subtractOverflows(e.width,0-i,i+e.width-n.width),h=this._subtractOverflows(e.height,c,u),d=l*h;return{visibleArea:d,isCompletelyWithinViewport:e.width*e.height===d,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:l==e.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,s=mC(this._overlayRef.getConfig().minHeight),o=mC(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=o&&o<=i;return(t.fitsInViewportVertically||null!=s&&s<=r)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=this._viewportRect,i=Math.max(t.x+e.width-r.width,0),s=Math.max(t.y+e.height-r.height,0),o=Math.max(r.top-n.top-t.y,0),a=Math.max(r.left-n.left-t.x,0);let c=0,u=0;return c=e.width<=r.width?a||-i:t.x<this._viewportMargin?r.left-n.left-t.x:0,u=e.height<=r.height?o||-s:t.y<this._viewportMargin?r.top-n.top-t.y:0,this._previousPushAmount={x:c,y:u},{x:t.x+c,y:t.y+u}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new iC(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,s,o,a,c,u;if("top"===e.overlayY)s=t.y,i=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)o=n.height-t.y+2*this._viewportMargin,i=n.height-o+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;i=2*e,s=t.y-e,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)u=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)c=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;a=2*e,c=t.x-e,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.x-r/2)}return{top:s,left:c,bottom:o,right:u,width:a,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=Z_(n.height),r.top=Z_(n.top),r.bottom=Z_(n.bottom),r.width=Z_(n.width),r.left=Z_(n.left),r.right=Z_(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=Z_(t)),i&&(r.maxWidth=Z_(i))}this._lastBoundingBoxSize=n,pC(this._boundingBox.style,r)}_resetBoundingBoxStyles(){pC(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){pC(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();pC(n,this._getExactOverlayY(e,t,r)),pC(n,this._getExactOverlayX(e,t,r))}else n.position="static";let o="",a=this._getOffset(e,"x"),c=this._getOffset(e,"y");a&&(o+=`translateX(${a}px) `),c&&(o+=`translateY(${c}px)`),n.transform=o.trim(),s.maxHeight&&(r?n.maxHeight=Z_(s.maxHeight):i&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=Z_(s.maxWidth):i&&(n.maxWidth="")),pC(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=s,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=Z_(i.y),r}_getExactOverlayX(t,e,n){let r,i={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),r=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===r?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=Z_(s.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Xw(t,n),isOriginOutsideView:Jw(t,n),isOverlayClipped:Xw(e,n),isOverlayOutsideView:Jw(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&K_(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof r.l)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function pC(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function mC(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(dC);return n&&"px"!==n?null:parseFloat(e)}return t||null}class gC{constructor(t,e,n,r,i,s,o){this._preferredPositions=[],this._positionStrategy=new fC(n,r,i,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new rC(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const bC="cdk-global-overlay-wrapper";class yC{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(bC),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:s,maxHeight:o}=n,a=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==i&&"100vh"!==i||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(bC),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let vC=(()=>{class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new yC}connectedTo(t,e,n){return new gC(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new fC(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Mw),r.Ub(a),r.Ub(B_),r.Ub(uC))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(Mw),Object(r.Ub)(a),Object(r.Ub)(B_),Object(r.Ub)(uC))},token:t,providedIn:"root"}),t})(),_C=0,wC=(()=>{class t{constructor(t,e,n,r,i,s,o,a,c,u,l){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=s,this._ngZone=o,this._document=a,this._directionality=c,this._location=u,this._outsideClickDispatcher=l}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new nC(t);return i.direction=i.direction||this._directionality.value,new lC(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+_C++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(r.g)),new Yw(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(eC),r.Ub(uC),r.Ub(r.j),r.Ub(vC),r.Ub(oC),r.Ub(r.s),r.Ub(r.A),r.Ub(a),r.Ub(Nw),r.Ub(C),r.Ub(aC))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const CC={provide:new r.r("cdk-connected-overlay-scroll-strategy"),deps:[wC],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let EC=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[wC,CC],imports:[[Lw,Gw,Uw],Uw]}),t})();const SC=new r.Q("11.0.1");class kC{}const OC="*";function xC(t,e){return{type:7,name:t,definitions:e,options:{}}}function AC(t,e=null){return{type:4,styles:e,timings:t}}function TC(t,e=null){return{type:2,steps:t,options:e}}function IC(t){return{type:6,styles:t,offset:null}}function DC(t,e,n){return{type:0,name:t,styles:e,options:n}}function jC(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function RC(t){Promise.resolve(null).then(t)}class PC{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){RC(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class NC{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?RC(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function LC(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function VC(t){switch(t.length){case 0:return new PC;case 1:return t[0];default:return new NC(t)}}function MC(t,e,n,r,i={},s={}){const o=[],a=[];let c=-1,u=null;if(r.forEach(t=>{const n=t.offset,r=n==c,l=r&&u||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case OC:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),u=l,c=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function FC(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&UC(n,"start",t)));break;case"done":t.onDone(()=>r(n&&UC(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&UC(n,"destroy",t)))}}function UC(t,e,n){const r=n.totalTime,i=BC(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function BC(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function HC(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function zC(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let qC=(t,e)=>!1,QC=(t,e)=>!1,YC=(t,e,n)=>[];const WC=LC();(WC||"undefined"!=typeof Element)&&(qC=(t,e)=>t.contains(e),QC=(()=>{if(WC||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):QC}})(),YC=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let GC=null,$C=!1;function KC(t){GC||(GC=("undefined"!=typeof document?document.body:null)||{},$C=!!GC.style&&"WebkitAppearance"in GC.style);let e=!0;return GC.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in GC.style,!e&&$C)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in GC.style),e}const ZC=QC,JC=qC,XC=YC;function tE(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let eE=(()=>{class t{validateStyleProperty(t){return KC(t)}matchesElement(t,e){return ZC(t,e)}containsElement(t,e){return JC(t,e)}query(t,e,n){return XC(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new PC(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),nE=(()=>{class t{}return t.NOOP=new eE,t})();const rE="ng-enter",iE="ng-leave",sE="ng-trigger",oE=".ng-trigger",aE="ng-animating",cE=".ng-animating";function uE(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:lE(parseFloat(e[1]),e[2])}function lE(t,e){switch(e){case"s":return 1e3*t;default:return t}}function hE(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=lE(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=lE(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function dE(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function fE(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else dE(t,n);return n}function pE(t,e,n){return n?e+":"+n+";":""}function mE(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=pE(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=pE(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function gE(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=SE(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),LC()&&mE(t))}function bE(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=SE(e);t.style[n]=""}),LC()&&mE(t))}function yE(t){return Array.isArray(t)?1==t.length?t[0]:TC(t):t}const vE=new RegExp("{{\\s*(.+?)\\s*}}","g");function _E(t){let e=[];if("string"==typeof t){let n;for(;n=vE.exec(t);)e.push(n[1]);vE.lastIndex=0}return e}function wE(t,e,n){const r=t.toString(),i=r.replace(vE,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function CE(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const EE=/-+([a-z0-9])/g;function SE(t){return t.replace(EE,(...t)=>t[1].toUpperCase())}function kE(t,e){return 0===t||0===e}function OE(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=AE(t,e)})}}return e}function xE(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function AE(t,e){return window.getComputedStyle(t)[e]}const TE="*";function IE(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(RE(i,o)),"<"!=s[0]||i==TE&&o==TE||e.push(RE(o,i))}(t,n,e)):n.push(t),n}const DE=new Set(["true","1"]),jE=new Set(["false","0"]);function RE(t,e){const n=DE.has(t)||jE.has(t),r=DE.has(e)||jE.has(e);return(i,s)=>{let o=t==TE||t==i,a=e==TE||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?DE.has(t):jE.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?DE.has(e):jE.has(e)),o&&a}}const PE=new RegExp("s*:selfs*,?","g");function NE(t,e,n){return new LE(t).build(e,n)}class LE{constructor(t){this._driver=t}build(t,e){const n=new VE(e);return this._resetContextStyleTimingState(n),xE(this,yE(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(ME(t)){const e=t;Object.keys(e).forEach(t=>{_E(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=CE(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=xE(this,yE(t.animation),e);return{type:1,matchers:IE(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:FE(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>xE(this,t,e)),options:FE(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=xE(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:FE(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return UE(hE(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=UE(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||hE(r,e),UE(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:IC({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=IC(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==OC?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(ME(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=_E(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const c=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let c=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(ME(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(ME(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),u=0;return null!=c&&(r++,u=n.offset=c),o=o||u<0||u>1,s=s||u<a,a=u,i.push(u),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const u=t.steps.length;let l=0;r>0&&r<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(u-1));const h=u-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return c.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:xE(this,yE(t.animation),e),options:FE(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:FE(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:FE(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(PE,"")),[t=t.replace(/@\*/g,oE).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,cE),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,HC(e.collectedStyles,e.currentQuerySelector,{});const o=xE(this,yE(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:FE(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:hE(t.timings,e.errors,!0);return{type:12,animation:xE(this,yE(t.animation),e),timings:n,options:null}}}class VE{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function ME(t){return!Array.isArray(t)&&"object"==typeof t}function FE(t){var e;return t?(t=dE(t)).params&&(t.params=(e=t.params)?dE(e):null):t={},t}function UE(t,e,n){return{duration:t,delay:e,easing:n}}function BE(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class HE{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const zE=new RegExp(":enter","g"),qE=new RegExp(":leave","g");function QE(t,e,n,r,i,s={},o={},a,c,u=[]){return(new YE).buildKeyframes(t,e,n,r,i,s,o,a,c,u)}class YE{buildKeyframes(t,e,n,r,i,s,o,a,c,u=[]){c=c||new HE;const l=new GE(t,e,c,r,i,u,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),xE(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[BE(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?uE(n.duration):null,s=null!=n.delay?uE(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),xE(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=WE);const t=uE(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>xE(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?uE(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),xE(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return hE(e.params?wE(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?uE(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=WE);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),xE(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const c=e.currentTimeline;a&&c.delayNextStep(a);const u=c.currentTime;xE(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-u+(r.startTime-n.currentTimeline.startTime)}}const WE={};class GE{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=WE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new $E(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=uE(n.duration)),null!=n.delay&&(r.delay=uE(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=wE(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new GE(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=WE,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new KE(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(zE,"."+this._enterClassName)).replace(qE,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class $E{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new $E(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||OC,this._currentKeyframe[t]=OC}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=OC})):fE(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=wE(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:OC),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=fE(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==OC&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?CE(t.values()):[],s=e.size?CE(e.values()):[];if(n){const t=r[0],e=dE(t);t.offset=0,e.offset=1,r=[t,e]}return BE(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class KE extends $E{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=fE(t[0],!1);a.offset=0,i.push(a);const c=fE(t[0],!1);c.offset=ZE(o),i.push(c);const u=t.length-1;for(let r=1;r<=u;r++){let o=fE(t[r],!1);o.offset=ZE((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return BE(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function ZE(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class JE{}class XE extends JE{normalizePropertyName(t,e){return SE(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(tS[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const tS=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function eS(t,e,n,r,i,s,o,a,c,u,l,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:l,totalTime:h,errors:d}}const nS={};class rS{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,c,u){const l=[],h=this.ast.options&&this.ast.options.params||nS,d=this.buildStyles(n,o&&o.params||nS,l),f=a&&a.params||nS,p=this.buildStyles(r,f,l),m=new Set,g=new Map,b=new Map,y="void"===r,v={params:Object.assign(Object.assign({},h),f)},_=u?[]:QE(t,e,this.ast.animation,i,s,d,p,v,c,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return eS(e,this._triggerName,n,r,y,d,p,[],[],g,b,w,l);_.forEach(t=>{const n=t.element,r=HC(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=HC(b,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const C=CE(m.values());return eS(e,this._triggerName,n,r,y,d,p,_,C,g,b,w)}}class iS{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=dE(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=wE(s,r,e)),n[t]=s})}}),n}}class sS{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new iS(t.style,t.options&&t.options.params||{})}),oS(this.states,"true","1"),oS(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new rS(t,e,this.states))}),this.fallbackTransition=new rS(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function oS(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const aS=new HE;class cS{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=NE(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=MC(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=QE(this._driver,e,i,rE,iE,{},{},n,aS,r),s.forEach(t=>{const e=HC(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,OC)})});const a=VC(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,r){const i=BC(e,"","","");return FC(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const uS="ng-animate-queued",lS="ng-animate-disabled",hS=".ng-animate-disabled",dS=[],fS={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},pS={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class mS{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=dE(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const gS="void",bS=new mS(gS);class yS{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,kS(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=HC(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=HC(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(kS(t,sE),kS(t,"ng-trigger-"+e),a[e]=bS),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new _S(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(kS(t,sE),kS(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const c=new mS(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),o[e]=c,a||(a=bS),c.value!==gS&&a.value===c.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,c.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(c.value,c.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{bE(t,n),gE(t,r)})}return}const u=HC(this._engine.playersByElement,t,[]);u.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,c.value,t,c.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:c,player:s,isFallbackTransition:h}),h||(kS(t,uS),s.onStart(()=>{OS(t,uS)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),u.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,oE,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,gS,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&VC(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(t)[r]||bS,o=new mS(gS),a=new _S(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==fS||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){kS(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=BC(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,FC(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class vS{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new yS(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(wS(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!wS(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),kS(t,lS)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),OS(t,lS))}removeNode(t,e,n,r){if(wS(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return wS(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,oE,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,cE,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return VC(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=fS,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,hS)&&this.markElementAsDisabled(t,!1),this.driver.query(t,hS,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)kS(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?VC(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new HE,r=[],i=new Map,s=[],o=new Map,a=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(t=>{u.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)u.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=SS(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n=rE+p++;f.set(e,n),t.forEach(t=>kS(t,n))});const m=[],g=new Set,b=new Set;for(let I=0;I<this.collectedLeaveElements.length;I++){const t=this.collectedLeaveElements[I],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):b.add(t))}const y=new Map,v=SS(h,Array.from(g));v.forEach((t,e)=>{const n=iE+p++;y.set(e,n),t.forEach(t=>kS(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>OS(t,n))}),v.forEach((t,e)=>{const n=y.get(e);t.forEach(t=>OS(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let I=this._namespaceList.length-1;I>=0;I--)this._namespaceList[I].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const u=!l||!this.driver.containsElement(l,i),h=y.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,u);if(p.errors&&p.errors.length)w.push(p);else{if(u)return e.onStart(()=>bE(i,p.fromStyles)),e.onDestroy(()=>gE(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>bE(i,p.fromStyles)),e.onDestroy(()=>gE(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>HC(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=c.get(e);r||c.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const C=new Map,E=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(E.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,C))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{HC(C,e,[]).push(t),t.destroy()})});const S=m.filter(t=>TS(t,a,c)),k=new Map;ES(k,this.driver,b,c,OC).forEach(t=>{TS(t,a,c)&&S.push(t)});const O=new Map;d.forEach((t,e)=>{ES(O,this.driver,new Set(t),a,"!")}),S.forEach(t=>{const e=k.get(t),n=O.get(t);k.set(t,Object.assign(Object.assign({},e),n))});const x=[],A=[],T={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(u.has(e))return s.onDestroy(()=>gE(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=T;if(E.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=E.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>E.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,C,i,O,k);if(s.setRealPlayer(n),t===T)x.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=VC(e)),r.push(s)}}else bE(e,o.fromStyles),s.onDestroy(()=>gE(e,o.toStyles)),A.push(s),u.has(e)&&r.push(s)}),A.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=VC(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let I=0;I<m.length;I++){const t=m[I],e=t.__ng_removed;if(OS(t,iE),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,cE,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?xS(this,t,r):this.processLeaveNode(t)}return m.length=0,x.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),x}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==gS;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,c=HC(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)})}bE(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,c=[],u=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;u.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new PC(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return AS(t,e),e}((n.get(h)||dS).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=s.get(h),b=MC(0,this._normalizer,0,e.keyframes,m,g),y=this._buildPlayer(e,b,p);if(e.subTimeline&&r&&l.add(h),f){const e=new _S(t,o,h);e.setRealPlayer(y),c.push(e)}return y});c.forEach(t=>{HC(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),u.forEach(t=>kS(t,aE));const d=VC(h);return d.onDestroy(()=>{u.forEach(t=>OS(t,aE)),gE(a,e.toStyles)}),l.forEach(t=>{HC(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new PC(t.duration,t.delay)}}class _S{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new PC,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>FC(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){HC(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function wS(t){return t&&1===t.nodeType}function CS(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function ES(t,e,n,r,i){const s=[];n.forEach(t=>s.push(CS(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=pS,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>CS(t,s[a++])),o}function SS(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function kS(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function OS(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function xS(t,e,n){VC(n).onDone(()=>t.processLeaveNode(e))}function AS(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof NC?AS(r.players,e):e.push(r)}}function TS(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class IS{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new vS(t,e,n),this._timelineEngine=new cS(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=NE(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new sS(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=zC(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=zC(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function DS(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=RS(e[0]),e.length>1&&(r=RS(e[e.length-1]))):e&&(n=RS(e)),n||r?new jS(t,n,r):null}let jS=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&gE(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(gE(this._element,this._initialStyles),this._endStyles&&(gE(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(bE(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(bE(this._element,this._endStyles),this._endStyles=null),gE(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function RS(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];PS(i)&&(e=e||{},e[i]=t[i])}return e}function PS(t){return"display"===t||"position"===t}const NS="animation",LS="animationend";class VS{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=zS(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),HS(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),BS(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){MS(this._element,this._name,"paused")}resume(){MS(this._element,this._name,"running")}setPosition(t){const e=FS(this._element,this._name);this._position=t*this._duration,HS(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),BS(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=zS(t,"").split(","),r=US(n,e);r>=0&&(n.splice(r,1),HS(t,"",n.join(",")))}(this._element,this._name))}}function MS(t,e,n){HS(t,"PlayState",n,FS(t,e))}function FS(t,e){const n=zS(t,"");return n.indexOf(",")>0?US(n.split(","),e):US([n],e)}function US(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function BS(t,e,n){n?t.removeEventListener(LS,e):t.addEventListener(LS,e)}function HS(t,e,n,r){const i=NS+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function zS(t,e){return t.style[NS+e]||""}class qS{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new VS(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:AE(this.element,n))})}this.currentSnapshot=t}}class QS extends PC{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=tE(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class YS{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return KC(t)}matchesElement(t,e){return ZC(t,e)}containsElement(t,e){return JC(t,e)}query(t,e,n){return XC(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>tE(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(t=>t instanceof qS),c={};kE(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const u=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=OE(t,e,c));if(0==n)return new QS(t,u);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const d=DS(t,e),f=new qS(t,e,l,n,r,i,u,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit https://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class WS{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:AE(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class GS{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test($S().toString()),this._cssKeyframesDriver=new YS}validateStyleProperty(t){return KC(t)}matchesElement(t,e){return ZC(t,e)}containsElement(t,e){return JC(t,e)}query(t,e,n){return XC(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const c={},u=s.filter(t=>t instanceof WS);kE(n,r)&&u.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const l=DS(t,e=OE(t,e=e.map(t=>fE(t,!1)),c));return new WS(t,e,a,l)}}function $S(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let KS=(()=>{class t extends kC{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.S.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?TC(t):t;return XS(this._renderer,null,e,"register",[n]),new ZS(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.G),r.Ub(a))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class ZS extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new JS(this._id,t,e||{},this._renderer)}}class JS{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return XS(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function XS(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const tk="@",ek="@.disabled";let nk=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new rk("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new ik(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.G),r.Ub(IS),r.Ub(r.A))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class rk{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==tk&&e==ek?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class ik extends rk{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==tk?"."==e.charAt(1)&&e==ek?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==tk){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=tk&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let sk=(()=>{class t extends IS{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(a),r.Ub(nE),r.Ub(JE))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const ok=new r.r("AnimationModuleType"),ak=[{provide:nE,useFactory:function(){return"function"==typeof $S()?new GS:new YS}},{provide:ok,useValue:"BrowserAnimations"},{provide:kC,useClass:KS},{provide:JE,useFactory:function(){return new XE}},{provide:IS,useClass:sk},{provide:r.G,useFactory:function(t,e,n){return new nk(t,e,n)},deps:[ot,IS,r.A]}];let ck=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:ak,imports:[wt]}),t})();const uk=new r.Q("11.0.1"),lk=new r.r("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let hk=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return Object(r.X)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&uk.full!==SC.full&&console.warn("The Angular Material version ("+uk.full+") does not match the Angular CDK version ("+SC.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)(r.Ub(Cw),r.Ub(lk,8),r.Ub(a))},imports:[[Lw],Lw]}),t})();function dk(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=G_(t)}}}function fk(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),e&&this._elementRef.nativeElement.classList.add("mat-"+e),this._color=e)}}}function pk(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=G_(t)}}}function mk(t,e=0){return class extends t{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?$_(t):this.defaultTabIndex}}}const gk=new r.r("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return Object(r.W)(r.v)}});class bk{constructor(){this._localeChanges=new St.a,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let n=this.isValid(t),r=this.isValid(e);return n&&r?!this.compareDate(t,e):n==r}return t==e}clampDate(t,e,n){return e&&this.compareDate(t,e)<0?e:n&&this.compareDate(t,n)>0?n:t}}const yk=new r.r("mat-date-formats");let vk;try{vk="undefined"!=typeof Intl}catch(gT){vk=!1}const _k={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},wk=Sk(31,t=>String(t+1)),Ck={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},Ek=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Sk(t,e){const n=Array(t);for(let r=0;r<t;r++)n[r]=e(r);return n}let kk=(()=>{class t extends bk{constructor(t,e){super(),this.useUtcForDisplay=!0,super.setLocale(t),this.useUtcForDisplay=!e.TRIDENT,this._clampDate=e.TRIDENT||e.EDGE}getYear(t){return t.getFullYear()}getMonth(t){return t.getMonth()}getDate(t){return t.getDate()}getDayOfWeek(t){return t.getDay()}getMonthNames(t){if(vk){const e=new Intl.DateTimeFormat(this.locale,{month:t,timeZone:"utc"});return Sk(12,t=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,t,1))))}return _k[t]}getDateNames(){if(vk){const t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Sk(31,e=>this._stripDirectionalityCharacters(this._format(t,new Date(2017,0,e+1))))}return wk}getDayOfWeekNames(t){if(vk){const e=new Intl.DateTimeFormat(this.locale,{weekday:t,timeZone:"utc"});return Sk(7,t=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,0,t+1))))}return Ck[t]}getYearName(t){if(vk){const e=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(e,t))}return String(this.getYear(t))}getFirstDayOfWeek(){return 0}getNumDaysInMonth(t){return this.getDate(this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+1,0))}clone(t){return new Date(t.getTime())}createDate(t,e,n){let r=this._createDateWithOverflow(t,e,n);return r.getMonth(),r}today(){return new Date}parse(t){return"number"==typeof t?new Date(t):t?new Date(Date.parse(t)):null}format(t,e){if(!this.isValid(t))throw Error("NativeDateAdapter: Cannot format invalid date.");if(vk){this._clampDate&&(t.getFullYear()<1||t.getFullYear()>9999)&&(t=this.clone(t)).setFullYear(Math.max(1,Math.min(9999,t.getFullYear()))),e=Object.assign(Object.assign({},e),{timeZone:"utc"});const n=new Intl.DateTimeFormat(this.locale,e);return this._stripDirectionalityCharacters(this._format(n,t))}return this._stripDirectionalityCharacters(t.toDateString())}addCalendarYears(t,e){return this.addCalendarMonths(t,12*e)}addCalendarMonths(t,e){let n=this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+e,this.getDate(t));return this.getMonth(n)!=((this.getMonth(t)+e)%12+12)%12&&(n=this._createDateWithOverflow(this.getYear(n),this.getMonth(n),0)),n}addCalendarDays(t,e){return this._createDateWithOverflow(this.getYear(t),this.getMonth(t),this.getDate(t)+e)}toIso8601(t){return[t.getUTCFullYear(),this._2digit(t.getUTCMonth()+1),this._2digit(t.getUTCDate())].join("-")}deserialize(t){if("string"==typeof t){if(!t)return null;if(Ek.test(t)){let e=new Date(t);if(this.isValid(e))return e}}return super.deserialize(t)}isDateInstance(t){return t instanceof Date}isValid(t){return!isNaN(t.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(t,e,n){const r=new Date;return r.setFullYear(t,e,n),r.setHours(0,0,0,0),r}_2digit(t){return("00"+t).slice(-2)}_stripDirectionalityCharacters(t){return t.replace(/[\u200e\u200f]/g,"")}_format(t,e){const n=new Date;return n.setUTCFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setUTCHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t.format(n)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(gk,8),r.Ub(B_))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),Ok=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[{provide:bk,useClass:kk}],imports:[[H_]]}),t})();const xk={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let Ak=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[{provide:yk,useValue:xk}],imports:[[Ok]]}),t})();class Tk{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Ik={enterDuration:450,exitDuration:400},Dk=z_({passive:!0}),jk=["mousedown","touchstart"],Rk=["mouseup","mouseleave","touchend","touchcancel"];class Pk{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=J_(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},Ik),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),o=t-r.left,a=e-r.top,c=i.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=o-s+"px",u.style.top=a-s+"px",u.style.height=2*s+"px",u.style.width=2*s+"px",null!=n.color&&(u.style.backgroundColor=n.color),u.style.transitionDuration=c+"ms",this._containerElement.appendChild(u),window.getComputedStyle(u).getPropertyValue("opacity"),u.style.transform="scale(1)";const l=new Tk(this,u,n);return l.state=0,this._activeRipples.add(l),n.persistent||(this._mostRecentTransientRipple=l),this._runTimeoutOutsideZone(()=>{const t=l===this._mostRecentTransientRipple;l.state=1,n.persistent||t&&this._isPointerDown||l.fadeOut()},c),l}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign(Object.assign({},Ik),t.config.animation);n.style.transitionDuration=r.exitDuration+"ms",n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=J_(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(jk))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Rk),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=fw(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,Dk)})})}_removeTriggerEvents(){this._triggerElement&&(jk.forEach(t=>{this._triggerElement.removeEventListener(t,this,Dk)}),this._pointerUpEventsRegistered&&Rk.forEach(t=>{this._triggerElement.removeEventListener(t,this,Dk)}))}}const Nk=new r.r("mat-ripple-global-options");let Lk=(()=>{class t{constructor(t,e,n,r,i){this._elementRef=t,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new Pk(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(r.A),r.Lb(B_),r.Lb(Nk,8),r.Lb(ok,8))},t.\u0275dir=r.Gb({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&r.Db("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),Vk=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[hk,H_],hk]}),t})();const Mk=["mat-button",""],Fk=["*"],Uk=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class Bk{constructor(t){this._elementRef=t}}const Hk=fk(dk(pk(Bk)));let zk=(()=>{class t extends Hk{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of Uk)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",e){this._focusMonitor.focusVia(this._getHostElement(),t,e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(gw),r.Lb(ok,8))},t.\u0275cmp=r.Fb({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){if(1&t&&r.wc(Lk,!0),2&t){let t;r.ic(t=r.Zb())&&(e.ripple=t.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(r.Cb("disabled",e.disabled||null),r.Db("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[r.yb],attrs:Mk,ngContentSelectors:Fk,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(r.ec(),r.Qb(0,"span",0),r.dc(1),r.Pb(),r.Mb(2,"span",1),r.Mb(3,"span",2)),2&t&&(r.Bb(2),r.Db("mat-button-ripple-round",e.isRoundButton||e.isIconButton),r.fc("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[Lk],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),t})(),qk=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[Vk,hk],hk]}),t})();function Qk(t,e){}class Yk{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const Wk={dialogContainer:xC("dialogContainer",[DC("void, exit",IC({opacity:0,transform:"scale(0.7)"})),DC("enter",IC({transform:"none"})),jC("* => enter",AC("150ms cubic-bezier(0, 0, 0.2, 1)",IC({transform:"none",opacity:1}))),jC("* => void, * => exit",AC("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",IC({opacity:0})))])};let Gk=(()=>{class t extends Qw{constructor(t,e,n,i,s,o){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=n,this._config=s,this._focusMonitor=o,this._animationStateChanged=new r.n,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=t=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(t)),this._ariaLabelledBy=s.ariaLabelledBy||null,this._document=i}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const e=this._document.activeElement,n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement)}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,e=this._document.activeElement;return t===e||t.contains(e)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(aw),r.Lb(r.h),r.Lb(a,8),r.Lb(Yk),r.Lb(gw))},t.\u0275dir=r.Gb({type:t,viewQuery:function(t,e){if(1&t&&r.oc(Ww,!0),2&t){let t;r.ic(t=r.Zb())&&(e._portalOutlet=t.first)}},features:[r.yb]}),t})(),$k=(()=>{class t extends Gk{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:e}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:e}))}_onAnimationStart({toState:t,totalTime:e}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:e}):"exit"!==t&&"void"!==t||this._animationStateChanged.next({state:"closing",totalTime:e})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return Kk(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&r.qc("@dialogContainer.start",function(t){return e._onAnimationStart(t)})("@dialogContainer.done",function(t){return e._onAnimationDone(t)}),2&t&&(r.Tb("id",e._id),r.Cb("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),r.rc("@dialogContainer",e._state))},features:[r.yb],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&r.sc(0,Qk,0,0,"ng-template",0)},directives:[Ww],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Wk.dialogContainer]}}),t})();const Kk=r.Sb($k);let Zk=0;class Jk{constructor(t,e,n="mat-dialog-"+Zk++){this._overlayRef=t,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new St.a,this._afterClosed=new St.a,this._beforeClosed=new St.a,this._state=0,e._id=n,e._animationStateChanged.pipe(Qt(t=>"opened"===t.state),le(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Qt(t=>"closed"===t.state),le(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(Qt(t=>27===t.keyCode&&!this.disableClose&&!q_(t))).subscribe(t=>{t.preventDefault(),Xk(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():Xk(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Qt(t=>"closing"===t.state),le(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._getPositionStrategy().width(t).height(e),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function Xk(t,e,n){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=e),t.close(n)}const tO=new r.r("MatDialogData"),eO=new r.r("mat-dialog-default-options"),nO=new r.r("mat-dialog-scroll-strategy"),rO={provide:nO,deps:[wC],useFactory:function(t){return()=>t.scrollStrategies.block()}};let iO=(()=>{class t{constructor(t,e,n,r,i,s,o,a,c){this._overlay=t,this._injector=e,this._defaultOptions=n,this._parentDialog=r,this._overlayContainer=i,this._dialogRefConstructor=o,this._dialogContainerType=a,this._dialogDataToken=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new St.a,this._afterOpenedAtThisLevel=new St.a,this._ariaHiddenElements=new Map,this.afterAllClosed=Bt(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(pe(void 0))),this._scrollStrategy=s}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,e){(e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new Yk)).id&&this.getDialogById(e.id);const n=this._createOverlay(e),r=this._attachDialogContainer(n,e),i=this._attachDialogContent(t,r,n,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(i),i.afterClosed().subscribe(()=>this._removeOpenDialog(i)),this.afterOpened.next(i),r._initializeWithAttachedContent(),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new nC({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const n=r.s.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:Yk,useValue:e}]}),i=new Hw(this._dialogContainerType,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(i).instance}_attachDialogContent(t,e,n,i){const s=new this._dialogRefConstructor(n,e,i.id);if(t instanceof r.M)e.attachTemplatePortal(new zw(t,null,{$implicit:i.data,dialogRef:s}));else{const n=this._createInjector(i,s,e),r=e.attachComponentPortal(new Hw(t,i.viewContainerRef,n));s.componentInstance=r.instance}return s.updateSize(i.width,i.height).updatePosition(i.position),s}_createInjector(t,e,n){const i=t&&t.viewContainerRef&&t.viewContainerRef.injector,s=[{provide:this._dialogContainerType,useValue:n},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:e}];return!t.direction||i&&i.get(Nw,null)||s.push({provide:Nw,useValue:{value:t.direction,change:Object(Ct.a)()}}),r.s.create({parent:i||this._injector,providers:s})}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let r=e[n];r===t||"SCRIPT"===r.nodeName||"STYLE"===r.nodeName||r.hasAttribute("aria-live")||(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(wC),r.Lb(r.s),r.Lb(void 0),r.Lb(void 0),r.Lb(uC),r.Lb(void 0),r.Lb(r.O),r.Lb(r.O),r.Lb(r.r))},t.\u0275dir=r.Gb({type:t}),t})(),sO=(()=>{class t extends iO{constructor(t,e,n,r,i,s,o){super(t,e,r,s,o,i,Jk,$k,tO)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(wC),r.Ub(r.s),r.Ub(C,8),r.Ub(eO,8),r.Ub(nO),r.Ub(t,12),r.Ub(uC))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),oO=(()=>{class t{constructor(t,e,n){this.dialogRef=t,this._elementRef=e,this._dialog=n,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function(t,e){let n=t.nativeElement.parentElement;for(;n&&!n.classList.contains("mat-dialog-container");)n=n.parentElement;return n?e.find(t=>t.id===n.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const e=t._matDialogClose||t._matDialogCloseResult;e&&(this.dialogResult=e.currentValue)}_onButtonClick(t){Xk(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Jk,8),r.Lb(r.l),r.Lb(sO))},t.\u0275dir=r.Gb({type:t,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Yb("click",function(t){return e._onButtonClick(t)}),2&t&&r.Cb("aria-label",e.ariaLabel||null)("type",e.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[r.zb]}),t})(),aO=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[sO,rO],imports:[[EC,Gw,hk],hk]}),t})();const cO=new r.r("MatSuffix");let uO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t,selectors:[["","matSuffix",""]],features:[r.Ab([{provide:cO,useExisting:t}])]}),t})();const lO=new r.r("MatFormField");let hO=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[F,hk,nw],hk]}),t})();const dO=new r.r("MAT_INPUT_VALUE_ACCESSOR"),fO=["mat-calendar-body",""];function pO(t,e){if(1&t&&(r.Qb(0,"tr",2),r.Qb(1,"td",3),r.tc(2),r.Pb(),r.Pb()),2&t){const t=r.cc();r.Bb(1),r.pc("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),r.Cb("colspan",t.numCols),r.Bb(1),r.vc(" ",t.label," ")}}function mO(t,e){if(1&t&&(r.Qb(0,"td",7),r.tc(1),r.Pb()),2&t){const t=r.cc(2);r.pc("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),r.Cb("colspan",t._firstRowOffset),r.Bb(1),r.vc(" ",t._firstRowOffset>=t.labelMinRequiredCells?t.label:""," ")}}function gO(t,e){if(1&t){const t=r.Rb();r.Qb(0,"td",8),r.Yb("click",function(n){r.kc(t);const i=e.$implicit;return r.cc(2)._cellClicked(i,n)}),r.Qb(1,"div",9),r.tc(2),r.Pb(),r.Mb(3,"div",10),r.Pb()}if(2&t){const t=e.$implicit,n=e.index,i=r.cc().index,s=r.cc();r.pc("width",s._cellWidth)("padding-top",s._cellPadding)("padding-bottom",s._cellPadding),r.Db("mat-calendar-body-disabled",!t.enabled)("mat-calendar-body-active",s._isActiveCell(i,n))("mat-calendar-body-range-start",s._isRangeStart(t.compareValue))("mat-calendar-body-range-end",s._isRangeEnd(t.compareValue))("mat-calendar-body-in-range",s._isInRange(t.compareValue))("mat-calendar-body-comparison-bridge-start",s._isComparisonBridgeStart(t.compareValue,i,n))("mat-calendar-body-comparison-bridge-end",s._isComparisonBridgeEnd(t.compareValue,i,n))("mat-calendar-body-comparison-start",s._isComparisonStart(t.compareValue))("mat-calendar-body-comparison-end",s._isComparisonEnd(t.compareValue))("mat-calendar-body-in-comparison-range",s._isInComparisonRange(t.compareValue))("mat-calendar-body-preview-start",s._isPreviewStart(t.compareValue))("mat-calendar-body-preview-end",s._isPreviewEnd(t.compareValue))("mat-calendar-body-in-preview",s._isInPreview(t.compareValue)),r.fc("ngClass",t.cssClasses)("tabindex",s._isActiveCell(i,n)?0:-1),r.Cb("data-mat-row",i)("data-mat-col",n)("aria-label",t.ariaLabel)("aria-disabled",!t.enabled||null)("aria-selected",s._isSelected(t.compareValue)),r.Bb(1),r.Db("mat-calendar-body-selected",s._isSelected(t.compareValue))("mat-calendar-body-comparison-identical",s._isComparisonIdentical(t.compareValue))("mat-calendar-body-today",s.todayValue===t.compareValue),r.Bb(1),r.vc(" ",t.displayValue," ")}}function bO(t,e){if(1&t&&(r.Qb(0,"tr",4),r.sc(1,mO,2,6,"td",5),r.sc(2,gO,4,46,"td",6),r.Pb()),2&t){const t=e.$implicit,n=e.index,i=r.cc();r.Bb(1),r.fc("ngIf",0===n&&i._firstRowOffset),r.Bb(1),r.fc("ngForOf",t)}}function yO(t,e){if(1&t&&(r.Qb(0,"th",5),r.tc(1),r.Pb()),2&t){const t=e.$implicit;r.Cb("aria-label",t.long),r.Bb(1),r.uc(t.narrow)}}const vO=["*"];function _O(t,e){}function wO(t,e){if(1&t){const t=r.Rb();r.Qb(0,"mat-month-view",5),r.Yb("activeDateChange",function(e){return r.kc(t),r.cc().activeDate=e})("_userSelection",function(e){return r.kc(t),r.cc()._dateSelected(e)}),r.Pb()}if(2&t){const t=r.cc();r.fc("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)("comparisonStart",t.comparisonStart)("comparisonEnd",t.comparisonEnd)}}function CO(t,e){if(1&t){const t=r.Rb();r.Qb(0,"mat-year-view",6),r.Yb("activeDateChange",function(e){return r.kc(t),r.cc().activeDate=e})("monthSelected",function(e){return r.kc(t),r.cc()._monthSelectedInYearView(e)})("selectedChange",function(e){return r.kc(t),r.cc()._goToDateInView(e,"month")}),r.Pb()}if(2&t){const t=r.cc();r.fc("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function EO(t,e){if(1&t){const t=r.Rb();r.Qb(0,"mat-multi-year-view",7),r.Yb("activeDateChange",function(e){return r.kc(t),r.cc().activeDate=e})("yearSelected",function(e){return r.kc(t),r.cc()._yearSelectedInMultiYearView(e)})("selectedChange",function(e){return r.kc(t),r.cc()._goToDateInView(e,"year")}),r.Pb()}if(2&t){const t=r.cc();r.fc("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}const SO=["button"];function kO(t,e){1&t&&(r.bc(),r.Qb(0,"svg",3),r.Mb(1,"path",4),r.Pb())}const OO=[[["","matDatepickerToggleIcon",""]]],xO=["[matDatepickerToggleIcon]"];let AO=(()=>{class t{constructor(){this.changes=new St.a,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 20 years",this.nextMultiYearLabel="Next 20 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(t,e){return`${t} \u2013 ${e}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();class TO{constructor(t,e,n,r,i={},s=t,o){this.value=t,this.displayValue=e,this.ariaLabel=n,this.enabled=r,this.cssClasses=i,this.compareValue=s,this.rawValue=o}}let IO=(()=>{class t{constructor(t,e){this._elementRef=t,this._ngZone=e,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new r.n,this.previewChange=new r.n,this._enterHandler=t=>{if(this._skipNextFocus&&"focus"===t.type)this._skipNextFocus=!1;else if(t.target&&this.isRange){const e=this._getCellFromElement(t.target);e&&this._ngZone.run(()=>this.previewChange.emit({value:e.enabled?e:null,event:t}))}},this._leaveHandler=t=>{null!==this.previewEnd&&this.isRange&&t.target&&DO(t.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:t}))},e.runOutsideAngular(()=>{const e=t.nativeElement;e.addEventListener("mouseenter",this._enterHandler,!0),e.addEventListener("focus",this._enterHandler,!0),e.addEventListener("mouseleave",this._leaveHandler,!0),e.addEventListener("blur",this._leaveHandler,!0)})}_cellClicked(t,e){t.enabled&&this.selectedValueChange.emit({value:t.value,event:e})}_isSelected(t){return this.startValue===t||this.endValue===t}ngOnChanges(t){const e=t.numCols,{rows:n,numCols:r}=this;(t.rows||e)&&(this._firstRowOffset=n&&n.length&&n[0].length?r-n[0].length:0),(t.cellAspectRatio||e||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/r+"%"),!e&&this._cellWidth||(this._cellWidth=100/r+"%")}ngOnDestroy(){const t=this._elementRef.nativeElement;t.removeEventListener("mouseenter",this._enterHandler,!0),t.removeEventListener("focus",this._enterHandler,!0),t.removeEventListener("mouseleave",this._leaveHandler,!0),t.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(t,e){let n=t*this.numCols+e;return t&&(n-=this._firstRowOffset),n==this.activeCell}_focusActiveCell(t=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(le(1)).subscribe(()=>{const e=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");e&&(t||(this._skipNextFocus=!0),e.focus())})})}_isRangeStart(t){return jO(t,this.startValue,this.endValue)}_isRangeEnd(t){return RO(t,this.startValue,this.endValue)}_isInRange(t){return PO(t,this.startValue,this.endValue,this.isRange)}_isComparisonStart(t){return jO(t,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(t,e,n){if(!this._isComparisonStart(t)||this._isRangeStart(t)||!this._isInRange(t))return!1;let r=this.rows[e][n-1];if(!r){const t=this.rows[e-1];r=t&&t[t.length-1]}return r&&!this._isRangeEnd(r.compareValue)}_isComparisonBridgeEnd(t,e,n){if(!this._isComparisonEnd(t)||this._isRangeEnd(t)||!this._isInRange(t))return!1;let r=this.rows[e][n+1];if(!r){const t=this.rows[e+1];r=t&&t[0]}return r&&!this._isRangeStart(r.compareValue)}_isComparisonEnd(t){return RO(t,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(t){return PO(t,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(t){return this.comparisonStart===this.comparisonEnd&&t===this.comparisonStart}_isPreviewStart(t){return jO(t,this.previewStart,this.previewEnd)}_isPreviewEnd(t){return RO(t,this.previewStart,this.previewEnd)}_isInPreview(t){return PO(t,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(t){let e;if(DO(t)?e=t:DO(t.parentNode)&&(e=t.parentNode),e){const t=e.getAttribute("data-mat-row"),n=e.getAttribute("data-mat-col");if(t&&n)return this.rows[parseInt(t)][parseInt(n)]}return null}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(r.A))},t.\u0275cmp=r.Fb({type:t,selectors:[["","mat-calendar-body",""]],hostAttrs:["role","grid","aria-readonly","true",1,"mat-calendar-body"],inputs:{numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",previewStart:"previewStart",previewEnd:"previewEnd",label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange"},exportAs:["matCalendarBody"],features:[r.zb],attrs:fO,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["aria-hidden","true","class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell",3,"ngClass","tabindex","mat-calendar-body-disabled","mat-calendar-body-active","mat-calendar-body-range-start","mat-calendar-body-range-end","mat-calendar-body-in-range","mat-calendar-body-comparison-bridge-start","mat-calendar-body-comparison-bridge-end","mat-calendar-body-comparison-start","mat-calendar-body-comparison-end","mat-calendar-body-in-comparison-range","mat-calendar-body-preview-start","mat-calendar-body-preview-end","mat-calendar-body-in-preview","width","paddingTop","paddingBottom","click",4,"ngFor","ngForOf"],["aria-hidden","true",1,"mat-calendar-body-label"],["role","gridcell",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],[1,"mat-calendar-body-cell-preview"]],template:function(t,e){1&t&&(r.sc(0,pO,3,6,"tr",0),r.sc(1,bO,3,2,"tr",1)),2&t&&(r.fc("ngIf",e._firstRowOffset<e.labelMinRequiredCells),r.Bb(1),r.fc("ngForOf",e.rows))},directives:[R,D,T],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell{position:relative;height:0;line-height:0;text-align:center;outline:none;cursor:pointer}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected),.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){outline:dotted 2px}[dir=rtl] .mat-calendar-body-label{text-align:right}@media(hover: none){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){background-color:transparent}}\n'],encapsulation:2,changeDetection:0}),t})();function DO(t){return"TD"===t.nodeName}function jO(t,e,n){return null!==n&&e!==n&&t<n&&t===e}function RO(t,e,n){return null!==e&&e!==n&&t>=e&&t===n}function PO(t,e,n,r){return r&&null!==e&&null!==n&&e!==n&&t>=e&&t<=n}class NO{constructor(t,e){this.start=t,this.end=e}}let LO=(()=>{class t{constructor(t,e){this.selection=t,this._adapter=e,this._selectionChanged=new St.a,this.selectionChanged=this._selectionChanged,this.selection=t}updateSelection(t,e){this.selection=t,this._selectionChanged.next({selection:t,source:e})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(t){return this._adapter.isDateInstance(t)&&this._adapter.isValid(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(void 0),r.Lb(bk))},t.\u0275dir=r.Gb({type:t}),t})(),VO=(()=>{class t extends LO{constructor(t){super(null,t)}add(t){super.updateSelection(t,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(bk))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const MO={provide:LO,deps:[[new r.B,new r.K,LO],bk],useFactory:function(t,e){return t||new VO(e)}},FO=new r.r("MAT_DATE_RANGE_SELECTION_STRATEGY");let UO=(()=>{class t{constructor(t,e,n,i,s){this._changeDetectorRef=t,this._dateFormats=e,this._dateAdapter=n,this._dir=i,this._rangeStrategy=s,this._rerenderSubscription=ke.a.EMPTY,this.selectedChange=new r.n,this._userSelection=new r.n,this.activeDateChange=new r.n,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){const e=this._activeDate,n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._hasSameMonthAndYear(e,this._activeDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof NO?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(pe(null)).subscribe(()=>this._init())}ngOnChanges(t){const e=t.comparisonStart||t.comparisonEnd;e&&!e.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(t){const e=t.value,n=this._dateAdapter.getYear(this.activeDate),r=this._dateAdapter.getMonth(this.activeDate),i=this._dateAdapter.createDate(n,r,e);let s,o;this._selected instanceof NO?(s=this._getDateInCurrentMonth(this._selected.start),o=this._getDateInCurrentMonth(this._selected.end)):s=o=this._getDateInCurrentMonth(this._selected),s===e&&o===e||this.selectedChange.emit(i),this._userSelection.emit({value:i,event:t.event})}_handleCalendarBodyKeydown(t){const e=this._activeDate,n=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return void(this.dateFilter&&!this.dateFilter(this._activeDate)||(this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:t}),t.preventDefault()));case 27:return void(null==this._previewEnd||q_(t)||(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:t}),t.preventDefault(),t.stopPropagation()));default:return}this._dateAdapter.compareDate(e,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),t.preventDefault()}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(t)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(t){this._matCalendarBody._focusActiveCell(t)}_previewChanged({event:t,value:e}){if(this._rangeStrategy){const n=this._rangeStrategy.createPreview(e?e.rawValue:null,this.selected,t);this._previewStart=this._getCellCompareValue(n.start),this._previewEnd=this._getCellCompareValue(n.end),this._changeDetectorRef.detectChanges()}}_initWeekdays(){const t=this._dateAdapter.getFirstDayOfWeek(),e=this._dateAdapter.getDayOfWeekNames("narrow");let n=this._dateAdapter.getDayOfWeekNames("long").map((t,n)=>({long:t,narrow:e[n]}));this._weekdays=n.slice(t).concat(n.slice(0,t))}_createWeekCells(){const t=this._dateAdapter.getNumDaysInMonth(this.activeDate),e=this._dateAdapter.getDateNames();this._weeks=[[]];for(let n=0,r=this._firstWeekOffset;n<t;n++,r++){7==r&&(this._weeks.push([]),r=0);const t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),n+1),i=this._shouldEnableDate(t),s=this._dateAdapter.format(t,this._dateFormats.display.dateA11yLabel),o=this.dateClass?this.dateClass(t,"month"):void 0;this._weeks[this._weeks.length-1].push(new TO(n+1,e[n],s,i,o,this._getCellCompareValue(t),t))}}_shouldEnableDate(t){return!!t&&(!this.minDate||this._dateAdapter.compareDate(t,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(t,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(t))}_getDateInCurrentMonth(t){return t&&this._hasSameMonthAndYear(t,this.activeDate)?this._dateAdapter.getDate(t):null}_hasSameMonthAndYear(t,e){return!(!t||!e||this._dateAdapter.getMonth(t)!=this._dateAdapter.getMonth(e)||this._dateAdapter.getYear(t)!=this._dateAdapter.getYear(e))}_getCellCompareValue(t){if(t){const e=this._dateAdapter.getYear(t),n=this._dateAdapter.getMonth(t),r=this._dateAdapter.getDate(t);return new Date(e,n,r).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(t){t instanceof NO?(this._rangeStart=this._getCellCompareValue(t.start),this._rangeEnd=this._getCellCompareValue(t.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(t),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.h),r.Lb(yk,8),r.Lb(bk,8),r.Lb(Nw,8),r.Lb(FO,8))},t.\u0275cmp=r.Fb({type:t,selectors:[["mat-month-view"]],viewQuery:function(t,e){if(1&t&&r.wc(IO,!0),2&t){let t;r.ic(t=r.Zb())&&(e._matCalendarBody=t.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[r.zb],decls:7,vars:13,consts:[["role","presentation",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["colspan","7","aria-hidden","true",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","previewChange","keydown"],["scope","col"]],template:function(t,e){1&t&&(r.Qb(0,"table",0),r.Qb(1,"thead",1),r.Qb(2,"tr"),r.sc(3,yO,2,2,"th",2),r.Pb(),r.Qb(4,"tr"),r.Mb(5,"th",3),r.Pb(),r.Pb(),r.Qb(6,"tbody",4),r.Yb("selectedValueChange",function(t){return e._dateSelected(t)})("previewChange",function(t){return e._previewChanged(t)})("keydown",function(t){return e._handleCalendarBodyKeydown(t)}),r.Pb(),r.Pb()),2&t&&(r.Bb(3),r.fc("ngForOf",e._weekdays),r.Bb(3),r.fc("label",e._monthLabel)("rows",e._weeks)("todayValue",e._todayDate)("startValue",e._rangeStart)("endValue",e._rangeEnd)("comparisonStart",e._comparisonRangeStart)("comparisonEnd",e._comparisonRangeEnd)("previewStart",e._previewStart)("previewEnd",e._previewEnd)("isRange",e._isRange)("labelMinRequiredCells",3)("activeCell",e._dateAdapter.getDate(e.activeDate)-1))},directives:[D,IO],encapsulation:2,changeDetection:0}),t})();const BO=24;let HO=(()=>{class t{constructor(t,e,n){this._changeDetectorRef=t,this._dateAdapter=e,this._dir=n,this._rerenderSubscription=ke.a.EMPTY,this.selectedChange=new r.n,this.yearSelected=new r.n,this.activeDateChange=new r.n,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){let e=this._activeDate;const n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),zO(this._dateAdapter,e,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof NO?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedYear(t)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(pe(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const t=this._dateAdapter.getYear(this._activeDate)-qO(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let e=0,n=[];e<BO;e++)n.push(t+e),4==n.length&&(this._years.push(n.map(t=>this._createCellForYear(t))),n=[]);this._changeDetectorRef.markForCheck()}_yearSelected(t){const e=t.value;this.yearSelected.emit(this._dateAdapter.createDate(e,0,1));let n=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,n,1));this.selectedChange.emit(this._dateAdapter.createDate(e,n,Math.min(this._dateAdapter.getDate(this.activeDate),r)))}_handleCalendarBodyKeydown(t){const e=this._activeDate,n=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-qO(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,BO-qO(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?240:BO);break;case 13:case 32:this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:t});break;default:return}this._dateAdapter.compareDate(e,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),t.preventDefault()}_getActiveCell(){return qO(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_createCellForYear(t){const e=this._dateAdapter.createDate(t,0,1),n=this._dateAdapter.getYearName(e),r=this.dateClass?this.dateClass(e,"multi-year"):void 0;return new TO(t,n,n,this._shouldEnableYear(t),r)}_shouldEnableYear(t){if(null==t||this.maxDate&&t>this._dateAdapter.getYear(this.maxDate)||this.minDate&&t<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let e=this._dateAdapter.createDate(t,0,1);this._dateAdapter.getYear(e)==t;e=this._dateAdapter.addCalendarDays(e,1))if(this.dateFilter(e))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(t){if(this._selectedYear=null,t instanceof NO){const e=t.start||t.end;e&&(this._selectedYear=this._dateAdapter.getYear(e))}else t&&(this._selectedYear=this._dateAdapter.getYear(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.h),r.Lb(bk,8),r.Lb(Nw,8))},t.\u0275cmp=r.Fb({type:t,selectors:[["mat-multi-year-view"]],viewQuery:function(t,e){if(1&t&&r.wc(IO,!0),2&t){let t;r.ic(t=r.Zb())&&(e._matCalendarBody=t.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","presentation",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","keydown"]],template:function(t,e){1&t&&(r.Qb(0,"table",0),r.Qb(1,"thead",1),r.Qb(2,"tr"),r.Mb(3,"th",2),r.Pb(),r.Pb(),r.Qb(4,"tbody",3),r.Yb("selectedValueChange",function(t){return e._yearSelected(t)})("keydown",function(t){return e._handleCalendarBodyKeydown(t)}),r.Pb(),r.Pb()),2&t&&(r.Bb(4),r.fc("rows",e._years)("todayValue",e._todayYear)("startValue",e._selectedYear)("endValue",e._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",e._getActiveCell()))},directives:[IO],encapsulation:2,changeDetection:0}),t})();function zO(t,e,n,r,i){const s=t.getYear(e),o=t.getYear(n),a=QO(t,r,i);return Math.floor((s-a)/BO)===Math.floor((o-a)/BO)}function qO(t,e,n,r){return function(t,e){return(t%24+24)%24}(t.getYear(e)-QO(t,n,r))}function QO(t,e,n){let r=0;return n?r=t.getYear(n)-BO+1:e&&(r=t.getYear(e)),r}let YO=(()=>{class t{constructor(t,e,n,i){this._changeDetectorRef=t,this._dateFormats=e,this._dateAdapter=n,this._dir=i,this._rerenderSubscription=ke.a.EMPTY,this.selectedChange=new r.n,this.monthSelected=new r.n,this.activeDateChange=new r.n,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){let e=this._activeDate;const n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._dateAdapter.getYear(e)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof NO?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedMonth(t)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(pe(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(t){const e=t.value,n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1);this.monthSelected.emit(n);const r=this._dateAdapter.getNumDaysInMonth(n);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),r)))}_handleCalendarBodyKeydown(t){const e=this._activeDate,n=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10:1);break;case 13:case 32:this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:t});break;default:return}this._dateAdapter.compareDate(e,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),t.preventDefault()}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let t=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(e=>e.map(e=>this._createCellForMonth(e,t[e]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_getMonthInCurrentYear(t){return t&&this._dateAdapter.getYear(t)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(t):null}_createCellForMonth(t,e){const n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),r=this._dateAdapter.format(n,this._dateFormats.display.monthYearA11yLabel),i=this.dateClass?this.dateClass(n,"year"):void 0;return new TO(t,e.toLocaleUpperCase(),r,this._shouldEnableMonth(t),i)}_shouldEnableMonth(t){const e=this._dateAdapter.getYear(this.activeDate);if(null==t||this._isYearAndMonthAfterMaxDate(e,t)||this._isYearAndMonthBeforeMinDate(e,t))return!1;if(!this.dateFilter)return!0;for(let n=this._dateAdapter.createDate(e,t,1);this._dateAdapter.getMonth(n)==t;n=this._dateAdapter.addCalendarDays(n,1))if(this.dateFilter(n))return!0;return!1}_isYearAndMonthAfterMaxDate(t,e){if(this.maxDate){const n=this._dateAdapter.getYear(this.maxDate),r=this._dateAdapter.getMonth(this.maxDate);return t>n||t===n&&e>r}return!1}_isYearAndMonthBeforeMinDate(t,e){if(this.minDate){const n=this._dateAdapter.getYear(this.minDate),r=this._dateAdapter.getMonth(this.minDate);return t<n||t===n&&e<r}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(t){this._selectedMonth=t instanceof NO?this._getMonthInCurrentYear(t.start)||this._getMonthInCurrentYear(t.end):this._getMonthInCurrentYear(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.h),r.Lb(yk,8),r.Lb(bk,8),r.Lb(Nw,8))},t.\u0275cmp=r.Fb({type:t,selectors:[["mat-year-view"]],viewQuery:function(t,e){if(1&t&&r.wc(IO,!0),2&t){let t;r.ic(t=r.Zb())&&(e._matCalendarBody=t.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","presentation",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","keydown"]],template:function(t,e){1&t&&(r.Qb(0,"table",0),r.Qb(1,"thead",1),r.Qb(2,"tr"),r.Mb(3,"th",2),r.Pb(),r.Pb(),r.Qb(4,"tbody",3),r.Yb("selectedValueChange",function(t){return e._monthSelected(t)})("keydown",function(t){return e._handleCalendarBodyKeydown(t)}),r.Pb(),r.Pb()),2&t&&(r.Bb(4),r.fc("label",e._yearLabel)("rows",e._months)("todayValue",e._todayMonth)("startValue",e._selectedMonth)("endValue",e._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",e._dateAdapter.getMonth(e.activeDate)))},directives:[IO],encapsulation:2,changeDetection:0}),t})(),WO=(()=>{class t{constructor(t,e,n,r,i){this._intl=t,this.calendar=e,this._dateAdapter=n,this._dateFormats=r,this.calendar.stateChanges.subscribe(()=>i.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const t=this._dateAdapter.getYear(this.calendar.activeDate)-qO(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),e=t+BO-1,n=this._dateAdapter.getYearName(this._dateAdapter.createDate(t,0,1)),r=this._dateAdapter.getYearName(this._dateAdapter.createDate(e,0,1));return this._intl.formatYearRange(n,r)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:BO)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(t,e){return"month"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(e)&&this._dateAdapter.getMonth(t)==this._dateAdapter.getMonth(e):"year"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(e):zO(this._dateAdapter,t,e,this.calendar.minDate,this.calendar.maxDate)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(AO),r.Lb(Object(r.V)(()=>GO)),r.Lb(bk,8),r.Lb(yk,8),r.Lb(r.h))},t.\u0275cmp=r.Fb({type:t,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:vO,decls:9,vars:8,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","cdkAriaLive","polite",1,"mat-calendar-period-button",3,"click"],[1,"mat-calendar-arrow"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(t,e){1&t&&(r.ec(),r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"button",2),r.Yb("click",function(){return e.currentPeriodClicked()}),r.tc(3),r.Mb(4,"div",3),r.Pb(),r.Mb(5,"div",4),r.dc(6),r.Qb(7,"button",5),r.Yb("click",function(){return e.previousClicked()}),r.Pb(),r.Qb(8,"button",6),r.Yb("click",function(){return e.nextClicked()}),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Bb(2),r.Cb("aria-label",e.periodButtonLabel),r.Bb(1),r.vc(" ",e.periodButtonText," "),r.Bb(1),r.Db("mat-calendar-invert","month"!=e.calendar.currentView),r.Bb(3),r.fc("disabled",!e.previousEnabled()),r.Cb("aria-label",e.prevButtonLabel),r.Bb(1),r.fc("disabled",!e.nextEnabled()),r.Cb("aria-label",e.nextButtonLabel))},directives:[zk,dw],encapsulation:2,changeDetection:0}),t})(),GO=(()=>{class t{constructor(t,e,n,i){this._dateAdapter=e,this._dateFormats=n,this._changeDetectorRef=i,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new r.n,this.yearSelected=new r.n,this.monthSelected=new r.n,this.viewChanged=new r.n(!0),this._userSelection=new r.n,this.stateChanges=new St.a,this._intlChanges=t.changes.subscribe(()=>{i.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get selected(){return this._selected}set selected(t){this._selected=t instanceof NO?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get activeDate(){return this._clampedActiveDate}set activeDate(t){this._clampedActiveDate=this._dateAdapter.clampDate(t,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(t){const e=this._currentView!==t?t:null;this._currentView=t,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),e&&this.viewChanged.emit(e)}ngAfterContentInit(){this._calendarHeaderPortal=new Hw(this.headerComponent||WO),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(t){const e=t.minDate||t.maxDate||t.dateFilter;if(e&&!e.firstChange){const t=this._getCurrentViewComponent();t&&(this._changeDetectorRef.detectChanges(),t._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){const t=this.currentView;let e;e="month"===t?this.monthView:"year"===t?this.yearView:this.multiYearView,e._init()}_dateSelected(t){const e=t.value;(this.selected instanceof NO||e&&!this._dateAdapter.sameDate(e,this.selected))&&this.selectedChange.emit(e),this._userSelection.emit(t)}_yearSelectedInMultiYearView(t){this.yearSelected.emit(t)}_monthSelectedInYearView(t){this.monthSelected.emit(t)}_goToDateInView(t,e){this.activeDate=t,this.currentView=e}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(AO),r.Lb(bk,8),r.Lb(yk,8),r.Lb(r.h))},t.\u0275cmp=r.Fb({type:t,selectors:[["mat-calendar"]],viewQuery:function(t,e){if(1&t&&(r.wc(UO,!0),r.wc(YO,!0),r.wc(HO,!0)),2&t){let t;r.ic(t=r.Zb())&&(e.monthView=t.first),r.ic(t=r.Zb())&&(e.yearView=t.first),r.ic(t=r.Zb())&&(e.multiYearView=t.first)}},hostAttrs:[1,"mat-calendar"],inputs:{startView:"startView",startAt:"startAt",selected:"selected",minDate:"minDate",maxDate:"maxDate",headerComponent:"headerComponent",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[r.Ab([MO]),r.zb],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(t,e){1&t&&(r.sc(0,_O,0,0,"ng-template",0),r.Qb(1,"div",1),r.sc(2,wO,1,8,"mat-month-view",2),r.sc(3,CO,1,6,"mat-year-view",3),r.sc(4,EO,1,6,"mat-multi-year-view",4),r.Pb()),2&t&&(r.fc("cdkPortalOutlet",e._calendarHeaderPortal),r.Bb(1),r.fc("ngSwitch",e.currentView),r.Bb(1),r.fc("ngSwitchCase","month"),r.Bb(1),r.fc("ngSwitchCase","year"),r.Bb(1),r.fc("ngSwitchCase","multi-year"))},directives:[Ww,yw,V,M,UO,YO,HO],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(33% / 7 - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top-width:5px;border-top-style:solid;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}\n'],encapsulation:2,changeDetection:0}),t})();const $O={transformPanel:xC("transformPanel",[DC("void",IC({opacity:0,transform:"scale(1, 0.8)"})),jC("void => enter",AC("120ms cubic-bezier(0, 0, 0.2, 1)",IC({opacity:1,transform:"scale(1, 1)"}))),jC("* => void",AC("100ms linear",IC({opacity:0})))]),fadeInCalendar:xC("fadeInCalendar",[DC("void",IC({opacity:0})),DC("enter",IC({opacity:1})),jC("void => *",AC("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let KO=0;const ZO=new r.r("mat-datepicker-scroll-strategy"),JO={provide:ZO,deps:[wC],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};class XO{constructor(t){this._elementRef=t}}const tx=fk(XO);let ex=(()=>{class t extends tx{constructor(t,e,n,r,i,s){super(t),this._changeDetectorRef=e,this._model=n,this._dateAdapter=r,this._rangeSelectionStrategy=i,this._subscriptions=new ke.a,this._animationState="enter",this._animationDone=new St.a,this._closeButtonText=(null==s?void 0:s.closeCalendarLabel)||"Close calendar"}ngAfterViewInit(){this._subscriptions.add(this.datepicker._stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(t){const e=this._model.selection,n=t.value,r=e instanceof NO;if(r&&this._rangeSelectionStrategy){const r=this._rangeSelectionStrategy.selectionFinished(n,e,t.event);this._model.updateSelection(r,this)}else!n||!r&&this._dateAdapter.sameDate(n,e)||this._model.add(n);this._model&&!this._model.isComplete()||this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(r.h),r.Lb(LO),r.Lb(bk),r.Lb(FO,8),r.Lb(AO))},t.\u0275cmp=r.Fb({type:t,selectors:[["mat-datepicker-content"]],viewQuery:function(t,e){if(1&t&&r.wc(GO,!0),2&t){let t;r.ic(t=r.Zb())&&(e._calendar=t.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(t,e){1&t&&r.qc("@transformPanel.done",function(){return e._animationDone.next()}),2&t&&(r.rc("@transformPanel",e._animationState),r.Db("mat-datepicker-content-touch",e.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[r.yb],decls:4,vars:16,consts:[["cdkTrapFocus",""],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],["type","button","mat-raised-button","","color","primary",1,"mat-datepicker-close-button",3,"focus","blur","click"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"mat-calendar",1),r.Yb("yearSelected",function(t){return e.datepicker._selectYear(t)})("monthSelected",function(t){return e.datepicker._selectMonth(t)})("viewChanged",function(t){return e.datepicker._viewChanged(t)})("_userSelection",function(t){return e._handleUserSelection(t)}),r.Pb(),r.Qb(2,"button",2),r.Yb("focus",function(){return e._closeButtonFocused=!0})("blur",function(){return e._closeButtonFocused=!1})("click",function(){return e.datepicker.close()}),r.tc(3),r.Pb(),r.Pb()),2&t&&(r.Bb(1),r.fc("id",e.datepicker.id)("ngClass",e.datepicker.panelClass)("startAt",e.datepicker.startAt)("startView",e.datepicker.startView)("minDate",e.datepicker._getMinDate())("maxDate",e.datepicker._getMaxDate())("dateFilter",e.datepicker._getDateFilter())("headerComponent",e.datepicker.calendarHeaderComponent)("selected",e._getSelected())("dateClass",e.datepicker.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)("@fadeInCalendar","enter"),r.Bb(1),r.Db("cdk-visually-hidden",!e._closeButtonFocused),r.Bb(1),r.uc(e._closeButtonText))},directives:[cw,GO,T,zk],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.mat-datepicker-content-touch{display:block;max-height:80vh;overflow:auto;margin:-24px}.mat-datepicker-content-touch .mat-calendar{min-width:250px;min-height:312px;max-width:750px;max-height:788px}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-calendar{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-calendar{width:80vw;height:100vw}}\n"],encapsulation:2,data:{animation:[$O.transformPanel,$O.fadeInCalendar]},changeDetection:0}),t})(),nx=(()=>{class t{constructor(t,e,n,i,s,o,a,c,u){this._dialog=t,this._overlay=e,this._ngZone=n,this._viewContainerRef=i,this._dateAdapter=o,this._dir=a,this._document=c,this._model=u,this._inputStateChanges=ke.a.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this.yearSelected=new r.n,this.monthSelected=new r.n,this.viewChanged=new r.n(!0),this.openedStream=new r.n,this.closedStream=new r.n,this._opened=!1,this.id="mat-datepicker-"+KO++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=this.id+"-backdrop",this._stateChanges=new St.a,this._scrollStrategy=s}get startAt(){return this._startAt||(this._datepickerInput?this._datepickerInput.getStartValue():null)}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get color(){return this._color||(this._datepickerInput?this._datepickerInput.getThemePalette():void 0)}set color(t){this._color=t}get touchUi(){return this._touchUi}set touchUi(t){this._touchUi=G_(t)}get disabled(){return void 0===this._disabled&&this._datepickerInput?this._datepickerInput.disabled:!!this._disabled}set disabled(t){const e=G_(t);e!==this._disabled&&(this._disabled=e,this._stateChanges.next(void 0))}get panelClass(){return this._panelClass}set panelClass(t){this._panelClass=function(t,e=/\s+/){const n=[];if(null!=t){const r=Array.isArray(t)?t:(""+t).split(e);for(const t of r){const e=(""+t).trim();e&&n.push(e)}}return n}(t)}get opened(){return this._opened}set opened(t){G_(t)?this.open():this.close()}_getMinDate(){return this._datepickerInput&&this._datepickerInput.min}_getMaxDate(){return this._datepickerInput&&this._datepickerInput.max}_getDateFilter(){return this._datepickerInput&&this._datepickerInput.dateFilter}ngOnChanges(t){const e=t.xPosition||t.yPosition;e&&!e.firstChange&&this._popupRef&&(this._setConnectedPositions(this._popupRef.getConfig().positionStrategy),this.opened&&this._popupRef.updatePosition()),this._stateChanges.next(void 0)}ngOnDestroy(){this._destroyPopup(),this.close(),this._inputStateChanges.unsubscribe(),this._stateChanges.complete()}select(t){this._model.add(t)}_selectYear(t){this.yearSelected.emit(t)}_selectMonth(t){this.monthSelected.emit(t)}_viewChanged(t){this.viewChanged.emit(t)}_registerInput(t){return this._inputStateChanges.unsubscribe(),this._datepickerInput=t,this._inputStateChanges=t.stateChanges.subscribe(()=>this._stateChanges.next(void 0)),this._model}open(){this._opened||this.disabled||(this._document&&(this._focusedElementBeforeOpen=this._document.activeElement),this.touchUi?this._openAsDialog():this._openAsPopup(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;if(this._popupComponentRef&&this._popupRef){const t=this._popupComponentRef.instance;t._startExitAnimation(),t._animationDone.pipe(le(1)).subscribe(()=>this._destroyPopup())}this._dialogRef&&(this._dialogRef.close(),this._dialogRef=null);const t=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(t)):t()}_openAsDialog(){this._dialogRef&&this._dialogRef.close(),this._dialogRef=this._dialog.open(ex,{direction:this._dir?this._dir.value:"ltr",viewContainerRef:this._viewContainerRef,panelClass:"mat-datepicker-dialog",hasBackdrop:!0,disableClose:!1,backdropClass:["cdk-overlay-dark-backdrop",this._backdropHarnessClass],width:"",height:"",minWidth:"",minHeight:"",maxWidth:"80vw",maxHeight:"",position:{},autoFocus:!0,restoreFocus:!1}),this._dialogRef.afterClosed().subscribe(()=>this.close()),this._forwardContentValues(this._dialogRef.componentInstance)}_openAsPopup(){const t=new Hw(ex,this._viewContainerRef);this._destroyPopup(),this._createPopup(),this._popupComponentRef=this._popupRef.attach(t),this._forwardContentValues(this._popupComponentRef.instance),this._ngZone.onStable.pipe(le(1)).subscribe(()=>{this._popupRef.updatePosition()})}_forwardContentValues(t){t.datepicker=this,t.color=this.color}_createPopup(){const t=this._overlay.position().flexibleConnectedTo(this._datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition(),e=new nC({positionStrategy:this._setConnectedPositions(t),hasBackdrop:!0,backdropClass:["mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:this._scrollStrategy(),panelClass:"mat-datepicker-popup"});this._popupRef=this._overlay.create(e),this._popupRef.overlayElement.setAttribute("role","dialog"),Object(Xy.a)(this._popupRef.backdropClick(),this._popupRef.detachments(),this._popupRef.keydownEvents().pipe(Qt(t=>27===t.keyCode&&!q_(t)||this._datepickerInput&&q_(t,"altKey")&&38===t.keyCode))).subscribe(t=>{t&&t.preventDefault(),this.close()})}_destroyPopup(){this._popupRef&&(this._popupRef.dispose(),this._popupRef=this._popupComponentRef=null)}_setConnectedPositions(t){const e="end"===this.xPosition?"end":"start",n="start"===e?"end":"start",r="above"===this.yPosition?"bottom":"top",i="top"===r?"bottom":"top";return t.withPositions([{originX:e,originY:i,overlayX:e,overlayY:r},{originX:e,originY:r,overlayX:e,overlayY:i},{originX:n,originY:i,overlayX:n,overlayY:r},{originX:n,originY:r,overlayX:n,overlayY:i}])}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(sO),r.Lb(wC),r.Lb(r.A),r.Lb(r.R),r.Lb(ZO),r.Lb(bk,8),r.Lb(Nw,8),r.Lb(a,8),r.Lb(LO))},t.\u0275dir=r.Gb({type:t,inputs:{startView:"startView",xPosition:"xPosition",yPosition:"yPosition",startAt:"startAt",color:"color",touchUi:"touchUi",disabled:"disabled",panelClass:"panelClass",opened:"opened",calendarHeaderComponent:"calendarHeaderComponent",dateClass:"dateClass"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[r.zb]}),t})(),rx=(()=>{class t extends nx{}return t.\u0275fac=function(e){return ix(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[r.Ab([MO]),r.yb],decls:0,vars:0,template:function(t,e){},encapsulation:2,changeDetection:0}),t})();const ix=r.Sb(rx);class sx{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}let ox=(()=>{class t{constructor(t,e,n){this._elementRef=t,this._dateAdapter=e,this._dateFormats=n,this.dateChange=new r.n,this.dateInput=new r.n,this._valueChange=new r.n,this.stateChanges=new St.a,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=ke.a.EMPTY,this._localeSubscription=ke.a.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=t=>{const e=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t.value));return!e||this._matchesFilter(e)?null:{matDatepickerFilter:!0}},this._minValidator=t=>{const e=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t.value)),n=this._getMinDate();return!n||!e||this._dateAdapter.compareDate(n,e)<=0?null:{matDatepickerMin:{min:n,actual:e}}},this._maxValidator=t=>{const e=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t.value)),n=this._getMaxDate();return!n||!e||this._dateAdapter.compareDate(n,e)>=0?null:{matDatepickerMax:{max:n,actual:e}}},this._lastValueValid=!1,this._localeSubscription=e.localeChanges.subscribe(()=>{this.value=this.value})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(t){t=this._dateAdapter.deserialize(t),this._lastValueValid=this._isValidValue(t),t=this._dateAdapter.getValidDateOrNull(t);const e=this.value;this._assignValue(t),this._formatValue(t),this._dateAdapter.sameDate(e,t)||this._valueChange.emit(t)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(t){const e=G_(t),n=this._elementRef.nativeElement;this._disabled!==e&&(this._disabled=e,this.stateChanges.next(void 0)),e&&this._isInitialized&&n.blur&&n.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(t){this._model=t,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(t=>{if(t.source!==this){const e=this._getValueFromModel(t.selection);this._lastValueValid=this._isValidValue(e),this._cvaOnChange(e),this._onTouched(),this._formatValue(e),this._canEmitChangeEvent(t)&&(this.dateInput.emit(new sx(this,this._elementRef.nativeElement)),this.dateChange.emit(new sx(this,this._elementRef.nativeElement))),this._outsideValueChanged&&this._outsideValueChanged()}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(t){(function(t,e){const n=Object.keys(t);for(let r of n){const{previousValue:n,currentValue:i}=t[r];if(!e.isDateInstance(n)||!e.isDateInstance(i))return!0;if(!e.sameDate(n,i))return!0}return!1})(t,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this._valueChange.complete(),this.stateChanges.complete()}registerOnValidatorChange(t){this._validatorOnChange=t}validate(t){return this._validator?this._validator(t):null}writeValue(t){this.value=t}registerOnChange(t){this._cvaOnChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_onKeydown(t){t.altKey&&40===t.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),t.preventDefault())}_onInput(t){const e=this._lastValueValid;let n=this._dateAdapter.parse(t,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(n),n=this._dateAdapter.getValidDateOrNull(n),this._dateAdapter.sameDate(n,this.value)?(t&&!this.value&&this._cvaOnChange(n),e!==this._lastValueValid&&this._validatorOnChange()):(this._assignValue(n),this._cvaOnChange(n),this._valueChange.emit(n),this.dateInput.emit(new sx(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new sx(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(t){this._elementRef.nativeElement.value=t?this._dateAdapter.format(t,this._dateFormats.display.dateInput):""}_assignValue(t){this._model?(this._assignValueToModel(t),this._pendingValue=null):this._pendingValue=t}_isValidValue(t){return!t||this._dateAdapter.isValid(t)}_parentDisabled(){return!1}_matchesFilter(t){const e=this._getDateFilter();return!e||e(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(bk,8),r.Lb(yk,8))},t.\u0275dir=r.Gb({type:t,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[r.zb]}),t})();const ax={provide:Pv,useExisting:Object(r.V)(()=>ux),multi:!0},cx={provide:Hv,useExisting:Object(r.V)(()=>ux),multi:!0};let ux=(()=>{class t extends ox{constructor(t,e,n,r){super(t,e,n),this._formField=r,this._validator=Qv.compose(super._getValidators())}set matDatepicker(t){t&&(this._datepicker=t,this._registerModel(t._registerInput(this)))}get min(){return this._min}set min(t){const e=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(e,this._min)||(this._min=e,this._validatorOnChange())}get max(){return this._max}set max(t){const e=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(e,this._max)||(this._max=e,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(t){const e=this._matchesFilter(this.value);this._dateFilter=t,this._matchesFilter(this.value)!==e&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(t){return t}_assignValueToModel(t){this._model&&this._model.updateSelection(t,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_canEmitChangeEvent(){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(bk,8),r.Lb(yk,8),r.Lb(lO,8))},t.\u0275dir=r.Gb({type:t,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(t,e){1&t&&r.Yb("input",function(t){return e._onInput(t.target.value)})("change",function(){return e._onChange()})("blur",function(){return e._onBlur()})("keydown",function(t){return e._onKeydown(t)}),2&t&&(r.Tb("disabled",e.disabled),r.Cb("aria-haspopup",e._datepicker?"dialog":null)("aria-owns",(null==e._datepicker?null:e._datepicker.opened)&&e._datepicker.id||null)("min",e.min?e._dateAdapter.toIso8601(e.min):null)("max",e.max?e._dateAdapter.toIso8601(e.max):null)("data-mat-calendar",e._datepicker?e._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[r.Ab([ax,cx,{provide:dO,useExisting:t}]),r.yb]}),t})(),lx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t,selectors:[["","matDatepickerToggleIcon",""]]}),t})(),hx=(()=>{class t{constructor(t,e,n){this._intl=t,this._changeDetectorRef=e,this._stateChanges=ke.a.EMPTY;const r=Number(n);this.tabIndex=r||0===r?r:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(t){this._disabled=G_(t)}ngOnChanges(t){t.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(t){this.datepicker&&!this.disabled&&(this.datepicker.open(),t.stopPropagation())}_watchStateChanges(){const t=this.datepicker?this.datepicker._stateChanges:Object(Ct.a)(),e=this.datepicker&&this.datepicker._datepickerInput?this.datepicker._datepickerInput.stateChanges:Object(Ct.a)(),n=this.datepicker?Object(Xy.a)(this.datepicker.openedStream,this.datepicker.closedStream):Object(Ct.a)();this._stateChanges.unsubscribe(),this._stateChanges=Object(Xy.a)(this._intl.changes,t,e,n).subscribe(()=>this._changeDetectorRef.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(AO),r.Lb(r.h),r.Vb("tabindex"))},t.\u0275cmp=r.Fb({type:t,selectors:[["mat-datepicker-toggle"]],contentQueries:function(t,e,n){if(1&t&&r.Eb(n,lx,!0),2&t){let t;r.ic(t=r.Zb())&&(e._customIcon=t.first)}},viewQuery:function(t,e){if(1&t&&r.wc(SO,!0),2&t){let t;r.ic(t=r.Zb())&&(e._button=t.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(t,e){1&t&&r.Yb("focus",function(){return e._button.focus()}),2&t&&(r.Cb("tabindex",e.disabled?null:-1)("data-mat-calendar",e.datepicker?e.datepicker.id:null),r.Db("mat-datepicker-toggle-active",e.datepicker&&e.datepicker.opened)("mat-accent",e.datepicker&&"accent"===e.datepicker.color)("mat-warn",e.datepicker&&"warn"===e.datepicker.color))},inputs:{tabIndex:"tabIndex",disabled:"disabled",datepicker:["for","datepicker"],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[r.zb],ngContentSelectors:xO,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple","click"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(t,e){1&t&&(r.ec(OO),r.Qb(0,"button",0,1),r.Yb("click",function(t){return e._open(t)}),r.sc(2,kO,2,0,"svg",2),r.dc(3),r.Pb()),2&t&&(r.fc("disabled",e.disabled)("disableRipple",e.disableRipple),r.Cb("aria-haspopup",e.datepicker?"dialog":null)("aria-label",e._intl.openCalendarLabel)("tabindex",e.disabled?-1:e.tabIndex),r.Bb(2),r.fc("ngIf",!e._customIcon))},directives:[zk,R],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),dx=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[AO,JO],imports:[[F,qk,aO,EC,Ew,Gw,hk],Fw]}),t})(),fx=(()=>{class t{constructor(t,e){this.manageData=t,this.schoolService=e,this.schoolName=""}ngOnInit(){}createSchool(){this.schoolService.addSchool(this.schoolName)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(wi),r.Lb(Iv))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-add-school"]],decls:13,vars:3,consts:[[1,"add-school-div"],["type","text",3,"ngModel","ngModelChange"],["matInput","",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],[3,"mat-dialog-close","click"]],template:function(t,e){if(1&t&&(r.Qb(0,"div",0),r.Qb(1,"label"),r.tc(2,"School name:"),r.Pb(),r.Qb(3,"input",1),r.Yb("ngModelChange",function(t){return e.schoolName=t}),r.Pb(),r.Mb(4,"br"),r.Qb(5,"label"),r.tc(6,"Deadline for application"),r.Pb(),r.Mb(7,"input",2),r.Mb(8,"mat-datepicker-toggle",3),r.Mb(9,"mat-datepicker",null,4),r.Qb(11,"button",5),r.Yb("click",function(){return e.createSchool()}),r.tc(12,"Save"),r.Pb(),r.Pb()),2&t){const t=r.jc(10);r.Bb(3),r.fc("ngModel",e.schoolName),r.Bb(4),r.fc("matDatepicker",t),r.Bb(1),r.fc("for",t)}},directives:[Fv,i_,L_,ux,hx,uO,rx,oO],styles:[""]}),t})(),px=(()=>{class t{constructor(t){this.schoolService=t,this.newSchool=""}ngOnInit(){}editSchool(){this.schoolService.editSchool(this.schoolService.clickedSchool,this.newSchool)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Iv))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-edit-school"]],decls:5,vars:1,consts:[["type","text",3,"ngModel","ngModelChange"],[3,"mat-dialog-close","click"]],template:function(t,e){1&t&&(r.Qb(0,"label"),r.tc(1,"Edit School Name here"),r.Pb(),r.Qb(2,"input",0),r.Yb("ngModelChange",function(t){return e.newSchool=t}),r.Pb(),r.Qb(3,"button",1),r.Yb("click",function(){return e.editSchool()}),r.tc(4,"Submit"),r.Pb()),2&t&&(r.Bb(2),r.fc("ngModel",e.newSchool))},directives:[Fv,i_,L_,oO],styles:[""]}),t})();var mx=n("z6cu"),gx=n("w1tV");class bx{}class yx{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof yx?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new yx;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof yx?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class vx{encodeKey(t){return _x(t)}encodeValue(t){return _x(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function _x(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class wx{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new vx,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new wx({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function Cx(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Ex(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Sx(t){return"undefined"!=typeof FormData&&t instanceof FormData}class kx{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new yx),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new wx,this.urlWithParams=e}serializeBody(){return null===this.body?null:Cx(this.body)||Ex(this.body)||Sx(this.body)||"string"==typeof this.body?this.body:this.body instanceof wx?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Sx(this.body)?null:Ex(this.body)?this.body.type||null:Cx(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof wx?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new kx(e,n,i,{params:c,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}var Ox=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class xx extends class{constructor(t,e=200,n="OK"){this.headers=t.headers||new yx,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=Ox.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new xx({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function Ax(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Tx=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof kx)r=t;else{let i=void 0;i=n.headers instanceof yx?n.headers:new yx(n.headers);let s=void 0;n.params&&(s=n.params instanceof wx?n.params:new wx({fromObject:n.params})),r=new kx(t,e,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(Ct.a)(r).pipe(Ce(t=>this.handler.handle(t)));if(t instanceof kx||"events"===n.observe)return i;const s=i.pipe(Qt(t=>t instanceof xx));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(Object(Ht.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(Object(Ht.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(Object(Ht.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(Object(Ht.a)(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new wx).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Ax(n,e))}post(t,e,n={}){return this.request("POST",t,Ax(n,e))}put(t,e,n={}){return this.request("PUT",t,Ax(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(bx))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const Ix=["*"];function Dx(t){return Error(`Unable to find icon with the name "${t}"`)}function jx(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function Rx(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class Px{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let Nx=(()=>{class t{constructor(t,e,n,r){this._httpClient=t,this._sanitizer=e,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,r){return this._addSvgIconConfig(t,e,new Px(n,null,r))}addSvgIconLiteralInNamespace(t,e,n,i){const s=this._sanitizer.sanitize(r.J.HTML,n);if(!s)throw Rx(n);return this._addSvgIconConfig(t,e,new Px("",s,i))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new Px(e,null,n))}addSvgIconSetLiteralInNamespace(t,e,n){const i=this._sanitizer.sanitize(r.J.HTML,e);if(!i)throw Rx(e);return this._addSvgIconSetConfig(t,new Px("",i,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(r.J.RESOURCE_URL,t);if(!e)throw jx(t);const n=this._cachedIconsByUrl.get(e);return n?Object(Ct.a)(Lx(n)):this._loadSvgIconFromConfig(new Px(t,null)).pipe(Object(Se.a)(t=>this._cachedIconsByUrl.set(e,t)),Object(Ht.a)(t=>Lx(t)))}getNamedSvgIcon(t,e=""){const n=Vx(e,t),r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);const i=this._iconSetConfigs.get(e);return i?this._getSvgFromIconSetConfigs(t,i):Object(mx.a)(Dx(n))}ngOnDestroy(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Object(Ct.a)(Lx(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Object(Ht.a)(t=>Lx(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?Object(Ct.a)(n):jv(e.filter(t=>!t.svgText).map(t=>this._loadSvgIconSetFromConfig(t).pipe(ye(e=>{const n=this._sanitizer.sanitize(r.J.RESOURCE_URL,t.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${n} failed: ${e.message}`)),Object(Ct.a)(null)})))).pipe(Object(Ht.a)(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw Dx(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.svgText&&r.svgText.indexOf(t)>-1){const e=this._svgElementFromConfig(r),n=this._extractSvgIconFromSet(e,t,r.options);if(n)return n}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Object(Se.a)(e=>t.svgText=e),Object(Ht.a)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Object(Ct.a)(null):this._fetchIcon(t).pipe(Object(Se.a)(e=>t.svgText=e))}_extractSvgIconFromSet(t,e,n){const r=t.querySelector(`[id="${e}"]`);if(!r)return null;const i=r.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,n);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),n);const s=this._svgElementFromString("<svg></svg>");return s.appendChild(i),this._setSvgAttributes(s,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let r=0;r<n.length;r++){const{name:t,value:i}=n[r];"id"!==t&&e.setAttribute(t,i)}for(let r=0;r<t.childNodes.length;r++)t.childNodes[r].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[r].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchIcon(t){var e;const{url:n,options:i}=t,s=null!==(e=null==i?void 0:i.withCredentials)&&void 0!==e&&e;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const o=this._sanitizer.sanitize(r.J.RESOURCE_URL,n);if(!o)throw jx(n);const a=this._inProgressUrlFetches.get(o);if(a)return a;const c=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(Oe(()=>this._inProgressUrlFetches.delete(o)),Object(gx.a)());return this._inProgressUrlFetches.set(o,c),c}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(Vx(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}_svgElementFromConfig(t){if(!t.svgElement){const e=this._svgElementFromString(t.svgText);this._setSvgAttributes(e,t.options),t.svgElement=e}return t.svgElement}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Tx,8),r.Ub(gt),r.Ub(a,8),r.Ub(r.m))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(Tx,8),Object(r.Ub)(gt),Object(r.Ub)(a,8),Object(r.Ub)(r.m))},token:t,providedIn:"root"}),t})();function Lx(t){return t.cloneNode(!0)}function Vx(t,e){return t+":"+e}class Mx{constructor(t){this._elementRef=t}}const Fx=fk(Mx),Ux=new r.r("mat-icon-location",{providedIn:"root",factory:function(){const t=Object(r.W)(a),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),Bx=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Hx=Bx.map(t=>`[${t}]`).join(", "),zx=/^url\(['"]?#(.*?)['"]?\)$/;let qx=(()=>{class t extends Fx{constructor(t,e,n,r,i){super(t),this._iconRegistry=e,this._location=r,this._errorHandler=i,this._inline=!1,this._currentIconFetch=ke.a.EMPTY,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=G_(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const e=this._cleanupFontValue(t);e!==this._fontSet&&(this._fontSet=e,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const e=this._cleanupFontValue(t);e!==this._fontIcon&&(this._fontIcon=e,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let r=0;r<e.length;r++)e[r].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(Hx),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<e.length;r++)Bx.forEach(t=>{const i=e[r],s=i.getAttribute(t),o=s?s.match(zx):null;if(o){let e=n.get(i);e||(e=[],n.set(i,e)),e.push({name:t,value:o[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[e,n]=this._splitIconName(t);e&&(this._svgNamespace=e),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,e).pipe(le(1)).subscribe(t=>this._setSvgElement(t),t=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${e}:${n}! ${t.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(Nx),r.Vb("aria-hidden"),r.Lb(Ux),r.Lb(r.m))},t.\u0275cmp=r.Fb({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Cb("data-mat-icon-type",e._usingFontIcon()?"font":"svg")("data-mat-icon-name",e._svgName||e.fontIcon)("data-mat-icon-namespace",e._svgNamespace||e.fontSet),r.Db("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[r.yb],ngContentSelectors:Ix,decls:1,vars:0,template:function(t,e){1&t&&(r.ec(),r.dc(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),Qx=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[hk],hk]}),t})();const Yx=["*",[["mat-card-footer"]]],Wx=["*","mat-card-footer"];let Gx=(()=>{class t{constructor(t){this._animationMode=t}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(ok,8))},t.\u0275cmp=r.Fb({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,e){2&t&&r.Db("_mat-animation-noopable","NoopAnimations"===e._animationMode)},exportAs:["matCard"],ngContentSelectors:Wx,decls:2,vars:0,template:function(t,e){1&t&&(r.ec(Yx),r.dc(0),r.dc(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child,.mat-card-actions .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),t})(),$x=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[hk],hk]}),t})();function Kx(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",3),r.Qb(1,"mat-card",4),r.Yb("click",function(){r.kc(t);const n=e.$implicit;return r.cc().openSchool(n.school)}),r.tc(2),r.Pb(),r.Qb(3,"mat-icon",5),r.Yb("click",function(){r.kc(t);const n=e.$implicit;return r.cc().deleteSchool(n.school)}),r.tc(4,"delete"),r.Pb(),r.Qb(5,"mat-icon",6),r.Yb("click",function(){r.kc(t);const n=e.$implicit;return r.cc().editSchool(n.school)}),r.tc(6,"edit"),r.Pb(),r.Pb()}if(2&t){const t=e.$implicit;r.Bb(2),r.uc(t.school)}}let Zx=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.dialog=e,this.manageData=n,this.schoolService=r,this.firestore=i,this.schoolName=this.schoolService.getSchools()}ngOnInit(){return _i(this,void 0,void 0,function*(){this.firestore.collection("/SchoolList").valueChanges().subscribe(t=>{let e;e=t,this.schoolService.setSchools(e),this.schoolName=this.schoolService.getSchools()})})}openSchool(t){this.schoolService.setCurrentSchool(t),sessionStorage.setItem("schoolSelected",t),this.router.navigate(["/to-do-list"])}addschool(){this.dialog.open(fx)}deleteSchool(t){this.schoolService.deleteSchool(t)}editSchool(t){this.schoolService.clickedSchool=t,this.dialog.open(px)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(ti),r.Lb(sO),r.Lb(wi),r.Lb(Iv),r.Lb(Av))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-home-page"]],decls:7,vars:1,consts:[[1,"header"],["class","content",4,"ngFor","ngForOf"],[1,"add-school",3,"click"],[1,"content"],[1,"school-list",3,"click"],[1,"delete-school",3,"click"],[1,"edit-school",3,"click"]],template:function(t,e){1&t&&(r.Qb(0,"h4",0),r.tc(1,"Add the list of schools you plan to apply for"),r.Pb(),r.sc(2,Kx,7,1,"div",1),r.Qb(3,"div"),r.Qb(4,"button",2),r.Yb("click",function(){return e.addschool()}),r.Qb(5,"mat-icon"),r.tc(6,"add"),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Bb(2),r.fc("ngForOf",e.schoolName))},directives:[D,qx,Gx],styles:[".content[_ngcontent-%COMP%]{display:grid;grid-template-columns:90% 5% 5%;border:solid grey;margin-bottom:.5vh}.school-list[_ngcontent-%COMP%]{grid-column-start:1;cursor:pointer;background-color:#fff;color:#000}.add-school[_ngcontent-%COMP%]{border-radius:50%;position:fixed;bottom:5px;right:5px;background-color:#000;color:#fff}.header[_ngcontent-%COMP%]{text-align:center;font-weight:700}.delete-school[_ngcontent-%COMP%]{grid-column-start:2;cursor:pointer}"]}),t})(),Jx=(()=>{class t{constructor(t){this.router=t}ngOnInit(){}redirectHome(){this.router.navigate(["/home"])}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(ti))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-sign-up"]],decls:13,vars:0,consts:[[1,"whole-sign-up"],[1,"sign-up"],["type","text","placeholder","Username",1,"create-username"],["type","password","placeholder","Password",1,"create-password"],["type","password","placeholder","Confirm Password",1,"confirm-password"],[3,"mat-dialog-close","click"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"h4"),r.tc(3,"Sign Up"),r.Pb(),r.Pb(),r.Qb(4,"div"),r.Mb(5,"input",2),r.Mb(6,"br"),r.Mb(7,"input",3),r.Mb(8,"br"),r.Mb(9,"input",4),r.Mb(10,"br"),r.Qb(11,"button",5),r.Yb("click",function(){return e.redirectHome()}),r.tc(12,"Create account"),r.Pb(),r.Pb(),r.Pb())},directives:[oO],styles:[".whole-sign-up[_ngcontent-%COMP%]{height:40vh;width:25vw}.sign-up[_ngcontent-%COMP%]{text-align:center;font-size:70px}"]}),t})(),Xx=(()=>{class t{constructor(t,e){this.dialog=t,this.router=e,this.username="",this.password=""}ngOnInit(){}signIn(){console.log("Inside sign in"),""===this.username?alert("Username is required"):(sessionStorage.setItem("userName",this.username),""==this.password?alert("Password is required"):(sessionStorage.setItem("passwordEntered","true"),this.router.navigate(["/home"])))}createNewAccount(){this.dialog.open(Jx)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(sO),r.Lb(ti))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-log-in"]],decls:15,vars:2,consts:[[1,"log-in-parent"],[1,"image-div"],["src","https://images.unsplash.com/photo-1541339907198-e08756dedf3f?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80",1,"grad-imahe"],[1,"log-in"],[1,"inner-elements"],["type","text","placeholder","Username",1,"username-input",3,"ngModel","ngModelChange"],["type","password","placeholder","Password",1,"password-input",3,"ngModel","ngModelChange"],[1,"sign-in-button",3,"click"],["mat-raised-button","",1,"new-account-button",3,"click"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Mb(2,"img",2),r.Pb(),r.Qb(3,"div",3),r.Qb(4,"div",4),r.Qb(5,"div"),r.Qb(6,"input",5),r.Yb("ngModelChange",function(t){return e.username=t}),r.Pb(),r.Mb(7,"br"),r.Qb(8,"input",6),r.Yb("ngModelChange",function(t){return e.password=t}),r.Pb(),r.Pb(),r.Qb(9,"div"),r.Qb(10,"button",7),r.Yb("click",function(){return e.signIn()}),r.tc(11,"Sign in"),r.Pb(),r.Mb(12,"br"),r.Qb(13,"button",8),r.Yb("click",function(){return e.createNewAccount()}),r.tc(14,"Create New Account"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Bb(6),r.fc("ngModel",e.username),r.Bb(2),r.fc("ngModel",e.password))},directives:[Fv,i_,L_],styles:[".log-in-parent[_ngcontent-%COMP%]{display:grid;grid-template-columns:70% 30%;height:84%}.grad-image[_ngcontent-%COMP%]{grid-column-start:1;height:100%}.log-in[_ngcontent-%COMP%]{display:table;height:50%;width:50%}.inner-elements[_ngcontent-%COMP%], .log-in[_ngcontent-%COMP%]{grid-column-start:2;margin:auto}.inner-elements[_ngcontent-%COMP%]{border:solid #000;display:table-cell;padding:0 10%;vertical-align:middle;border-radius:5%;box-shadow:10px 10px #888;background-color:#fff}.new-account-button[_ngcontent-%COMP%], .password-input[_ngcontent-%COMP%], .sign-in-button[_ngcontent-%COMP%], .username-input[_ngcontent-%COMP%]{margin-bottom:3%;box-shadow:1px 1px #888;border-radius:5%;height:3vh}.password-input[_ngcontent-%COMP%], .username-input[_ngcontent-%COMP%]{width:10vw}.new-account-button[_ngcontent-%COMP%]{height:auto}"]}),t})(),tA=(()=>{class t{constructor(t,e){this.manageData=t,this.schoolService=e,this.newTask=""}ngOnInit(){}editTask(){this.schoolService.editGivenTask(this.schoolService.getCurrentSchool(),this.schoolService.clickedTask,this.newTask)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(wi),r.Lb(Iv))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-edit-task"]],decls:5,vars:1,consts:[["type","text",3,"ngModel","ngModelChange"],[3,"mat-dialog-close","click"]],template:function(t,e){1&t&&(r.Qb(0,"label"),r.tc(1,"Edit task here"),r.Pb(),r.Qb(2,"input",0),r.Yb("ngModelChange",function(t){return e.newTask=t}),r.Pb(),r.Qb(3,"button",1),r.Yb("click",function(){return e.editTask()}),r.tc(4,"Submit"),r.Pb()),2&t&&(r.Bb(2),r.fc("ngModel",e.newTask))},directives:[Fv,i_,L_,oO],styles:[""]}),t})();const eA=["input"],nA=function(){return{enterDuration:150}},rA=["*"],iA=new r.r("mat-checkbox-default-options",{providedIn:"root",factory:sA});function sA(){return{color:"accent",clickAction:"check-indeterminate"}}let oA=0;const aA=sA(),cA={provide:Pv,useExisting:Object(r.V)(()=>dA),multi:!0};class uA{}class lA{constructor(t){this._elementRef=t}}const hA=mk(fk(pk(dk(lA))));let dA=(()=>{class t extends hA{constructor(t,e,n,i,s,o,a){super(t),this._changeDetectorRef=e,this._focusMonitor=n,this._ngZone=i,this._animationMode=o,this._options=a,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++oA,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new r.n,this.indeterminateChange=new r.n,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||aA,this.color=this.defaultColor=this._options.color||aA.color,this.tabIndex=parseInt(s)||0}get inputId(){return(this.id||this._uniqueId)+"-input"}get required(){return this._required}set required(t){this._required=G_(t)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{t||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(t){t!=this.checked&&(this._checked=t,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){const e=G_(t);e!==this.disabled&&(this._disabled=e,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const e=t!=this._indeterminate;this._indeterminate=G_(t),e&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(t){let e=this._currentCheckState,n=this._elementRef.nativeElement;if(e!==t&&(this._currentAnimationClass.length>0&&n.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(e,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){n.classList.add(this._currentAnimationClass);const t=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{n.classList.remove(t)},1e3)})}}_emitChangeEvent(){const t=new uA;t.source=this,t.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(t)}toggle(){this.checked=!this.checked}_onInputClick(t){var e;const n=null===(e=this._options)||void 0===e?void 0:e.clickAction;t.stopPropagation(),this.disabled||"noop"===n?this.disabled||"noop"!==n||(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==n&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(t="keyboard",e){this._focusMonitor.focusVia(this._inputElement,t,e)}_onInteractionEvent(t){t.stopPropagation()}_getAnimationClassForCheckStateTransition(t,e){if("NoopAnimations"===this._animationMode)return"";let n="";switch(t){case 0:if(1===e)n="unchecked-checked";else{if(3!=e)return"";n="unchecked-indeterminate"}break;case 2:n=1===e?"unchecked-checked":"unchecked-indeterminate";break;case 1:n=2===e?"checked-unchecked":"checked-indeterminate";break;case 3:n=1===e?"indeterminate-checked":"indeterminate-unchecked"}return"mat-checkbox-anim-"+n}_syncIndeterminate(t){const e=this._inputElement;e&&(e.nativeElement.indeterminate=t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(r.h),r.Lb(gw),r.Lb(r.A),r.Vb("tabindex"),r.Lb(ok,8),r.Lb(iA,8))},t.\u0275cmp=r.Fb({type:t,selectors:[["mat-checkbox"]],viewQuery:function(t,e){if(1&t&&(r.wc(eA,!0),r.wc(Lk,!0)),2&t){let t;r.ic(t=r.Zb())&&(e._inputElement=t.first),r.ic(t=r.Zb())&&(e.ripple=t.first)}},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(t,e){2&t&&(r.Tb("id",e.id),r.Cb("tabindex",null),r.Db("mat-checkbox-indeterminate",e.indeterminate)("mat-checkbox-checked",e.checked)("mat-checkbox-disabled",e.disabled)("mat-checkbox-label-before","before"==e.labelPosition)("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",labelPosition:"labelPosition",name:"name",required:"required",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",ariaDescribedby:["aria-describedby","ariaDescribedby"],value:"value"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[r.Ab([cA]),r.yb],ngContentSelectors:rA,decls:17,vars:20,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(t,e){if(1&t&&(r.ec(),r.Qb(0,"label",0,1),r.Qb(2,"span",2),r.Qb(3,"input",3,4),r.Yb("change",function(t){return e._onInteractionEvent(t)})("click",function(t){return e._onInputClick(t)}),r.Pb(),r.Qb(5,"span",5),r.Mb(6,"span",6),r.Pb(),r.Mb(7,"span",7),r.Qb(8,"span",8),r.bc(),r.Qb(9,"svg",9),r.Mb(10,"path",10),r.Pb(),r.ac(),r.Mb(11,"span",11),r.Pb(),r.Pb(),r.Qb(12,"span",12,13),r.Yb("cdkObserveContent",function(){return e._onLabelTextChange()}),r.Qb(14,"span",14),r.tc(15,"\xa0"),r.Pb(),r.dc(16),r.Pb(),r.Pb()),2&t){const t=r.jc(1),n=r.jc(13);r.Cb("for",e.inputId),r.Bb(2),r.Db("mat-checkbox-inner-container-no-side-margin",!n.textContent||!n.textContent.trim()),r.Bb(1),r.fc("id",e.inputId)("required",e.required)("checked",e.checked)("disabled",e.disabled)("tabIndex",e.tabIndex),r.Cb("value",e.value)("name",e.name)("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby)("aria-checked",e._getAriaChecked())("aria-describedby",e.ariaDescribedby),r.Bb(2),r.fc("matRippleTrigger",t)("matRippleDisabled",e._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",r.gc(19,nA))}},directives:[Lk,ew],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-frame{border-style:dotted}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}\n"],encapsulation:2,changeDetection:0}),t})(),fA=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)}}),t})(),pA=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[Vk,hk,nw,fA],hk,fA]}),t})();const mA={provide:r.b,useFactory:function(t,e){return()=>{if(U(e)){const e=Array.from(t.querySelectorAll(`[class*=${gA}]`)),n=/\bflex-layout-.+?\b/g;e.forEach(t=>{t.classList.contains(gA+"ssr")&&t.parentNode?t.parentNode.removeChild(t):t.className.replace(n,"")})}}},deps:[a,r.C],multi:!0},gA="flex-layout-";let bA=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[mA]}),t})();class yA{constructor(t=!1,e="all",n="",r="",i=0){this.matches=t,this.mediaQuery=e,this.mqAlias=n,this.suffix=r,this.priority=i,this.property=""}clone(){return new yA(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let vA=(()=>{class t{constructor(){this.stylesheet=new Map}addStyleToElement(t,e,n){const r=this.stylesheet.get(t);r?r.set(e,n):this.stylesheet.set(t,new Map([[e,n]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(t,e){const n=this.stylesheet.get(t);let r="";if(n){const t=n.get(e);"number"!=typeof t&&"string"!=typeof t||(r=t+"")}return r}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const _A={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},wA=new r.r("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>_A}),CA=new r.r("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),EA=new r.r("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function SA(t,e){return t=t?t.clone():new yA,e&&(t.mqAlias=e.alias,t.mediaQuery=e.mediaQuery,t.suffix=e.suffix,t.priority=e.priority),t}const kA="inline",OA=["row","column","row-reverse","column-reverse"];function xA(t){if(t)switch(t.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":t="wrap-reverse";break;case"no":case"none":case"nowrap":t="nowrap";break;default:t="wrap"}return t}let AA=(()=>{class t{constructor(t,e,n,r){this.elementRef=t,this.styleBuilder=e,this.styler=n,this.marshal=r,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new St.a,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(t){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,this.marshal.activatedAlias)}ngOnChanges(t){Object.keys(t).forEach(e=>{if(-1!==this.inputs.indexOf(e)){const n=e.split(".").slice(1).join(".");this.setValue(t[e].currentValue,n)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(t=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),t)}addStyles(t,e){const n=this.styleBuilder,r=n.shouldCache;let i=this.styleCache.get(t);i&&r||(i=n.buildStyles(t,e),r&&this.styleCache.set(t,i)),this.mru=Object.assign({},i),this.applyStyleToElement(i),n.sideEffect(t,i,e)}clearStyles(){Object.keys(this.mru).forEach(t=>{this.mru[t]=""}),this.applyStyleToElement(this.mru),this.mru={}}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(t,e=!1){if(t){const[n,r]=this.styler.getFlowDirection(t);if(!r&&e){const e=function(t){let[e,n,r]=function(t){t=t?t.toLowerCase():"";let[e,n,r]=t.split(" ");return OA.find(t=>t===e)||(e=OA[0]),n===kA&&(n=r!==kA?r:"",r=kA),[e,xA(n),!!r]}(t);return function(t,e=null,n=!1){return{display:n?"inline-flex":"flex","box-sizing":"border-box","flex-direction":t,"flex-wrap":e||null}}(e,n,r)}(n);this.styler.applyStyleToElements(e,[t])}return n.trim()}return"row"}hasWrap(t){return this.styler.hasWrap(t)}applyStyleToElement(t,e,n=this.nativeElement){this.styler.applyStyleToElement(n,t,e)}setValue(t,e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,e)}updateWithValue(t){this.currentValue!==t&&(this.addStyles(t),this.currentValue=t)}}return t.\u0275fac=function(t){r.Xb()},t.\u0275dir=r.Gb({type:t,features:[r.zb]}),t})();const TA=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],IA="(orientation: portrait) and (max-width: 599.98px)",DA="(orientation: landscape) and (max-width: 959.98px)",jA="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",RA="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",PA="(orientation: portrait) and (min-width: 840px)",NA="(orientation: landscape) and (min-width: 1280px)",LA={HANDSET:`${IA}, ${DA}`,TABLET:`${jA} , ${RA}`,WEB:`${PA}, ${NA} `,HANDSET_PORTRAIT:""+IA,TABLET_PORTRAIT:jA+" ",WEB_PORTRAIT:""+PA,HANDSET_LANDSCAPE:""+DA,TABLET_LANDSCAPE:""+RA,WEB_LANDSCAPE:""+NA},VA=[{alias:"handset",priority:2e3,mediaQuery:LA.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:LA.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:LA.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:LA.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:LA.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:LA.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:LA.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:LA.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:LA.WEB_PORTRAIT,overlapping:!0}],MA=/(\.|-|_)/g;function FA(t){let e=t.length>0?t.charAt(0):"",n=t.length>1?t.slice(1):"";return e.toUpperCase()+n}const UA=new r.r("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const t=Object(r.W)(EA),e=Object(r.W)(wA),n=[].concat.apply([],(t||[]).map(t=>Array.isArray(t)?t:[t]));return function(t,e=[]){const n={};return t.forEach(t=>{n[t.alias]=t}),e.forEach(t=>{n[t.alias]?function(t,...e){if(null==t)throw TypeError("Cannot convert undefined or null to object");for(let n of e)if(null!=n)for(let e in n)n.hasOwnProperty(e)&&(t[e]=n[e])}(n[t.alias],t):n[t.alias]=t}),(r=Object.keys(n).map(t=>n[t])).forEach(t=>{t.suffix||(t.suffix=function(t){return t.replace(MA,"|").split("|").map(FA).join("")}(t.alias),t.overlapping=!!t.overlapping)}),r;var r}((e.disableDefaultBps?[]:TA).concat(e.addOrientationBps?VA:[]),n)}});function BA(t,e){return(e&&e.priority||0)-(t&&t.priority||0)}function HA(t,e){return(t.priority||0)-(e.priority||0)}let zA=(()=>{class t{constructor(t){this.findByMap=new Map,this.items=[...t].sort(HA)}findByAlias(t){return t?this.findWithPredicate(t,e=>e.alias==t):null}findByQuery(t){return this.findWithPredicate(t,e=>e.mediaQuery==t)}get overlappings(){return this.items.filter(t=>1==t.overlapping)}get aliases(){return this.items.map(t=>t.alias)}get suffixes(){return this.items.map(t=>t.suffix?t.suffix:"")}findWithPredicate(t,e){let n=this.findByMap.get(t);return n||(n=this.items.find(e)||null,this.findByMap.set(t,n)),n||null}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(UA))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(UA))},token:t,providedIn:"root"}),t})(),qA=(()=>{class t{constructor(t,e,n){this._zone=t,this._platformId=e,this._document=n,this.source=new Ot(new yA(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const t=[];return this.registry.forEach((e,n)=>{e.matches&&t.push(n)}),t}isActive(t){const e=this.registry.get(t);return e?e.matches:this.registerQuery(t).some(t=>t.matches)}observe(t,e=!1){if(t&&t.length){const n=this._observable$.pipe(Qt(n=>!e||t.indexOf(n.mediaQuery)>-1)),r=new Rt.a(e=>{const n=this.registerQuery(t);if(n.length){const t=n.pop();n.forEach(t=>{e.next(t)}),this.source.next(t)}e.complete()});return Object(Xy.a)(r,n)}return this._observable$}registerQuery(t){const e=Array.isArray(t)?t:[t],n=[];return function(t,e){const n=t.filter(t=>!QA[t]);if(n.length>0){const t=n.join(", ");try{const r=e.createElement("style");r.setAttribute("type","text/css"),r.styleSheet||r.appendChild(e.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${t} {.fx-query-test{ }}\n`)),e.head.appendChild(r),n.forEach(t=>QA[t]=r)}catch(Ky){console.error(Ky)}}}(e,this._document),e.forEach(t=>{const e=e=>{this._zone.run(()=>this.source.next(new yA(e.matches,t)))};let r=this.registry.get(t);r||(r=this.buildMQL(t),r.addListener(e),this.pendingRemoveListenerFns.push(()=>r.removeListener(e)),this.registry.set(t,r)),r.matches&&n.push(new yA(!0,t))}),n}ngOnDestroy(){let t;for(;t=this.pendingRemoveListenerFns.pop();)t()}buildMQL(t){return function(t,e){return e&&window.matchMedia("all").addListener?window.matchMedia(t):{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{},onchange:null,addEventListener(){},removeEventListener(){},dispatchEvent:()=>!1}}(t,U(this._platformId))}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.A),r.Ub(r.C),r.Ub(a))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(r.A),Object(r.Ub)(r.C),Object(r.Ub)(a))},token:t,providedIn:"root"}),t})();const QA={},YA="print",WA={alias:YA,mediaQuery:YA,priority:1e3};let GA=(()=>{class t{constructor(t,e,n){this.breakpoints=t,this.layoutConfig=e,this._document=n,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.isPrinting=!1,this.queue=new $A,this.deactivations=[]}withPrintQuery(t){return[...t,YA]}isPrintEvent(t){return t.mediaQuery.startsWith(YA)}get printAlias(){return this.layoutConfig.printWithBreakpoints||[]}get printBreakPoints(){return this.printAlias.map(t=>this.breakpoints.findByAlias(t)).filter(t=>null!==t)}getEventBreakpoints({mediaQuery:t}){const e=this.breakpoints.findByQuery(t);return(e?[...this.printBreakPoints,e]:this.printBreakPoints).sort(BA)}updateEvent(t){let e=this.breakpoints.findByQuery(t.mediaQuery);return this.isPrintEvent(t)&&(e=this.getEventBreakpoints(t)[0],t.mediaQuery=e?e.mediaQuery:""),SA(t,e)}registerBeforeAfterPrintHooks(t){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const e=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(t,this.getEventBreakpoints(new yA(!0,YA))),t.updateStyles())},n=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(t),t.updateStyles())};this._document.defaultView.addEventListener("beforeprint",e),this._document.defaultView.addEventListener("afterprint",n),this.beforePrintEventListeners.push(e),this.afterPrintEventListeners.push(n)}interceptEvents(t){return this.registerBeforeAfterPrintHooks(t),e=>{this.isPrintEvent(e)?e.matches&&!this.isPrinting?(this.startPrinting(t,this.getEventBreakpoints(e)),t.updateStyles()):e.matches||!this.isPrinting||this.isPrintingBeforeAfterEvent||(this.stopPrinting(t),t.updateStyles()):this.collectActivations(e)}}blockPropagation(){return t=>!(this.isPrinting||this.isPrintEvent(t))}startPrinting(t,e){this.isPrinting=!0,t.activatedBreakpoints=this.queue.addPrintBreakpoints(e)}stopPrinting(t){t.activatedBreakpoints=this.deactivations,this.deactivations=[],this.queue.clear(),this.isPrinting=!1}collectActivations(t){if(!this.isPrinting||this.isPrintingBeforeAfterEvent)if(t.matches)this.isPrintingBeforeAfterEvent||(this.deactivations=[]);else{const e=this.breakpoints.findByQuery(t.mediaQuery);e&&(this.deactivations.push(e),this.deactivations.sort(BA))}}ngOnDestroy(){this.beforePrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("beforeprint",t)),this.afterPrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("afterprint",t))}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(zA),r.Ub(wA),r.Ub(a))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(zA),Object(r.Ub)(wA),Object(r.Ub)(a))},token:t,providedIn:"root"}),t})();class $A{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(t){return t.push(WA),t.sort(BA),t.forEach(t=>this.addBreakpoint(t)),this.printBreakpoints}addBreakpoint(t){t&&void 0===this.printBreakpoints.find(e=>e.mediaQuery===t.mediaQuery)&&(this.printBreakpoints=function(t){return!!t&&t.mediaQuery.startsWith(YA)}(t)?[t,...this.printBreakpoints]:[...this.printBreakpoints,t])}clear(){this.printBreakpoints=[]}}function KA(t){for(let e in t){let n=t[e]||"";switch(e){case"display":t.display="flex"===n?["-webkit-flex","flex"]:"inline-flex"===n?["-webkit-inline-flex","inline-flex"]:n;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":t["-webkit-"+e]=n;break;case"flex-direction":n=n||"row",t["-webkit-flex-direction"]=n,t["flex-direction"]=n;break;case"order":t.order=t["-webkit-"+e]=isNaN(+n)?"0":n}}return t}let ZA=(()=>{class t{constructor(t,e,n,r){this._serverStylesheet=t,this._serverModuleLoaded=e,this._platformId=n,this.layoutConfig=r}applyStyleToElement(t,e,n=null){let r={};"string"==typeof e&&(r[e]=n,e=r),r=this.layoutConfig.disableVendorPrefixes?e:KA(e),this._applyMultiValueStyleToElement(r,t)}applyStyleToElements(t,e=[]){const n=this.layoutConfig.disableVendorPrefixes?t:KA(t);e.forEach(t=>{this._applyMultiValueStyleToElement(n,t)})}getFlowDirection(t){const e="flex-direction";let n=this.lookupStyle(t,e);return[n||"row",this.lookupInlineStyle(t,e)||B(this._platformId)&&this._serverModuleLoaded?n:""]}hasWrap(t){return"wrap"===this.lookupStyle(t,"flex-wrap")}lookupAttributeValue(t,e){return t.getAttribute(e)||""}lookupInlineStyle(t,e){return U(this._platformId)?t.style.getPropertyValue(e):this._getServerStyle(t,e)}lookupStyle(t,e,n=!1){let r="";return t&&((r=this.lookupInlineStyle(t,e))||(U(this._platformId)?n||(r=getComputedStyle(t).getPropertyValue(e)):this._serverModuleLoaded&&(r=this._serverStylesheet.getStyleForElement(t,e)))),r?r.trim():""}_applyMultiValueStyleToElement(t,e){Object.keys(t).sort().forEach(n=>{const r=t[n],i=Array.isArray(r)?r:[r];i.sort();for(let t of i)t=t?t+"":"",U(this._platformId)||!this._serverModuleLoaded?U(this._platformId)?e.style.setProperty(n,t):this._setServerStyle(e,n,t):this._serverStylesheet.addStyleToElement(e,n,t)})}_setServerStyle(t,e,n){e=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const r=this._readStyleAttribute(t);r[e]=n||"",this._writeStyleAttribute(t,r)}_getServerStyle(t,e){return this._readStyleAttribute(t)[e]||""}_readStyleAttribute(t){const e={},n=t.getAttribute("style");if(n){const t=n.split(/;+/g);for(let n=0;n<t.length;n++){const r=t[n].trim();if(r.length>0){const t=r.indexOf(":");if(-1===t)throw new Error("Invalid CSS style: "+r);e[r.substr(0,t).trim()]=r.substr(t+1).trim()}}}return e}_writeStyleAttribute(t,e){let n="";for(const r in e)e[r]&&(n+=r+":"+e[r]+";");t.setAttribute("style",n)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(vA),r.Ub(CA),r.Ub(r.C),r.Ub(wA))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(vA),Object(r.Ub)(CA),Object(r.Ub)(r.C),Object(r.Ub)(wA))},token:t,providedIn:"root"}),t})(),JA=(()=>{class t{constructor(t,e,n){this.matchMedia=t,this.breakpoints=e,this.hook=n,this.activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new St.a,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?this.activatedBreakpoints[0].alias:""}onMediaChange(t){const e=this.findByQuery(t.mediaQuery);e&&((t=SA(t,e)).matches&&-1===this.activatedBreakpoints.indexOf(e)?(this.activatedBreakpoints.push(e),this.activatedBreakpoints.sort(BA),this.updateStyles()):t.matches||-1===this.activatedBreakpoints.indexOf(e)||(this.activatedBreakpoints.splice(this.activatedBreakpoints.indexOf(e),1),this.activatedBreakpoints.sort(BA),this.updateStyles()))}init(t,e,n,r,i=[]){XA(this.updateMap,t,e,n),XA(this.clearMap,t,e,r),this.buildElementKeyMap(t,e),this.watchExtraTriggers(t,e,i)}getValue(t,e,n){const r=this.elementMap.get(t);if(r){const t=void 0!==n?r.get(n):this.getActivatedValues(r,e);if(t)return t.get(e)}}hasValue(t,e){const n=this.elementMap.get(t);if(n){const t=this.getActivatedValues(n,e);if(t)return void 0!==t.get(e)||!1}return!1}setValue(t,e,n,r){let i=this.elementMap.get(t);if(i){const s=(i.get(r)||new Map).set(e,n);i.set(r,s),this.elementMap.set(t,i)}else i=(new Map).set(r,(new Map).set(e,n)),this.elementMap.set(t,i);const s=this.getValue(t,e);void 0!==s&&this.updateElement(t,e,s)}trackValue(t,e){return this.subject.asObservable().pipe(Qt(n=>n.element===t&&n.key===e))}updateStyles(){this.elementMap.forEach((t,e)=>{const n=new Set(this.elementKeyMap.get(e));let r=this.getActivatedValues(t);r&&r.forEach((t,r)=>{this.updateElement(e,r,t),n.delete(r)}),n.forEach(n=>{if(r=this.getActivatedValues(t,n),r){const t=r.get(n);this.updateElement(e,n,t)}else this.clearElement(e,n)})})}clearElement(t,e){const n=this.clearMap.get(t);if(n){const r=n.get(e);r&&(r(),this.subject.next({element:t,key:e,value:""}))}}updateElement(t,e,n){const r=this.updateMap.get(t);if(r){const i=r.get(e);i&&(i(n),this.subject.next({element:t,key:e,value:n}))}}releaseElement(t){const e=this.watcherMap.get(t);e&&(e.forEach(t=>t.unsubscribe()),this.watcherMap.delete(t));const n=this.elementMap.get(t);n&&(n.forEach((t,e)=>n.delete(e)),this.elementMap.delete(t))}triggerUpdate(t,e){const n=this.elementMap.get(t);if(n){const r=this.getActivatedValues(n,e);r&&(e?this.updateElement(t,e,r.get(e)):r.forEach((e,n)=>this.updateElement(t,n,e)))}}buildElementKeyMap(t,e){let n=this.elementKeyMap.get(t);n||(n=new Set,this.elementKeyMap.set(t,n)),n.add(e)}watchExtraTriggers(t,e,n){if(n&&n.length){let r=this.watcherMap.get(t);if(r||(r=new Map,this.watcherMap.set(t,r)),!r.get(e)){const i=Object(Xy.a)(...n).subscribe(()=>{const n=this.getValue(t,e);this.updateElement(t,e,n)});r.set(e,i)}}}findByQuery(t){return this.breakpoints.findByQuery(t)}getActivatedValues(t,e){for(let r=0;r<this.activatedBreakpoints.length;r++){const n=t.get(this.activatedBreakpoints[r].alias);if(n&&(void 0===e||n.has(e)&&null!=n.get(e)))return n}const n=t.get("");return void 0===e||n&&n.has(e)?n:void 0}observeActivations(){const t=this.breakpoints.items.map(t=>t.mediaQuery);this.matchMedia.observe(this.hook.withPrintQuery(t)).pipe(Object(Se.a)(this.hook.interceptEvents(this)),Qt(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(qA),r.Ub(zA),r.Ub(GA))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(qA),Object(r.Ub)(zA),Object(r.Ub)(GA))},token:t,providedIn:"root"}),t})();function XA(t,e,n,r){if(void 0!==r){let i=t.get(e);i||(i=new Map,t.set(e,i)),i.set(n,r)}}new Map;let tT=(()=>{class t extends AA{constructor(t,e,n,r,i,s,o){super(t,null,e,n),this.ngClassInstance=o,this.DIRECTIVE_KEY="ngClass",this.ngClassInstance||(this.ngClassInstance=new T(r,i,t,s)),this.init(),this.setValue("","")}set klass(t){this.ngClassInstance.klass=t,this.setValue(t,"")}updateWithValue(t){this.ngClassInstance.ngClass=t,this.ngClassInstance.ngDoCheck()}ngDoCheck(){this.ngClassInstance.ngDoCheck()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(ZA),r.Lb(JA),r.Lb(r.t),r.Lb(r.u),r.Lb(r.F),r.Lb(T,10))},t.\u0275dir=r.Gb({type:t,inputs:{klass:["class","klass"]},features:[r.yb]}),t})();const eT=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"];let nT=(()=>{class t extends tT{constructor(){super(...arguments),this.inputs=eT}}return t.\u0275fac=function(e){return rT(e||t)},t.\u0275dir=r.Gb({type:t,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},features:[r.yb]}),t})();const rT=r.Sb(nT);new WeakMap;let iT=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[bA]]}),t})();const sT=function(t){return{"gray-background":t}};function oT(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",6),r.Qb(1,"mat-checkbox",7),r.Yb("change",function(n){r.kc(t);const i=e.$implicit;return r.cc().OnChange(n,i.task)}),r.tc(2),r.Pb(),r.Qb(3,"mat-icon",8),r.Yb("click",function(){r.kc(t);const n=e.$implicit;return r.cc().deleteTask(n.task)}),r.tc(4,"delete"),r.Pb(),r.Qb(5,"mat-icon",9),r.Yb("click",function(){r.kc(t);const n=e.$implicit;return r.cc().editTask(n.task)}),r.tc(6,"edit"),r.Pb(),r.Pb()}if(2&t){const t=e.$implicit;r.Bb(1),r.fc("ngClass",r.hc(3,sT,t.checked))("checked",t.checked),r.Bb(1),r.uc(t.task)}}let aT=(()=>{class t{constructor(t,e,n,r){this.manageData=t,this.dialog=e,this.schoolService=n,this.firestore=r,this.clickedSchool=this.schoolService.getCurrentSchool(),this.listOfTask=this.schoolService.getTasksForSchool(this.schoolService.getCurrentSchool()),this.buttonCliked=!1,this.currentTask=""}ngOnInit(){console.log("here"),this.listOfTask=this.schoolService.getTasksForSchool(this.schoolService.getCurrentSchool()),this.firestore.collection("/TaskList").valueChanges().subscribe(t=>{let e;e=t,this.schoolService.setTasks(e),this.listOfTask=this.schoolService.getTasksForSchool(this.schoolService.getCurrentSchool())})}enterTask(){""===this.currentTask?this.currentTask="":this.schoolService.addTask(this.schoolService.getCurrentSchool(),this.currentTask),this.listOfTask=this.schoolService.getTasksForSchool(this.schoolService.getCurrentSchool()),console.log(this.listOfTask),this.buttonCliked=!1,this.currentTask=""}addtask(){this.buttonCliked=!0}OnChange(t,e){1==t.checked?this.schoolService.check(this.schoolService.getCurrentSchool(),e):0==t.checked&&this.schoolService.uncheck(this.schoolService.getCurrentSchool(),e)}deleteTask(t){this.schoolService.deleteGivenTask(this.schoolService.getCurrentSchool(),t),this.listOfTask=this.schoolService.getTasksForSchool(this.schoolService.getCurrentSchool()),console.log("after delete",this.listOfTask)}editTask(t){this.schoolService.clickedTask=t,this.dialog.open(tA)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(wi),r.Lb(sO),r.Lb(Iv),r.Lb(Av))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-to-do-list"]],decls:9,vars:3,consts:[[1,"header"],[1,"task-entry"],[1,"task-label"],["type","text",1,"task-input",3,"ngModel","ngModelChange","keydown.enter"],[1,"task-button",3,"click"],["class","icon-and-checkbox",4,"ngFor","ngForOf"],[1,"icon-and-checkbox"],[1,"checkbox",3,"ngClass","checked","change"],[1,"delete-task",3,"click"],[1,"edit-task",3,"click"]],template:function(t,e){1&t&&(r.Qb(0,"h4",0),r.tc(1),r.Pb(),r.Qb(2,"div",1),r.Qb(3,"label",2),r.tc(4,"Enter new task"),r.Pb(),r.Qb(5,"input",3),r.Yb("ngModelChange",function(t){return e.currentTask=t})("keydown.enter",function(){return e.enterTask()}),r.Pb(),r.Qb(6,"button",4),r.Yb("click",function(){return e.enterTask()}),r.tc(7,"Save"),r.Pb(),r.Pb(),r.sc(8,oT,7,5,"div",5)),2&t&&(r.Bb(1),r.vc("Tasks for ",e.clickedSchool,""),r.Bb(4),r.fc("ngModel",e.currentTask),r.Bb(3),r.fc("ngForOf",e.listOfTask))},directives:[Fv,i_,L_,D,dA,T,nT,qx],styles:[".icon-and-checkbox[_ngcontent-%COMP%]{display:grid;grid-template-columns:90% 5% 5%;margin-bottom:1vh}.checkbox[_ngcontent-%COMP%]{width:100%;color:#fff;border-radius:5%;margin-right:5vw;grid-column-start:1;background-color:#000}.delete-task[_ngcontent-%COMP%]{grid-column-start:2}.delete-task[_ngcontent-%COMP%], .edit-task[_ngcontent-%COMP%]{color:#fff;background-color:#000;margin-left:1vw;border-radius:50%;cursor:pointer}.edit-task[_ngcontent-%COMP%]{grid-column-start:3}.test-class[_ngcontent-%COMP%]{background-color:grey}.add-task[_ngcontent-%COMP%]{border-radius:50%;position:fixed;bottom:5px;right:5px;background-color:#000;color:#fff}.gray-background[_ngcontent-%COMP%]{background-color:grey}.task-entry[_ngcontent-%COMP%]{margin-bottom:1vh;display:grid;grid-template-columns:7% 88% 5%;height:4vh;position:sticky}.task-input[_ngcontent-%COMP%]{grid-column-start:2;border:solid #000}.task-button[_ngcontent-%COMP%]{grid-column-start:3}.task-label[_ngcontent-%COMP%]{grid-column-start:1}.header[_ngcontent-%COMP%], .task-label[_ngcontent-%COMP%]{font-weight:700;text-align:center}"]}),t})(),cT=(()=>{class t{constructor(t){this.router=t}canActivate(t,e){return sessionStorage.getItem("userName")&&sessionStorage.getItem("passwordEntered")?(console.log("true"),!0):(this.router.navigate(["/log-in"]),!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(ti))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const uT=[{path:"",component:Xx},{path:"home",component:Zx,canActivate:[cT]},{path:"to-do-list",component:aT,canActivate:[cT]},{path:"log-in",component:Xx}];let lT=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[hi.forRoot(uT)],hi]}),t})(),hT=(()=>{class t{constructor(){this.title="finalProject"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"header"],[1,"grad-school-planner"],[1,"hr"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"p",1),r.tc(2,"Graduate School Planner"),r.Pb(),r.Pb(),r.Mb(3,"hr",2),r.Mb(4,"router-outlet"))},directives:[ei],styles:[".header[_ngcontent-%COMP%]{background-color:#000;height:15%;display:grid;grid-template-rows:33% 33% 33%;position:sticky}.grad-school-planner[_ngcontent-%COMP%]{grid-row-start:2;text-align:center;font-size:175%;font-family:Trattatello,Bradley Hand,Brush Script MT,Snell Roundhand,cursive,fantasy,monospace;font-weight:700;color:#fff}.hr[_ngcontent-%COMP%]{background-color:#000}"]}),t})();new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map;let dT=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[bA,Lw]]}),t})();new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map;let fT=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[bA]]}),t})();new r.Q("11.0.0-beta.33");let pT=(()=>{class t{constructor(t,e){B(e)&&!t&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,n=[]){return{ngModule:t,providers:e.serverLoaded?[{provide:wA,useValue:Object.assign(Object.assign({},_A),e)},{provide:EA,useValue:n,multi:!0},{provide:CA,useValue:!0}]:[{provide:wA,useValue:Object.assign(Object.assign({},_A),e)},{provide:EA,useValue:n,multi:!0}]}}}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)(r.Ub(CA),r.Ub(r.C))},imports:[[dT,iT,fT],dT,iT,fT]}),t})(),mT=(()=>{class t{}return t.\u0275mod=r.Jb({type:t,bootstrap:[hT]}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[],imports:[[wt,lT,aO,ck,$x,pT,Qx,dx,hO,Ak,M_,pA,Ti.a.initializeApp(i),Tv]]}),t})();Object(r.U)(),vt().bootstrapModule(mT).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return c});var r=n("7o/Q"),i=n("HDdC"),s=n("SeVD");class o extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function c(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(s.a)(t)(e)}}},[[0,0]]]);